webpackJsonp([59],{829:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),c=n.n(s),l=n(32),p=n(48),u=n(54),m=n(122),h=(n.n(m),n(119)),d=n(8),g=n(26),x=n(5),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=i(["\n\theight: 60px;\n\tline-height: 60px;\n\tcolor: ",";\n\tfont-size: 16px;\n\tbox-shadow: 0px 1px 0px 0px #E2DFDE;\n\ttext-align: center;\n"],["\n\theight: 60px;\n\tline-height: 60px;\n\tcolor: ",";\n\tfont-size: 16px;\n\tbox-shadow: 0px 1px 0px 0px #E2DFDE;\n\ttext-align: center;\n"]),k=i(["\n\tmargin: 0;\n\tpadding: 16px;\n"],["\n\tmargin: 0;\n\tpadding: 16px;\n"]),E=i(["\n\tvertical-align: top;\n\tline-height: 40px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tcursor: pointer;\n\tfont-size: 13px;\n\t&:hover {\n\t\tcolor: ",";\n\t}\n"],["\n\tvertical-align: top;\n\tline-height: 40px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tcursor: pointer;\n\tfont-size: 13px;\n\t&:hover {\n\t\tcolor: ",";\n\t}\n"]),R=i(["\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin: 0 15px 0 0;\n\twidth: 20px;\n\theight: 20px;\n\tvertical-align: middle;\n\tbackground-color: ",";\n\tborder-radius: 50%;\n\tflex: inline-flex;\n\ttransition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\ttransition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\tborder: ",";\n"],["\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin: 0 15px 0 0;\n\twidth: 20px;\n\theight: 20px;\n\tvertical-align: middle;\n\tbackground-color: ",";\n\tborder-radius: 50%;\n\tflex: inline-flex;\n\ttransition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\ttransition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\tborder: ",";\n"]),y=i(["\n\tdisplay: block;\n\tmargin: 0 16px 16px;\n\ttextarea {\n\t\tpadding: 5px 5px 5px 10px;\n\t\twidth: 100%;\n\t\tline-height: 1.4em;\n\t\tborder: 1px solid ",";\n\t\tcolor: ",";\n\t\tfont-size: 13px;\n\t\tborder-radius: 3px;\n\t\tresize: none;\n\t}\n"],["\n\tdisplay: block;\n\tmargin: 0 16px 16px;\n\ttextarea {\n\t\tpadding: 5px 5px 5px 10px;\n\t\twidth: 100%;\n\t\tline-height: 1.4em;\n\t\tborder: 1px solid ",";\n\t\tcolor: ",";\n\t\tfont-size: 13px;\n\t\tborder-radius: 3px;\n\t\tresize: none;\n\t}\n"]),w=i(["\n\tmargin: 0 16px 16px;\n\tline-height: 1.4em;\n\tcolor: ",";\n\ttext-align: left;\n\tfont-size: 13px;\n"],["\n\tmargin: 0 16px 16px;\n\tline-height: 1.4em;\n\tcolor: ",";\n\ttext-align: left;\n\tfont-size: 13px;\n"]),v=i(["\n\tpadding: 16px;\n\tdisplay: flex;\n"],["\n\tpadding: 16px;\n\tdisplay: flex;\n"]),C=i(["\n\tmargin: 0;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tflex: 1;\n"],["\n\tmargin: 0;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tflex: 1;\n"]),_=i(["\n\tmargin: 0 0 0 10px;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tmin-width: 130px;\n"],["\n\tmargin: 0 0 0 10px;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tmin-width: 130px;\n"]),z=i(["\n\tposition: relative;\n\tpadding: 24px 14px;\n\ttext-align: center;\n"],["\n\tposition: relative;\n\tpadding: 24px 14px;\n\ttext-align: center;\n"]),S=i(["\n\twidth: 80px;\n\theight: 80px;\n\tmargin: auto auto 20px auto;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-image: url('images/smile.png');\n"],["\n\twidth: 80px;\n\theight: 80px;\n\tmargin: auto auto 20px auto;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-image: url('images/smile.png');\n"]),O=i(["\n\tline-height: 25px;\n\tmargin-bottom: 12px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tfont-size: 18px;\n"],["\n\tline-height: 25px;\n\tmargin-bottom: 12px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tfont-size: 18px;\n"]),D=i(["\n\tline-height: 1.5em;\n\tmargin-bottom: 0;\n\tcolor: ",";\n\tfont-weight: 300;\n\tfont-size: 13px;\n"],["\n\tline-height: 1.5em;\n\tmargin-bottom: 0;\n\tcolor: ",";\n\tfont-weight: 300;\n\tfont-size: 13px;\n"]),T=x.default.h6(b,g.e.Dark),A=x.default.ul(k),N=x.default.li(E,g.e.Dark2,g.e.Dark),j=x.default.div(R,g.e.Dark6,function(e){return e.selected?"6px solid "+g.e.Main:"none"}),I=x.default.div(y,g.e.Dark5,g.e.Dark),M=x.default.div(w,g.e.Error),F=x.default.div(v),P=g.b.Red.extend(C),W=g.b.Gray.extend(_),B=x.default.div(z),G=x.default.div(S),H=x.default.h6(O,g.e.Dark),J=x.default.p(D,g.e.Dark3),L=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeReson=n.changeReson.bind(n),n.onResonTextChange=n.onResonTextChange.bind(n),n.submit=n.submit.bind(n),n.sendNewsReport=n.sendNewsReport.bind(n),n.sendOtherReport=n.sendOtherReport.bind(n),n.state={isReporting:!1,isSuccess:!1,isNoReson:!1,isSystemError:!1,reson:-1,resonText:""},n}return a(t,e),f(t,[{key:"componentDidMount",value:function(){}},{key:"changeReson",value:function(e){this.setState({reson:e})}},{key:"onResonTextChange",value:function(e){this.setState({resonText:e.target.value})}},{key:"submit",value:function(){if(-1===this.state.reson)return void this.setState({isNoReson:!0});this.setState({isNoReson:!1}),this.setState({isReporting:!0}),6===this.props.reportItem.reporttype||8===this.props.reportItem.reporttype||11===this.props.reportItem.reporttype?this.sendNewsReport():this.sendOtherReport()}},{key:"sendNewsReport",value:function(){var e=this,t=this.props.reportItem,n=this.props.memberInfo,r=new FormData,o="",a="";a=this.props.reportbucketid?this.props.reportbucketid:6===t.authorType||62===t.authorType?t.authorID:t.currentBucketid,this.props.reportgroupid&&(o=this.props.reportgroupid),r.append("nationid",t.nationID),r.append("email",n?n.email:""),r.append("reporttype",this.state.reson),r.append("itemid",t.mixnewsitemid),r.append("bucketid",a),r.append("groupid",o),r.append("description",this.state.resonText?this.state.resonText:""),d.a.fetchWithCookies("/MixNewsReportAction.do?op=report",{method:"POST",body:r}).then(function(n){n.json().then(function(n){!n||n.error?n.error&&"error.rscNotExist"===n.error.code?e.setState({isReporting:!1,isSuccess:!0}):e.setState({isReporting:!1,isSystemError:!0}):(e.setState({isReporting:!1,isSuccess:!0}),e.props.gaActions.reportNewsItem(t),102===e.state.reson&&o&&!a?e.props.gaActions.reportWrongClassificateBucketGrpNews(t.mixnewsitemid,o):102===e.state.reson&&a&&e.props.gaActions.reportWrongClassificateBucketNews(t.mixnewsitemid,a))},function(t){e.setState({isReporting:!1,isSystemError:!0})})}).catch(function(t){e.setState({isReporting:!1,isSystemError:!0})})}},{key:"sendOtherReport",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.reportItem,r=t.t;if(!n)return null;var o=6===n.reporttype||8===n.reporttype||11===n.reporttype;return c.a.createElement(g.f.Content,{maxWidth:"380px",padding:"0",borderRadius:"3px",visible:!0,animation:"zoom",maskAnimation:"fade",closable:!1,onClose:function(){return e.props.webActions.closeReportDialog()}},c.a.createElement(g.f.CloseButton,{onClick:function(){return e.props.webActions.closeReportDialog()}},c.a.createElement("i",{className:"zmdi zmdi-close"})),this.state.isSuccess?c.a.createElement(B,null,c.a.createElement(G,null),c.a.createElement(H,null,c.a.createElement(h.a,{"translate-key":"component_reportSuccessTitle"},"\u611f\u8b1d\u60a8\u7684\u56de\u5831")),c.a.createElement(J,null,c.a.createElement(h.a,{"translate-key":"component_reportSuccessDesc"},"\u6211\u5011\u5c07\u5118\u901f\u6aa2\u8996\u60a8\u6aa2\u8209\u7684\u5167\u5bb9\uff0c\u611f\u8b1d\u60a8\u63d0\u4f9b\u56de\u5831\u3002"))):c.a.createElement("div",null,c.a.createElement(T,null,c.a.createElement(h.a,{"translate-key":"component_reportNotGoodContentReson"},"\u6aa2\u8209\u4e0d\u6d3d\u7576\u7684\u5167\u5bb9")),o?c.a.createElement(A,null,11===n.reporttype?c.a.createElement(N,{onClick:function(){return e.changeReson(102)}},c.a.createElement(j,{selected:102===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportWrongClassificationReson"},"\u5206\u985e\u932f\u8aa4\u7684\u65b0\u805e")):null,c.a.createElement(N,{onClick:function(){return e.changeReson(5)}},c.a.createElement(j,{selected:5===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportFakeNewsReson"},"\u9019\u662f\u5047\u65b0\u805e")),c.a.createElement(N,{onClick:function(){return e.changeReson(3)}},c.a.createElement(j,{selected:3===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportImproperReson"},"\u9019\u662f\u8272\u60c5\u6216\u662f\u66b4\u529b\u7684\u5167\u5bb9")),c.a.createElement(N,{onClick:function(){return e.changeReson(4)}},c.a.createElement(j,{selected:4===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportADReson"},"\u9019\u662f\u5ee3\u544a\u6587")),c.a.createElement(N,{onClick:function(){return e.changeReson(101)}},c.a.createElement(j,{selected:101===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportWrongThumbnailReson"},"\u4e0d\u6b63\u78ba\u7684\u7e2e\u5716")),c.a.createElement(N,{onClick:function(){return e.changeReson(100)}},c.a.createElement(j,{selected:100===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportOtherReson"},"\u5176\u4ed6"))):c.a.createElement(A,null,c.a.createElement(N,{onClick:function(){return e.changeReson(3)}},c.a.createElement(j,{selected:3===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportWrongClassificationReson"},"\u5206\u985e\u932f\u8aa4")),c.a.createElement(N,{onClick:function(){return e.changeReson(6)}},c.a.createElement(j,{selected:6===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportWrongThumbnailReson"},"\u4e0d\u6b63\u78ba\u7684\u7e2e\u5716")),c.a.createElement(N,{onClick:function(){return e.changeReson(4)}},c.a.createElement(j,{selected:4===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportContentTooLowReson"},"\u5167\u5bb9\u54c1\u8cea\u592a\u5dee")),c.a.createElement(N,{onClick:function(){return e.changeReson(2)}},c.a.createElement(j,{selected:2===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportHarassmentReson"},"\u9a37\u64fe\u5167\u5bb9")),c.a.createElement(N,{onClick:function(){return e.changeReson(1)}},c.a.createElement(j,{selected:1===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportIPReson"},"\u9055\u53cd\u667a\u6167\u8ca1\u7522\u6b0a")),c.a.createElement(N,{onClick:function(){return e.changeReson(5)}},c.a.createElement(j,{selected:5===this.state.reson}),c.a.createElement(h.a,{"translate-key":"component_reportOtherReson"},"\u5176\u4ed6"))),c.a.createElement(I,null,c.a.createElement("textarea",{placeholder:r("component_inputResonForThisReport"),rows:"3",value:this.state.resonText,onChange:this.onResonTextChange})),this.state.isNoReson?c.a.createElement(M,null,c.a.createElement(h.a,{"translate-key":"serverRtnMsg_noResonError"},"\u8acb\u9078\u64c7\u6aa2\u8209\u539f\u56e0\u3002")):null,this.state.isSystemError?c.a.createElement(M,null,c.a.createElement(h.a,{"translate-key":"serverRtnMsg_systemError"},"\u767c\u751f\u672a\u77e5\u7684\u932f\u8aa4\uff0c\u8acb\u9ede\u64ca\u9001\u51fa\u518d\u8a66\u8a66\u770b\u3002")):null,c.a.createElement(F,null,c.a.createElement(P,{onClick:this.submit,disable:this.state.isReporting},this.state.isReporting?c.a.createElement(g.i.Spin,{color:"#FFF",margin:"0 16px 0 0"}):null,c.a.createElement(h.a,{"translate-key":"component_reportSubmit"},"\u78ba\u8a8d\uff0c\u9001\u51fa\u6aa2\u8209")),c.a.createElement(W,{onClick:function(){return e.props.webActions.closeReportDialog()}},c.a.createElement(h.a,{"translate-key":"component_cancel"},"\u53d6\u6d88")))))}}]),t}(s.Component),q=function(e){return{reportItem:e.web.reportItem,reportgroupid:e.web.reportgroupid,reportbucketid:e.web.reportbucketid,memberInfo:e.member.memberInfo,mixnewsMap:e.mixNews.mixnewsMap,bucketMap:e.bucket.bucketMap}},K=function(e){return{webActions:Object(l.bindActionCreators)(u.a.webActionCreators,e),memberActions:Object(l.bindActionCreators)(u.a.memberActionCreators,e),gaActions:Object(l.bindActionCreators)(u.a.gaActionCreators,e)}};t.default=Object(p.b)(q,K,null,{withRef:!0})(Object(m.translate)("translations")(L))}});
//# sourceMappingURL=59.098f49e8.chunk.js.map