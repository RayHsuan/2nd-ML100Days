webpackJsonp([65],{866:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),s=n.n(l),c=n(32),p=n(48),u=n(54),d=n(2),g=n.n(d),h=n(5),x=n(26),m=n(119),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=r(["\n\theight: 60px;\n\tline-height: 60px;\n\tcolor: ",";\n\tfont-size: 16px;\n\tbox-shadow: 0px 1px 0px 0px #E2DFDE;\n\ttext-align: center;\n"],["\n\theight: 60px;\n\tline-height: 60px;\n\tcolor: ",";\n\tfont-size: 16px;\n\tbox-shadow: 0px 1px 0px 0px #E2DFDE;\n\ttext-align: center;\n"]),k=r(["\n\tmargin: 0;\n\tpadding: 16px;\n"],["\n\tmargin: 0;\n\tpadding: 16px;\n"]),w=r(["\n\tvertical-align: top;\n\tline-height: 40px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tcursor: pointer;\n\tfont-size: 13px;\n\t&:hover {\n\t\tcolor: ",";\n\t}\n"],["\n\tvertical-align: top;\n\tline-height: 40px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tcursor: pointer;\n\tfont-size: 13px;\n\t&:hover {\n\t\tcolor: ",";\n\t}\n"]),E=r(["\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin: 0 15px 0 0;\n\twidth: 20px;\n\theight: 20px;\n\tvertical-align: middle;\n\tbackground-color: ",";\n\tborder-radius: 50%;\n\tflex: inline-flex;\n\ttransition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\ttransition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\tborder: ",";\n"],["\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin: 0 15px 0 0;\n\twidth: 20px;\n\theight: 20px;\n\tvertical-align: middle;\n\tbackground-color: ",";\n\tborder-radius: 50%;\n\tflex: inline-flex;\n\ttransition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\ttransition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\tborder: ",";\n"]),v=r(["\n\tdisplay: block;\n\tmargin: 0 16px 16px;\n\ttextarea {\n\t\tpadding: 5px 5px 5px 10px;\n\t\twidth: 100%;\n\t\tline-height: 1.4em;\n\t\tborder: 1px solid ",";\n\t\tcolor: ",";\n\t\tfont-size: 13px;\n\t\tborder-radius: 3px;\n\t\tresize: none;\n\t}\n"],["\n\tdisplay: block;\n\tmargin: 0 16px 16px;\n\ttextarea {\n\t\tpadding: 5px 5px 5px 10px;\n\t\twidth: 100%;\n\t\tline-height: 1.4em;\n\t\tborder: 1px solid ",";\n\t\tcolor: ",";\n\t\tfont-size: 13px;\n\t\tborder-radius: 3px;\n\t\tresize: none;\n\t}\n"]),y=r(["\n\tmargin: 0 16px 16px;\n\tline-height: 1.4em;\n\tcolor: ",";\n\ttext-align: left;\n\tfont-size: 13px;\n"],["\n\tmargin: 0 16px 16px;\n\tline-height: 1.4em;\n\tcolor: ",";\n\ttext-align: left;\n\tfont-size: 13px;\n"]),R=r(["\n\tpadding: 16px;\n\tdisplay: flex;\n"],["\n\tpadding: 16px;\n\tdisplay: flex;\n"]),z=r(["\n\tmargin: 0;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tflex: 1;\n"],["\n\tmargin: 0;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tflex: 1;\n"]),D=r(["\n\tmargin: 0 0 0 10px;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tmin-width: 130px;\n"],["\n\tmargin: 0 0 0 10px;\n\theight: 36px;\n\tline-height: 36px;\n\tfont-weight: 600;\n\tmin-width: 130px;\n"]),C=r(["\n\tposition: relative;\n\tpadding: 24px 14px;\n\ttext-align: center;\n"],["\n\tposition: relative;\n\tpadding: 24px 14px;\n\ttext-align: center;\n"]),S=r(["\n\twidth: 80px;\n\theight: 80px;\n\tmargin: auto auto 20px auto;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-image: url('images/smile.png');\n"],["\n\twidth: 80px;\n\theight: 80px;\n\tmargin: auto auto 20px auto;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-image: url('images/smile.png');\n"]),O=r(["\n\tline-height: 25px;\n\tmargin-bottom: 12px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tfont-size: 18px;\n"],["\n\tline-height: 25px;\n\tmargin-bottom: 12px;\n\tcolor: ",";\n\tfont-weight: 600;\n\tfont-size: 18px;\n"]),_=r(["\n\tline-height: 1.5em;\n\tmargin-bottom: 0;\n\tcolor: ",";\n\tfont-weight: 300;\n\tfont-size: 13px;\n"],["\n\tline-height: 1.5em;\n\tmargin-bottom: 0;\n\tcolor: ",";\n\tfont-weight: 300;\n\tfont-size: 13px;\n"]),j=h.default.h6(b,x.e.Dark),T=h.default.ul(k),A=h.default.li(w,x.e.Dark2,x.e.Dark),q=h.default.div(E,x.e.Dark6,function(t){return t.selected?"6px solid "+x.e.Main:"none"}),P=h.default.div(v,x.e.Dark5,x.e.Dark),F=h.default.div(y,x.e.Error),N=h.default.div(R),H=x.b.Red.extend(z),Q=x.b.Gray.extend(D),M=h.default.div(C),B=h.default.div(S),G=h.default.h6(O,x.e.Dark),I=h.default.p(_,x.e.Dark3),J=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.closeDialog=n.closeDialog.bind(n),n.onResonTextChangeHandler=n.onResonTextChangeHandler.bind(n),n.changeReson=n.changeReson.bind(n),n.submit=n.submit.bind(n),n.state={reson:null,resonText:"",isNoReson:!1,isSuccess:!1,isSystemError:!1,isReporting:!1},n}return o(e,t),f(e,[{key:"closeDialog",value:function(){this.props.kwassistActions.hideKwassistReportQADialog()}},{key:"onResonTextChangeHandler",value:function(t){var e=t.target.value;this.setState({resonText:e})}},{key:"changeReson",value:function(t){this.setState({reson:t})}},{key:"submit",value:function(){var t=this,e=this.state,n=e.reson,i=e.resonText,a=this.props,o=a.qid,r=a.answerid,l=a.assistid,s=a.email;if(!i.trim())return void this.setState({isNoReson:!0});this.setState({isNoReson:!1,isReporting:!0},function(){t.props.kwassistActions.kwassistReport({reporttype:n,assistid:l,qid:o,answerid:r,description:i.trim(),email:s}).then(function(){t.setState({isSuccess:!0})}).catch(function(){t.setState({isSystemError:!0})})})}},{key:"render",value:function(){var t=this,e=this.state.reson;return s.a.createElement(x.f.Content,{maxWidth:"380px",padding:"0",borderRadius:"3px",visible:!0,animation:"zoom",maskAnimation:"fade",closable:!1,onClose:this.closeDialog},s.a.createElement(x.f.CloseButton,{onClick:this.closeDialog},s.a.createElement("i",{className:"zmdi zmdi-close"})),this.state.isSuccess?s.a.createElement(M,null,s.a.createElement(B,null),s.a.createElement(G,null,s.a.createElement(m.a,{"translate-key":"component_reportSuccessTitle"},"\u611f\u8b1d\u60a8\u7684\u56de\u5831")),s.a.createElement(I,null,s.a.createElement(m.a,{"translate-key":"component_reportSuccessDesc"},"\u6211\u5011\u5c07\u5118\u901f\u6aa2\u8996\u60a8\u6aa2\u8209\u7684\u5167\u5bb9\uff0c\u611f\u8b1d\u60a8\u63d0\u4f9b\u56de\u5831\u3002"))):s.a.createElement("div",null,s.a.createElement(j,null,s.a.createElement(m.a,null,"\u8acb\u52fe\u9078\u6aa2\u8209\u7684\u539f\u56e0")),s.a.createElement(T,null,s.a.createElement(A,{onClick:function(){return t.changeReson(1)}},s.a.createElement(q,{selected:1===e}),s.a.createElement(m.a,null,"\u4e0d\u7576\u5167\u5bb9 (\u8272\u60c5\u6216\u662f\u66b4\u529b\u5167\u5bb9)")),s.a.createElement(A,{onClick:function(){return t.changeReson(2)}},s.a.createElement(q,{selected:2===e}),s.a.createElement(m.a,null,"\u5ee3\u544a\u5167\u5bb9")),s.a.createElement(A,{onClick:function(){return t.changeReson(3)}},s.a.createElement(q,{selected:3===e}),s.a.createElement(m.a,null,"\u5047\u65b0\u805e\u6216\u662f\u5047\u9020\u7684\u5167\u5bb9")),s.a.createElement(A,{onClick:function(){return t.changeReson(100)}},s.a.createElement(q,{selected:100===e}),s.a.createElement(m.a,null,"\u5176\u4ed6"))),s.a.createElement(P,null,s.a.createElement("textarea",{placeholder:"\u8acb\u8f38\u5165\u8209\u5831\u7684\u63cf\u8ff0",rows:"3",value:this.state.resonText,onChange:this.onResonTextChangeHandler})),this.state.isNoReson&&s.a.createElement(F,null,s.a.createElement(m.a,null,"\u8acb\u9078\u64c7\u6aa2\u8209\u539f\u56e0\u3002")),this.state.isSystemError&&s.a.createElement(F,null,s.a.createElement(m.a,null,"\u767c\u751f\u672a\u77e5\u7684\u932f\u8aa4\uff0c\u8acb\u9ede\u64ca\u9001\u51fa\u518d\u8a66\u8a66\u770b\u3002")),s.a.createElement(N,null,s.a.createElement(H,{onClick:this.submit,disable:this.state.isReporting},this.state.isReporting&&s.a.createElement(x.i.Spin,{color:"#FFF",margin:"0 16px 0 0"}),s.a.createElement(m.a,{"translate-key":"component_reportSubmit"},"\u78ba\u8a8d\uff0c\u9001\u51fa\u6aa2\u8209")),s.a.createElement(Q,{onClick:this.closeDialog},s.a.createElement(m.a,{"translate-key":"component_cancel"},"\u53d6\u6d88")))))}}]),e}(l.Component);J.propTypes={qid:g.a.string,answerid:g.a.string,assistid:g.a.string.isRequired,email:g.a.string};var K=function(t){return{assistid:t.kwassist.kwassistReportQADialog.assistid,qid:t.kwassist.kwassistReportQADialog.qid,answerid:t.kwassist.kwassistReportQADialog.answerid,email:t.member.memberInfo.email}},W=function(t){return{kwassistActions:Object(c.bindActionCreators)(u.a.kwassistActionCreators,t)}};e.default=Object(p.b)(K,W,null,{withRef:!0})(J)}});
//# sourceMappingURL=65.40f05953.chunk.js.map