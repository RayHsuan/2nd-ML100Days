webpackJsonp([49],{826:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=n.n(o),c=n(32),s=n(48),d=n(54),p=n(8),m=n(119),f=n(293),x=n(877),h=n(294),g=n(5),b=n(26),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=l([""],[""]),y=l(["\n\tborder-top: 1px solid #E1E1E1;\n\tborder-left: 1px solid #E1E1E1;\n\tborder-right: 1px solid #E1E1E1;\n\tborder-bottom:  1px solid #DDDDDD;\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\tbackground-color: #FFF;\n\twidth: 500px;\n\tz-index: 1500;\n\tcursor: move;\n\ttransition: z-index .3s .3s;\n\ttransform: translateX(-50%) translateY(-50%);\n"],["\n\tborder-top: 1px solid #E1E1E1;\n\tborder-left: 1px solid #E1E1E1;\n\tborder-right: 1px solid #E1E1E1;\n\tborder-bottom:  1px solid #DDDDDD;\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\tbackground-color: #FFF;\n\twidth: 500px;\n\tz-index: 1500;\n\tcursor: move;\n\ttransition: z-index .3s .3s;\n\ttransform: translateX(-50%) translateY(-50%);\n"]),w=l(["\n\tposition: absolute;\n\ttop: -29px;\n\tright: 0;\n\theight: 30px;\n\tline-height: 30px;\n\tpadding: 0 20px;\n\tbackground-color: #FFF;\n\tborder: 1px solid #DDD;\n\tcursor: pointer;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n"],["\n\tposition: absolute;\n\ttop: -29px;\n\tright: 0;\n\theight: 30px;\n\tline-height: 30px;\n\tpadding: 0 20px;\n\tbackground-color: #FFF;\n\tborder: 1px solid #DDD;\n\tcursor: pointer;\n\tborder-radius: 3px;\n\tfont-size: 14px;\n\n"]),k=l(["\n\tpadding: 10px;\n\tborder: 1px solid #DDD;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n"],["\n\tpadding: 10px;\n\tborder: 1px solid #DDD;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n"]),D=l(["\n\twidth: 60px;\n\theight: 45px;\n\tbackground-color: #EEE;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n"],["\n\twidth: 60px;\n\theight: 45px;\n\tbackground-color: #EEE;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n"]),M=l(["\n\tmargin-left: 10px;\n\tflex: 1;\n\tcolor: #333;\n\tline-height: 1.4em;\n\tmax-height: 1.4em * 2;\n\toverflow: hidden;\n\tfont-size: 14px;\n"],["\n\tmargin-left: 10px;\n\tflex: 1;\n\tcolor: #333;\n\tline-height: 1.4em;\n\tmax-height: 1.4em * 2;\n\toverflow: hidden;\n\tfont-size: 14px;\n"]),z=l(["\n\theight: 30px;\n\tline-height: 30px;\n\tborder-top: 1px solid #CCC;\n\tdisplay: flex;\n"],["\n\theight: 30px;\n\tline-height: 30px;\n\tborder-top: 1px solid #CCC;\n\tdisplay: flex;\n"]),N=l(["\n\ttext-align: right;\n\tpadding: 0 10px;\n\tflex: 1;\n\tfont-size: 14px;\n"],["\n\ttext-align: right;\n\tpadding: 0 10px;\n\tflex: 1;\n\tfont-size: 14px;\n"]),T=l(["\n\tcolor: #565151;\n\tfont-size: 12px;\n"],["\n\tcolor: #565151;\n\tfont-size: 12px;\n"]),C=l(["\n\tfont-weight: 600;\n\tcolor: ",";\t\n"],["\n\tfont-weight: 600;\n\tcolor: ",";\t\n"]),O=l(["\n\tpadding: 0 10px;\n\tfont-weight: 600;\n\tfont-size: 14px;\n"],["\n\tpadding: 0 10px;\n\tfont-weight: 600;\n\tfont-size: 14px;\n"]),_=l(["\n\tmargin: 0;\n    height: 30px;\n    line-height: 30px;\n    padding: 0 10px;\n\tfont-size: 14px;\n"],["\n\tmargin: 0;\n    height: 30px;\n    line-height: 30px;\n    padding: 0 10px;\n\tfont-size: 14px;\n"]),F=l(["\n\theight: 30px;\n\tline-height: 30px;\n\tdisplay: flex;\n"],["\n\theight: 30px;\n\tline-height: 30px;\n\tdisplay: flex;\n"]),P=l(["\n\tpadding: 0 10px;\n\tflex: 1;\n\tjustify-content: flex-end;\n\tdisplay: inline-flex;\n\tfont-size: 14px;\n"],["\n\tpadding: 0 10px;\n\tflex: 1;\n\tjustify-content: flex-end;\n\tdisplay: inline-flex;\n\tfont-size: 14px;\n"]),j=l(["\n\tpadding: 0 10px;\n"],["\n\tpadding: 0 10px;\n"]),S=l(["\n\tfont-weight: 600;\n"],["\n\tfont-weight: 600;\n"]),A=l(["\n\tborder-top: 1px solid ",";\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin: 0;\n"],["\n\tborder-top: 1px solid ",";\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin: 0;\n"]),Y=l(["\n\twidth: 33.3%;\n\theight: 30px;\n\tline-height: 30px;\n\tborder-bottom: 1px solid ",";\n\tborder-right: 1px solid ",";\n\tpadding: 0 4px;\n\tdisplay: inline-flex;\n\tfont-size: 14px;\t\n\t&:nth-child(3n) {\n\t\tborder-right: none;\n\t}\n"],["\n\twidth: 33.3%;\n\theight: 30px;\n\tline-height: 30px;\n\tborder-bottom: 1px solid ",";\n\tborder-right: 1px solid ",";\n\tpadding: 0 4px;\n\tdisplay: inline-flex;\n\tfont-size: 14px;\t\n\t&:nth-child(3n) {\n\t\tborder-right: none;\n\t}\n"]),R=l(["\n\twhite-space: nowrap; \n\toverflow: hidden;\n\ttext-overflow: ellipsis; \n\tflex: 1;\n"],["\n\twhite-space: nowrap; \n\toverflow: hidden;\n\ttext-overflow: ellipsis; \n\tflex: 1;\n"]),I=l(["\n\tmargin: 0;\n"],["\n\tmargin: 0;\n"]),B=l(["\n\theight: 30px;\n\tline-height: 30px; \n\tdisplay: flex;\n"],["\n\theight: 30px;\n\tline-height: 30px; \n\tdisplay: flex;\n"]),X=l(["\n\tpadding: 0 10px;\n\tfont-weight: 600;\n\tflex: 1;\n\tfont-size: 14px;\n"],["\n\tpadding: 0 10px;\n\tfont-weight: 600;\n\tflex: 1;\n\tfont-size: 14px;\n"]),U=l(["\n\tpadding: 0 10px;\n\twidth: 76px;\n\tmin-width: 76px;\n\tfont-weight: 600;\n\tfont-size: 14px;\n"],["\n\tpadding: 0 10px;\n\twidth: 76px;\n\tmin-width: 76px;\n\tfont-weight: 600;\n\tfont-size: 14px;\n"]),G=l(["\n\tpadding: 0 10px;\n\tflex: 1;\n\tfont-size: 14px;\n"],["\n\tpadding: 0 10px;\n\tflex: 1;\n\tfont-size: 14px;\n"]),L=l(["\n\tpadding: 0 10px;\n\twidth: 76px;\n\tmin-width: 76px;\n\ttext-align: right;\n\tfont-size: 14px;\n"],["\n\tpadding: 0 10px;\n\twidth: 76px;\n\tmin-width: 76px;\n\ttext-align: right;\n\tfont-size: 14px;\n"]),W=l(["\n\tbackground-color: ",";\n\t"," {\n\t\tborder-top: 1px solid ",";\n\t}\n"],["\n\tbackground-color: ",";\n\t"," {\n\t\tborder-top: 1px solid ",";\n\t}\n"]),V=l(["\n\tbackground-color: ",";\n\t",", ",", "," {\n\t\tborder-top: 1px solid ",";\n\t}\t\n"],["\n\tbackground-color: ",";\n\t",", ",", "," {\n\t\tborder-top: 1px solid ",";\n\t}\t\n"]),$=l(["\n\tbackground-color: ",";\n\t",", ",", "," {\n\t\tborder-top: 1px solid ",";\n\t}\n"],["\n\tbackground-color: ",";\n\t",", ",", "," {\n\t\tborder-top: 1px solid ",";\n\t}\n"]),q=p.a.ctypeToInt,J=g.default.div(v),H=g.default.div(y),K=g.default.div(w),Q=g.default.div(k),Z=g.default.div(D),ee=g.default.div(M),te=g.default.div(z),ne=g.default.div(N),ae=g.default.span(T),re=g.default.span(C,b.e.Blue),ie=g.default.span(C,b.e.Green),le=g.default.span(C,b.e.Red),oe=g.default.span(O),ue=g.default.div(v),ce=g.default.div(_),se=g.default.div(F),de=g.default.div(P),pe=g.default.span(T),me=g.default.div(j),fe=g.default.span(S),xe=g.default.ul(A,b.e.Blue),he=g.default.li(Y,b.e.Blue,b.e.Blue),ge=g.default.div(R),be=g.default.div(S),Ee=g.default.ul(I),ve=g.default.div(B),ye=g.default.div(X),we=g.default.div(U),ke=g.default.div(U),De=g.default.li(F),Me=g.default.div(G),ze=g.default.div(L),Ne=g.default.div(L),Te=ue.extend(W,b.e.RGBA(b.e.Blue,.2),se,b.e.Blue),Ce=ue.extend(V,b.e.RGBA(b.e.Green,.2),se,ve,De,b.e.Green),Oe=ue.extend($,b.e.RGBA(b.e.Red,.2),se,ve,De,b.e.Red),_e=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getMixNewsItemThumbnailURL=n.getMixNewsItemThumbnailURL.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onMouseleave=n.onMouseleave.bind(n),n.close=n.close.bind(n),n.state={movingEvent:{}},n}return i(t,e),E(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.metrics;return u.a.createElement(J,null,t.map(function(t,n){var a=t.uid,r=t.item,i=Array.isArray(t.keytrend)?t.keytrend:[],l=Array.isArray(t.uidtimelogs)?t.uidtimelogs:[],o=Array.isArray(t.socialtimelogs)?t.socialtimelogs:[],c=e.getMixNewsItemThumbnailURL(r),s=e.state.movingEvent[a],d=0,p=0;return s&&(isNaN(s.x)||(p=s.x+"px"),isNaN(s.y)||(d=s.y+"px")),u.a.createElement(H,{key:a,onMouseDown:function(n){return e.onMouseDown(n,t)},onMouseMove:function(n){return e.onMouseMove(n,t)},onMouseUp:function(n){return e.onMouseUp(n,t)},onMouseLeave:function(n){return e.onMouseleave(n,t)},style:{marginTop:d,marginLeft:p}},u.a.createElement(Q,null,u.a.createElement(f.a,{stylecomponent:Z,isBackgroundImage:!0,fallbackFailCallback:e.fallbackCallback,onLoaded:e.onThumbnailurlLoaded,src:c}),u.a.createElement(ee,null,r.title)),i.length>0?u.a.createElement(Te,null,u.a.createElement(ce,null,"\u76f8\u95dc\u5167\u5bb9\u8da8\u52e2"),u.a.createElement(xe,null,i.map(function(e,t){return u.a.createElement(he,{key:e.key},u.a.createElement(ge,null,e.key),u.a.createElement(be,null,u.a.createElement(x.a,{number:e.value,format:"social"})))})),u.a.createElement(se,null,u.a.createElement(de,null,u.a.createElement(pe,null,"\u5206\u6578\u52a0\u7e3d\u6703\u4e0d\u4e00\u6a23\u662f\u56e0\u70ba\u4e0a\u9762\u986f\u793a\u7684\u5206\u6578\u662f\u7acb\u5373\u8a08\u7b97\u7684")),u.a.createElement(me,null,"= ",u.a.createElement(fe,null,u.a.createElement(x.a,{number:r.keywordtrend,format:"social"}))))):null,l.length>0?u.a.createElement(Ce,null,u.a.createElement(ce,null,"\u6587\u7ae0\u6d3b\u8000\u5ea6"),u.a.createElement(Ee,null,u.a.createElement(ve,null,u.a.createElement(ye,null,"\u66f4\u65b0\u6642\u9593"),u.a.createElement(we,null,"\u5206\u6578\u8b8a\u5316"),u.a.createElement(ke,null,"\u52a0\u5206\u6b0a\u91cd")),l.map(function(e,t){return u.a.createElement(De,{key:e.timesection},u.a.createElement(Me,null,u.a.createElement(h.a,{time:e.timesection,format:"simpleFullTime"})),u.a.createElement(ze,null,u.a.createElement(x.a,{number:e.scorediff,decimal:1})),u.a.createElement(Ne,null,u.a.createElement(x.a,{number:e.timeweight,decimal:1})))})),u.a.createElement(se,null,u.a.createElement(de,null,u.a.createElement(x.a,{number:t.uidTotalScore,format:"social"}),"x",u.a.createElement(x.a,{number:t.uidTimeweight,decimal:1}),u.a.createElement(pe,null,"(\u4f9d\u6642\u9593\u52a0\u6b0a)")),u.a.createElement(me,null,"= ",u.a.createElement(fe,null,u.a.createElement(x.a,{number:t.uidTotalScoreWithWeight,format:"social"}))))):null,o.length>0?u.a.createElement(Oe,null,u.a.createElement(ce,null,"\u6587\u7ae0\u6d3b\u8000\u5ea6"),u.a.createElement(Ee,null,u.a.createElement(ve,null,u.a.createElement(ye,null,"\u66f4\u65b0\u6642\u9593"),u.a.createElement(we,null,"\u5206\u6578\u8b8a\u5316"),u.a.createElement(ke,null,"\u52a0\u5206\u6b0a\u91cd")),o.map(function(e,t){return u.a.createElement(De,{key:e.timesection},u.a.createElement(Me,null,u.a.createElement(h.a,{time:e.timesection,format:"simpleFullTime"})),u.a.createElement(ze,null,u.a.createElement(x.a,{number:e.scorediff,decimal:1})),u.a.createElement(Ne,null,u.a.createElement(x.a,{number:e.timeweight,decimal:1})))})),u.a.createElement(se,null,u.a.createElement(de,null,u.a.createElement(x.a,{number:t.uidTotalScore,format:"social"}),"x",u.a.createElement(x.a,{number:t.uidTimeweight,decimal:1}),u.a.createElement(pe,null,"(\u4f9d\u6642\u9593\u52a0\u6b0a)")),u.a.createElement(me,null,"= ",u.a.createElement(fe,null,u.a.createElement(x.a,{number:t.uidTotalScoreWithWeight,format:"social"}))))):null,u.a.createElement(te,null,u.a.createElement(ne,null,u.a.createElement(re,null,u.a.createElement(x.a,{number:r.keywordtrend,format:"social"})),"x 1",u.a.createElement(ae,null,"(\u52a0\u6b0a)"),"+",u.a.createElement(ie,null,u.a.createElement(x.a,{number:t.uidTotalScoreWithWeight,format:"social"})),"x 2",u.a.createElement(ae,null,"(\u52a0\u6b0a)"),"+",u.a.createElement(le,null,u.a.createElement(x.a,{number:t.socialTotalScoreWithWeight,format:"social"})),"x 1",u.a.createElement(ae,null,"(\u52a0\u6b0a)")),u.a.createElement(oe,null,"= ",u.a.createElement(x.a,{number:t.totalscore,format:"social"}))),u.a.createElement(K,{onClick:function(t){return e.close(t,r)}},u.a.createElement("i",{className:"zmdi zmdi-close"})," ",u.a.createElement(m.a,{"translate-key":"component_close"},"\u95dc\u9589")))}))}},{key:"onMouseDown",value:function(e,t){if(0===e.button){var n=t.uid,a=this.state.movingEvent;a[n]?(a[n].isDragging=!0,a[n].startClientX=e.clientX,a[n].startClientY=e.clientY,a[n].startX=a[n].x,a[n].startY=a[n].y):a[n]={isDragging:!0,startClientX:e.clientX,startClientY:e.clientY,startX:0,startY:0,x:0,y:0},this.setState({movingEvent:a})}}},{key:"onMouseMove",value:function(e,t){var n=t.uid,a=this.state.movingEvent;if(!!a[n]&&a[n].isDragging){var r=e.clientX,i=e.clientY,l=a[n].startClientX,o=a[n].startClientY,u=r-l,c=i-o,s=a[n].startX,d=a[n].startY,p=s+u,m=d+c;a[n].x=p,a[n].y=m,this.setState({movingEvent:a})}}},{key:"onMouseUp",value:function(e,t){var n=t.uid,a=this.state.movingEvent;a[n]&&(a[n].isDragging=!1,this.setState({movingEvent:a}))}},{key:"onMouseleave",value:function(e,t){var n=t.uid,a=this.state.movingEvent;a[n]&&(a[n].isDragging=!1,this.setState({movingEvent:a}))}},{key:"close",value:function(e,t){this.props.mixNewsActions.closeMetricsMetricsDetail(t.mixnewsitemid)}},{key:"getMixNewsItemThumbnailURL",value:function(e){return e&&e.thumbnailurl?e.authorMrscid&&e.isLocalUpload?e.ctype===q.CTYPE_IMAGE||e.ctype===q.CTYPE_VIDEO?e.thumbnailurl.replace("large","medium"):e.ctype===q.CTYPE_WEBPAGE?p.a.getPubImageSource(e.thumbnailurl,"small"):e.thumbnailurl:e.ctype===q.CTYPE_IMAGE||e.ctype===q.CTYPE_VIDEO?p.a.getPubImageSource(e.thumbnailurl,"medium"):p.a.getPubImageSource(e.thumbnailurl,"small"):null}}]),t}(o.Component),Fe=function(e){return{metrics:e.mixNews.metrics}},Pe=function(e){return{mixNewsActions:Object(c.bindActionCreators)(d.a.mixNewsActionCreators,e)}};t.default=Object(s.b)(Fe,Pe,null,{withRef:!0})(_e)},877:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(1),o=n.n(l),u=n(2),c=n.n(u),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.formatNumber=n.formatNumber.bind(n),n.baseFormatNumber=n.baseFormatNumber.bind(n),n}return i(t,e),s(t,[{key:"formatNumber",value:function(){var e=this.props.number,t=this.props.decimal;switch(this.props.format){case"social":return this.formatSocialNumber(e);case"default":default:return this.baseFormatNumber(e,t)}}},{key:"formatSocialNumber",value:function(e){return e>=1e6?this.baseFormatNumber(e/1e6,1)+"M":e>=1e3?this.baseFormatNumber(e/1e3,1)+"k":this.baseFormatNumber(e,0)}},{key:"baseFormatNumber",value:function(e,t){if(isNaN(e))return 0;for(var n=e.toFixed(t)+"",a=n.split("."),r=a[0],i=a.length>1?"."+a[1]:"",l=/(\d+)(\d{3})/;l.test(r);)r=r.replace(l,"$1,$2");return r+i}},{key:"render",value:function(){var e=this.formatNumber();return o.a.createElement("span",null,e)}}]),t}(l.PureComponent);d.propTypes={number:c.a.number.isRequired,decimal:c.a.number,format:c.a.string},d.defaultProps={format:"default",decimal:0},t.a=d}});
//# sourceMappingURL=49.5340c403.chunk.js.map