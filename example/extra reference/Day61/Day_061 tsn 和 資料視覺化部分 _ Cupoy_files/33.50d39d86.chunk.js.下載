webpackJsonp([33],{1534:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),s=n.n(a),l=n(1739),c=n.n(l),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.spinner=null,n.state={config:{lines:n.props.lines||13,length:n.props.length||28,width:n.props.width||14,radius:n.props.radius||42,scale:n.props.scale||.15,corners:n.props.corners||1,color:n.props.color||"#000",opacity:n.props.opacity||.1,rotate:n.props.rotate||0,direction:n.props.direction||1,speed:n.props.speed||1,trail:n.props.trail||60,fps:n.props.fps||20,zIndex:n.props.zIndex||2e9,className:n.props.className||"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:n.props.position||"absolute"}},n}return o(e,t),p(e,[{key:"componentDidMount",value:function(){this.spinner=new c.a(this.state.config),this.spinner.spin(this.refs.container)}},{key:"componentWillUnmount",value:function(){this.spinner&&this.spinner.stop()}},{key:"render",value:function(){return s.a.createElement("span",{ref:"container"})}}]),e}(a.PureComponent);e.a=m},1738:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var l=n(1),c=n.n(l),p=n(32),m=n(48),u=n(54),d=n(122),f=(n.n(d),n(119)),h=n(8),g=n(1534),b=n(34),E=n(26),x=n(5),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=s([""],[""]),v=s(["\n\twidth: 100%;\n\tmargin: 0;\n\tborder: 1px solid ",";\n\tcolor: ",";\n\tletter-spacing: 0.32px;\t\t\t\t\n\tfont-size: 13px;\n\tborder-radius: 3px;\n\tpadding: 12px 12px 12px 40px;\n"],["\n\twidth: 100%;\n\tmargin: 0;\n\tborder: 1px solid ",";\n\tcolor: ",";\n\tletter-spacing: 0.32px;\t\t\t\t\n\tfont-size: 13px;\n\tborder-radius: 3px;\n\tpadding: 12px 12px 12px 40px;\n"]),k=s(["\n"],["\n"]),z=s(["\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\tfont-size: ",";\n\twidth: 40px;\n\tcolor: ",";\n"],["\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\tfont-size: ",";\n\twidth: 40px;\n\tcolor: ",";\n"]),C=s(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tpadding: 12px;\n\tcursor: pointer;\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tpadding: 12px;\n\tcursor: pointer;\n"]),S=s(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcolor: #999;\n\twidth: 100%;\n\tpadding-left: 12px;\n\tline-height: 45px;\n\ttransition: all ease-out .3s;\n\tcursor: auto;\n\tuser-select: none;\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcolor: #999;\n\twidth: 100%;\n\tpadding-left: 12px;\n\tline-height: 45px;\n\ttransition: all ease-out .3s;\n\tcursor: auto;\n\tuser-select: none;\n"]),F=s(["\n    display: flex;\n\tposition: relative;\n\tmargin: 0 0 15px 0;\n\n\t"," {\n\t\tborder: 1px solid ",";\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\tdisplay: ",";\n\t}\n\t"," {\n\t\tfont-size: ",";\n\t\ttransform: ",";\n\t}\n"],["\n    display: flex;\n\tposition: relative;\n\tmargin: 0 0 15px 0;\n\n\t"," {\n\t\tborder: 1px solid ",";\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\tdisplay: ",";\n\t}\n\t"," {\n\t\tfont-size: ",";\n\t\ttransform: ",";\n\t}\n"]),P=s(["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n"],["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n"]),R=s(["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\t\n\twidth: 100%;\n\tcolor: #fff;\n\tcursor: pointer;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\ti {\n\t\tposition: absolute;\n\t    left: 12px;\n\t    top: 50%;\n\t    transform: translateY(-50%);\n\t}\n"],["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\t\n\twidth: 100%;\n\tcolor: #fff;\n\tcursor: pointer;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\ti {\n\t\tposition: absolute;\n\t    left: 12px;\n\t    top: 50%;\n\t    transform: translateY(-50%);\n\t}\n"]),_=s(["\n\tposition: absolute;\n\tleft: 0;\n\twidth: 44px;\n\theight: 44px;\n"],["\n\tposition: absolute;\n\tleft: 0;\n\twidth: 44px;\n\theight: 44px;\n"]),O=s(["\n\tposition: relative;\n\twidth: 100%;\n\theight: 1px;\n\tmargin: 27px auto;\n\tbackground-color: ",";\n\twhite-space: nowrap;\n"],["\n\tposition: relative;\n\twidth: 100%;\n\theight: 1px;\n\tmargin: 27px auto;\n\tbackground-color: ",";\n\twhite-space: nowrap;\n"]),N=s(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\tpadding: 0 12px;\n\tbackground-color: #fff;\n\tcolor: ",";\n\tletter-spacing: 0.29px;\t\t\n\tfont-size: 14px;\n\ttransform: translateX(-50%) translateY(-50%);\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\tpadding: 0 12px;\n\tbackground-color: #fff;\n\tcolor: ",";\n\tletter-spacing: 0.29px;\t\t\n\tfont-size: 14px;\n\ttransform: translateX(-50%) translateY(-50%);\n"]),j=s(["\n\tposition: fixed;\n\ttop: 30px;\n\tleft: 50%;\n\theight: 40px;\n\tpadding: 0 20px;\n\tcolor: #fff;\n\tz-index: 9;\t\n\tfont-size: 13;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\ttransform: translateX(-50%);\n\tbackground-color: ",";\n\n\ti {\n\t\tmargin: auto 10px auto 0;\n\t\tfont-size: 16px;\n\t}\n\n\t.success-icon {\n\t\tcolor: #CDDC39;\n\t}\n\n\t.close-icon {\n\t\tmargin: auto 0 auto 20px;\n\t\tcolor: ",";\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n"],["\n\tposition: fixed;\n\ttop: 30px;\n\tleft: 50%;\n\theight: 40px;\n\tpadding: 0 20px;\n\tcolor: #fff;\n\tz-index: 9;\t\n\tfont-size: 13;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\ttransform: translateX(-50%);\n\tbackground-color: ",";\n\n\ti {\n\t\tmargin: auto 10px auto 0;\n\t\tfont-size: 16px;\n\t}\n\n\t.success-icon {\n\t\tcolor: #CDDC39;\n\t}\n\n\t.close-icon {\n\t\tmargin: auto 0 auto 20px;\n\t\tcolor: ",";\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n"]),A=s(["\n\tfont-size: 12px;\n\ttext-align: center;\n\tmargin: 10px 0 0;\n\ta {\n\t\ttext-decoration: underline;\n\t\tcolor: #333;\n\t\tfont-weight: 600;\n\t}\n"],["\n\tfont-size: 12px;\n\ttext-align: center;\n\tmargin: 10px 0 0;\n\ta {\n\t\ttext-decoration: underline;\n\t\tcolor: #333;\n\t\tfont-weight: 600;\n\t}\n"]),M=x.default.div(w),T=x.default.input(v,E.e.Dark5,E.e.Dark),L=T.extend(k),W=x.default.div(z,function(t){var e=t.size;return e?e+"px":"12px"},E.e.LightText),D=x.default.div(C),V=x.default.div(S),I=E.h.Label.extend(F,T,function(t){return t.error?E.e.Error:E.e.Dark5},function(t){return t.hasValue?"20px 12px 4px":"12px 12px"},L,function(t){return t.hasValue?"20px 30px 4px 12px":"12px 12px"},D,function(t){return t.hasValue?"block":"none"},V,function(t){return t.hasValue?"12px":"14px"},function(t){return t.hasValue?"translateY(-8px)":"none"}),G=E.b.Red.extend(P),K=E.b.Facebook.extend(R),Y=x.default.div(_),X=x.default.div(O,E.e.Dark5),B=x.default.span(N,E.e.Dark3),U=x.default.div(j,function(t){return t.error?E.e.Error:E.e.Dark},E.e.Dark5),J=x.default.div(A),q=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onChange=n.onChange.bind(n),n.onEmailChange=n.onChange.bind(n,"email"),n.onPswChange=n.onChange.bind(n,"password"),n.onPswConfirmChange=n.onChange.bind(n,"passwordconfirm"),n.onNameChange=n.onChange.bind(n,"name"),n.toggleShowPsw=n.toggleShowPsw.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.registerWithEmail=n.registerWithEmail.bind(n),n.registerWithFacebook=n.registerWithFacebook.bind(n),n.state={isRegisterWithEmail:!1,isEmailError:!1,isPasswordError:!1,isPasswordConfirmError:!1,isNameEmpty:!1,isSystemError:!1,emailExistedError:!1,alreadyApproved:!1,alreadyApplyError:!1,applicationReviewing:!1,registerWithFacebook:!1,facebookLoginError:!1,isFbMemberFreeze:!1,isConnectFacebookError:!1,isLoginSocailTest:!1,hasShowPsw:!1,form:{email:"",password:"",passwordconfirm:"",name:""}},n}return a(e,t),y(e,[{key:"toggleShowPsw",value:function(){this.setState(function(t){return{hasShowPsw:!t.hasShowPsw}})}},{key:"render",value:function(){var t=this.state,e=t.form,n=t.hasShowPsw,r=e.name,i=e.email,o=e.password,a=e.passwordconfirm,s=!!i,l=!!o,p=!!a,m=!!r;return c.a.createElement(M,null,c.a.createElement(I,{error:this.state.isEmailError,hasValue:s},c.a.createElement(W,{size:22},c.a.createElement("i",{className:"zmdi zmdi-account-o"})),c.a.createElement(T,{type:"text",value:this.state.form.email,onChange:this.onEmailChange,onKeyPress:this.onLoginKeyPress,placeholder:"\u96fb\u5b50\u90f5\u4ef6"})),c.a.createElement(I,{error:this.state.isPasswordError,hasValue:l},c.a.createElement(W,{size:20},c.a.createElement("i",{className:"zmdi zmdi-lock-outline"})),c.a.createElement(L,{type:n?"text":"password",value:this.state.form.password,onChange:this.onPswChange,onKeyPress:this.onLoginKeyPress,placeholder:"\u5bc6\u78bc"}),c.a.createElement(D,{onClick:this.toggleShowPsw},n?c.a.createElement("i",{className:"zmdi zmdi-eye-off"}):c.a.createElement("i",{className:"zmdi zmdi-eye"}))),c.a.createElement(I,{error:this.state.isPasswordConfirmError,hasValue:p},c.a.createElement(W,{size:20},c.a.createElement("i",{className:"zmdi zmdi-lock-outline"})),c.a.createElement(L,{type:n?"text":"password",value:this.state.form.passwordconfirm,onChange:this.onPswConfirmChange,onKeyPress:this.onKeyPress,placeholder:"\u518d\u4e00\u6b21\u8f38\u5165\u5bc6\u78bc"}),c.a.createElement(D,{onClick:this.toggleShowPsw},n?c.a.createElement("i",{className:"zmdi zmdi-eye-off"}):c.a.createElement("i",{className:"zmdi zmdi-eye"}))),c.a.createElement(I,{error:this.state.isNameEmpty,hasValue:m},c.a.createElement(W,{size:20},c.a.createElement("i",{className:"zmdi zmdi-face"})),c.a.createElement(T,{type:"text",value:this.state.form.name,onChange:this.onNameChange,onKeyPress:this.onKeyPress,placeholder:"\u59d3\u540d\u6216\u66b1\u7a31"})),c.a.createElement(G,{disable:this.state.isRegisterWithEmail,onClick:this.registerWithEmail},this.state.isRegisterWithEmail?c.a.createElement(Y,null,c.a.createElement(g.a,{color:"#FFF"})):null,c.a.createElement(f.a,{"translate-key":"component_signup"},"\u8a3b\u518a")),c.a.createElement(X,null,c.a.createElement(B,null,c.a.createElement(f.a,{"translate-key":"component_or"},"\u6216"))),c.a.createElement(K,{disable:this.state.isRegisterWithFacebook,onClick:this.registerWithFacebook},this.state.isRegisterWithFacebook?c.a.createElement(Y,null,c.a.createElement(g.a,{color:"#FFF"})):c.a.createElement("i",{className:"zmdi zmdi-facebook"}),c.a.createElement(f.a,{"translate-key":"component_loginWithFb"},"\u4f7f\u7528 Facebook \u8a3b\u518a")),c.a.createElement(J,null,"\u9ede\u64ca\u300c\u8a3b\u518a\u300d\u8868\u793a\u4f60\u5df2\u95b1\u8b80\u4e26",c.a.createElement("a",{href:"/policy",target:"_blank"},"\u540c\u610f\u96b1\u79c1\u6b0a\u689d\u6b3e")),this.state.isEmailError?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_emailFormatError"},"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u96fb\u5b50\u90f5\u4ef6")):null,this.state.isPasswordError?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_passwdEmptyError"},"\u8acb\u8f38\u5165\u5bc6\u78bc")):null,this.state.isPasswordConfirmError?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_passwdConfirmError"},"\u5169\u6b21\u8f38\u5165\u7684\u5bc6\u78bc\u4e0d\u6b63\u78ba")):null,this.state.isNameEmpty?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_nameEmptyError"},"\u8acb\u8f38\u5165\u60a8\u7684\u7a31\u547c")):null,this.state.emailExistedError?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_emailRepeatError"},"\u60a8\u8f38\u5165\u7684\u96fb\u5b50\u90f5\u4ef6\u5df2\u7d93\u7533\u8acb\u904e\u56c9")):null,this.state.alreadyApproved?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_accountAppliedError"},"\u5df2\u7d93\u540c\u610f\u4e26\u4e14\u5c07\u9080\u8acb\u51fd\u5bc4\u9001\u81f3\u60a8\u7684\u96fb\u5b50\u90f5\u4ef6")):null,this.state.applicationReviewing?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_accountReviewing"},"\u4e4b\u524d\u7684\u7533\u8acb\u4ecd\u5728\u5be9\u67e5\u4e2d\uff0c\u5be9\u67e5\u901a\u904e\u6642\u6211\u5011\u6703\u4f7f\u7528\u96fb\u5b50\u90f5\u4ef6\u901a\u77e5\u4f60")):null,this.state.isSystemError?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_systemError"},"\u7cfb\u7d71\u767c\u751f\u672a\u9810\u671f\u932f\u8aa4\uff0c\u8acb\u518d\u8a66\u4e00\u6b21")):null,this.state.isFbEmailMissing?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_fbEmailMissing"},"\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005\u7684\u81c9\u66f8Email")):null,this.state.isConnectFacebookError?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_fbLoginError"},"Facebook \u9023\u7dda\u932f\u8aa4")):null,this.state.isFbMemberFreeze?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_accountFreeze"},"\u5e33\u865f\u51cd\u7d50\uff0c\u5982\u6709\u4efb\u4f55\u7591\u554f\u8acb\u806f\u7d61\u7cfb\u7d71\u7ba1\u7406\u54e1")):null,this.state.isLoginSocailTest?c.a.createElement(U,{error:!0},c.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),c.a.createElement(f.a,{"translate-key":"serverRtnMsg_serviceTest"},"\u672c\u670d\u52d9\u6b63\u5728\u6e2c\u8a66\u968e\u6bb5\uff0c\u8acb\u5148\u4f7f\u7528\u96fb\u5b50\u90f5\u4ef6\u7533\u8acb\u6210\u70ba\u6703\u54e1")):null)}},{key:"onChange",value:function(t,e){var n=e.target.value,i=this.state,o=i.form,a=i.hasShowPsw,s=Object.assign({},o,r({},t,n)),l="password"===t?!!n&&a:a;this.setState({form:s,hasShowPsw:l})}},{key:"onKeyPress",value:function(t){t.target.value&&13===t.charCode&&this.registerWithEmail()}},{key:"registerWithEmail",value:function(){var t=this;if(!this.state.isRegisterWithEmail){if(!this.state.form.email||!h.a.isEmail(this.state.form.email))return void this.setState({isEmailError:!0});if(this.setState({isEmailError:!1}),!this.state.form.password)return void this.setState({isPasswordError:!0});if(this.setState({isPasswordError:!1}),this.state.form.password!==this.state.form.passwordconfirm)return void this.setState({isPasswordConfirmError:!0});if(this.setState({isPasswordConfirmError:!1}),!this.state.form.name)return void this.setState({isNameEmpty:!0});this.setState({isRegisterWithEmail:!0,isNameEmpty:!1,emailExistedError:!1,alreadyApproved:!1,applicationReviewing:!1,alreadyApplyError:!1,isSystemError:!1});var e=this.state.form.email,n=this.state.form.password,r=this.state.form.name;this.props.memberActions.registerWithEmail(e,n,r).then(function(e){t.props.webActions.cupoyStateGo(b.a.STATES.REGISTER),t.props.webActions.hideSignupDialog()},function(e){var n=!1,r=!1,i=!1,o=!1,a=!1;e&&"error.account.emailRepeat"===e.code?n=!0:e&&"error.apply.alreadyApproved"===e.code?r=!0:e&&"error.apply.applicationReviewing"===e.code?i=!0:e&&"error.apply.applicationSuccess"===e.code?o=!0:a=!0,t.setState({isRegisterWithEmail:!1,emailExistedError:n,alreadyApproved:r,applicationReviewing:i,alreadyApplyError:o,isSystemError:a})})}}},{key:"registerWithFacebook",value:function(){var t=this;this.state.isRegisterWithFacebook||(this.setState({isRegisterWithFacebook:!0,isLoginSocailTest:!1,isFbMemberFreeze:!1,isFbEmailMissing:!1,isConnectFacebookError:!1}),this.props.memberActions.loginByFacebook().then(function(e){t.props.webActions.hideSignupDialog(),2===e&&t.props.webActions.cupoyStateGo(b.a.STATES.REGISTER)},function(e){e&&"error.account.noRegister"===e.code?t.setState({isLoginSocailTest:!0}):e&&"error.account.isFreeze"===e.code?t.setState({isFbMemberFreeze:!0}):e&&"error.formValidator.facebookEmailMissing"===e.code?t.setState({isFbEmailMissing:!0}):t.setState({isConnectFacebookError:!0}),t.setState({isRegisterWithFacebook:!1})}))}}]),e}(l.Component),H=function(t){return{}},Q=function(t){return{webActions:Object(p.bindActionCreators)(u.a.webActionCreators,t),memberActions:Object(p.bindActionCreators)(u.a.memberActionCreators,t)}};e.a=Object(m.b)(H,Q,null,{withRef:!0})(Object(d.translate)("translations")(q))},1739:function(t,e,n){var r,i;!function(o,a){"object"==typeof t&&t.exports?t.exports=a():(r=a,void 0!==(i="function"===typeof r?r.call(e,n,e,t):r)&&(t.exports=i))}(0,function(){"use strict";function t(t,e){var n,r=document.createElement(t||"div");for(n in e)r[n]=e[n];return r}function e(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,r){var i=["opacity",e,~~(100*t),n,r].join("-"),o=.01+n/r*100,a=Math.max(1-(1-t)/e*(100-o),t),s=l.substring(0,l.indexOf("Animation")).toLowerCase(),p=s&&"-"+s+"-"||"";return m[i]||(c.insertRule("@"+p+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",c.cssRules.length),m[i]=1),i}function r(t,e){var n,r,i=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==i[e])return e;for(r=0;r<p.length;r++)if(n=p[r]+e,void 0!==i[n])return n}function i(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)void 0===t[r]&&(t[r]=n[r])}return t}function a(t,e){return"string"==typeof t?t:t[e%t.length]}function s(t){this.opts=o(t||{},s.defaults,u)}var l,c,p=["webkit","Moz","ms","O"],m={},u={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},o(s.prototype,{spin:function(e){this.stop();var n=this,r=n.opts,o=n.el=t(null,{className:r.className});if(i(o,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),e&&e.insertBefore(o,e.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!l){var a,s=0,c=(r.lines-1)*(1-r.direction)/2,p=r.fps,m=p/r.speed,u=(1-r.opacity)/(m*r.trail/100),d=m/r.lines;!function t(){s++;for(var e=0;e<r.lines;e++)a=Math.max(1-(s+(r.lines-e)*d)%m*u,r.opacity),n.opacity(o,e*r.direction+c,a,r);n.timeout=n.el&&setTimeout(t,~~(1e3/p))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(r,o){function s(e,n){return i(t(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*p+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var c,p=0,m=(o.lines-1)*(1-o.direction)/2;p<o.lines;p++)c=i(t(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:l&&n(o.opacity,o.trail,m+p*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(c,i(s("#000","0 0 4px #000"),{top:"2px"})),e(r,e(c,s(a(o.color,p),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),"undefined"!==typeof document){c=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var d=i(t("group"),{behavior:"url(#default#VML)"});!r(d,"transform")&&d.adj?function(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}c.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,r){function o(){return i(n("group",{coordsize:p+" "+p,coordorigin:-c+" "+-c}),{width:p,height:p})}function s(t,s,l){e(u,e(i(o(),{rotation:360/r.lines*t+"deg",left:~~s}),e(i(n("roundrect",{arcsize:r.corners}),{width:c,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:l}),n("fill",{color:a(r.color,t),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,c=r.scale*(r.length+r.width),p=2*r.scale*c,m=-(r.width+r.length)*r.scale*2+"px",u=i(o(),{position:"absolute",top:m,left:m});if(r.shadow)for(l=1;l<=r.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)s(l);return e(t,u)},s.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&e+r<i.childNodes.length&&(i=i.childNodes[e+r],i=i&&i.firstChild,(i=i&&i.firstChild)&&(i.opacity=n))}}():l=r(d,"animation")}return s})},1740:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var s=n(1),l=n.n(s),c=n(32),p=n(48),m=n(54),u=n(122),d=(n.n(u),n(119)),f=n(8),h=n(1534),g=n(34),b=n(26),E=n(5),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=a([""],[""]),w=a(["\n\twidth: 100%;\n\tmargin: 0;\n\tborder: 1px solid ",";\n\tcolor: ",";\n\tletter-spacing: 0.32px;\t\t\t\t\n\tfont-size: 13px;\n\tborder-radius: 3px;\n\tpadding: 12px 12px 12px 40px;\n"],["\n\twidth: 100%;\n\tmargin: 0;\n\tborder: 1px solid ",";\n\tcolor: ",";\n\tletter-spacing: 0.32px;\t\t\t\t\n\tfont-size: 13px;\n\tborder-radius: 3px;\n\tpadding: 12px 12px 12px 40px;\n"]),v=a(["\n"],["\n"]),k=a(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tpadding: 12px;\n\tcursor: pointer;\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tpadding: 12px;\n\tcursor: pointer;\n"]),z=a(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcolor: #999;\n\twidth: 80px;\n\tpadding-left: 12px;\n\tline-height: 45px;\n\ttransition: all ease-out .3s;\n\tcursor: auto;\n\tuser-select: none;\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcolor: #999;\n\twidth: 80px;\n\tpadding-left: 12px;\n\tline-height: 45px;\n\ttransition: all ease-out .3s;\n\tcursor: auto;\n\tuser-select: none;\n"]),C=a(["\n    display: flex;\n\tposition: relative;\n\tflex-direction: row;\n\tmargin: 0 0 15px 0;\n\n\t"," {\n\t\tborder: 1px solid ",";\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\tdisplay: ",";\n\t}\n\t"," {\n\t\tfont-size: ",";\n\t\ttransform: ",";\n\t}\n"],["\n    display: flex;\n\tposition: relative;\n\tflex-direction: row;\n\tmargin: 0 0 15px 0;\n\n\t"," {\n\t\tborder: 1px solid ",";\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\t/* padding: ","; */\n\t}\n\t"," {\n\t\tdisplay: ",";\n\t}\n\t"," {\n\t\tfont-size: ",";\n\t\ttransform: ",";\n\t}\n"]),S=a(["\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\tfont-size: ",";\n\twidth: 40px;\n\tcolor: ",";\n"],["\n\tposition: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\tfont-size: ",";\n\twidth: 40px;\n\tcolor: ",";\n"]),F=a(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n"],["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n"]),P=a(["\n\tdisplay: inline-block;\n\tpadding: 0 6px;\n\tposition: relative;\n\tmargin-bottom: 12px;\n\tcolor: ",";\n\ttext-align: right;\n\tfont-size: 12px;\n\tb {\n\t\tpadding-bottom: 1px;\n\t\tborder-bottom: 1px solid ",";\n\t\tcolor: ",";\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t}\n"],["\n\tdisplay: inline-block;\n\tpadding: 0 6px;\n\tposition: relative;\n\tmargin-bottom: 12px;\n\tcolor: ",";\n\ttext-align: right;\n\tfont-size: 12px;\n\tb {\n\t\tpadding-bottom: 1px;\n\t\tborder-bottom: 1px solid ",";\n\t\tcolor: ",";\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t}\n"]),R=a(["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n"],["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n"]),_=a(["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\t\n\twidth: 100%;\n\tcolor: #fff;\n\tcursor: pointer;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\ti {\n\t\tposition: absolute;\n\t    left: 12px;\n\t    top: 50%;\n\t    transform: translateY(-50%);\n\t}\n"],["\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0;\t\n\twidth: 100%;\n\tcolor: #fff;\n\tcursor: pointer;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\ti {\n\t\tposition: absolute;\n\t    left: 12px;\n\t    top: 50%;\n\t    transform: translateY(-50%);\n\t}\n"]),O=a(["\n\tposition: absolute;\n\tleft: 0;\n\twidth: 44px;\n\theight: 44px;\n"],["\n\tposition: absolute;\n\tleft: 0;\n\twidth: 44px;\n\theight: 44px;\n"]),N=a(["\n\tposition: relative;\n\twidth: 100%;\n\theight: 1px;\n\tmargin: 27px auto;\n\tbackground-color: ",";\n\twhite-space: nowrap;\n"],["\n\tposition: relative;\n\twidth: 100%;\n\theight: 1px;\n\tmargin: 27px auto;\n\tbackground-color: ",";\n\twhite-space: nowrap;\n"]),j=a(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\tpadding: 0 12px;\n\tbackground-color: #fff;\n\tcolor: ",";\n\tletter-spacing: 0.29px;\t\t\n\tfont-size: 14px;\n\ttransform: translateX(-50%) translateY(-50%);\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\tpadding: 0 12px;\n\tbackground-color: #fff;\n\tcolor: ",";\n\tletter-spacing: 0.29px;\t\t\n\tfont-size: 14px;\n\ttransform: translateX(-50%) translateY(-50%);\n"]),A=a(["\n\tposition: fixed;\n\ttop: 30px;\n\tleft: 50%;\n\theight: 40px;\n\tpadding: 0 20px;\n\tcolor: #fff;\n\tz-index: 9;\t\n\tfont-size: 13;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\ttransform: translateX(-50%);\n\tbackground-color: ",";\n\n\ti {\n\t\tmargin: auto 10px auto 0;\n\t\tfont-size: 16px;\n\t}\n\n\t.success-icon {\n\t\tcolor: #CDDC39;\n\t}\n\n\t.close-icon {\n\t\tmargin: auto 0 auto 20px;\n\t\tcolor: ",";\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n"],["\n\tposition: fixed;\n\ttop: 30px;\n\tleft: 50%;\n\theight: 40px;\n\tpadding: 0 20px;\n\tcolor: #fff;\n\tz-index: 9;\t\n\tfont-size: 13;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\ttransform: translateX(-50%);\n\tbackground-color: ",";\n\n\ti {\n\t\tmargin: auto 10px auto 0;\n\t\tfont-size: 16px;\n\t}\n\n\t.success-icon {\n\t\tcolor: #CDDC39;\n\t}\n\n\t.close-icon {\n\t\tmargin: auto 0 auto 20px;\n\t\tcolor: ",";\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n"]),M=E.default.div(y),T=E.default.input(w,b.e.Dark5,b.e.Dark),L=T.extend(v),W=E.default.div(k),D=E.default.div(z),V=b.h.Label.extend(C,T,function(t){return t.error?b.e.Error:b.e.Dark5},function(t){return t.hasValue?"20px 12px 4px":"12px 12px"},L,function(t){return t.hasValue?"20px 30px 4px 12px":"12px 12px"},W,function(t){return t.hasValue?"block":"none"},D,function(t){return t.hasValue?"12px":"14px"},function(t){return t.hasValue?"translateY(-8px)":"none"}),I=E.default.div(S,function(t){var e=t.size;return e?e+"px":"12px"},b.e.LightText),G=E.default.div(F),K=E.default.div(P,b.e.Dark,b.e.Dark,b.e.Dark),Y=K.extend(v),X=b.b.Red.extend(R),B=b.b.Facebook.extend(_),U=E.default.div(O),J=E.default.div(N,b.e.Dark5),q=E.default.span(j,b.e.Dark3),H=E.default.div(A,function(t){return t.error?b.e.Error:b.e.Dark},b.e.Dark5),Q=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onEmailChange=n.onEmailChange.bind(n),n.onPasswordChange=n.onPasswordChange.bind(n),n.onLoginKeyPress=n.onLoginKeyPress.bind(n),n.loginWithEmail=n.loginWithEmail.bind(n),n.loginWithFacebook=n.loginWithFacebook.bind(n),n.toggleShowPsw=n.toggleShowPsw.bind(n),n.state={isLoginWithEmail:!1,isEmailError:!1,isPasswordError:!1,emailLoginFailed:!1,isSystemError:!1,isMemberFreeze:!1,loginReviewing:!1,isLoginWithFacebook:!1,facebookLoginError:!1,isFbMemberFreeze:!1,isConnectFacebookError:!1,isLoginSocailTest:!1,hasShowPsw:!1,form:{email:"",password:""}},n}return o(e,t),x(e,[{key:"toggleShowPsw",value:function(){this.setState(function(t){return{hasShowPsw:!t.hasShowPsw}})}},{key:"render",value:function(){var t=this.state,e=t.form,n=t.hasShowPsw,r=e.email,i=e.password,o=!!r,a=!!i;return l.a.createElement(M,null,l.a.createElement(V,{error:this.state.isEmailError,hasValue:o},l.a.createElement(I,{size:22},l.a.createElement("i",{className:"zmdi zmdi-account-o"})),l.a.createElement(T,{type:"text",value:this.state.form.email,onChange:this.onEmailChange,onKeyPress:this.onLoginKeyPress,placeholder:"\u96fb\u5b50\u90f5\u4ef6"})),l.a.createElement(V,{error:this.state.isPasswordError,hasValue:a},l.a.createElement(I,{size:20},l.a.createElement("i",{className:"zmdi zmdi-lock-outline"})),l.a.createElement(L,{type:n?"text":"password",value:this.state.form.password,onChange:this.onPasswordChange,onKeyPress:this.onLoginKeyPress,placeholder:"\u5bc6\u78bc"}),l.a.createElement(W,{onClick:this.toggleShowPsw},n?l.a.createElement("i",{className:"zmdi zmdi-eye-off"}):l.a.createElement("i",{className:"zmdi zmdi-eye"}))),l.a.createElement(G,null,l.a.createElement(K,{onClick:this.props.changeToRegisterView},l.a.createElement("b",{onClick:this.changeToRegisterView},l.a.createElement(d.a,null,"\u8a3b\u518a\u5e33\u865f"))),l.a.createElement(Y,{onClick:this.props.onForgetPasswdClick},l.a.createElement("b",{onClick:this.onForgetPasswdClick},l.a.createElement(d.a,{"translate-key":"component_forgotPw"},"\u5fd8\u8a18\u5bc6\u78bc\uff1f")))),l.a.createElement(X,{disable:this.state.isLoginWithEmail,onClick:this.loginWithEmail},this.state.isLoginWithEmail?l.a.createElement(U,null,l.a.createElement(h.a,{color:"#FFF"})):null,l.a.createElement(d.a,{"translate-key":"component_login"},"\u767b\u5165")),l.a.createElement(J,null,l.a.createElement(q,null,l.a.createElement(d.a,{"translate-key":"component_or"},"\u6216"))),l.a.createElement(B,{disable:this.state.isLoginWithFacebook,onClick:this.loginWithFacebook},this.state.isLoginWithFacebook?l.a.createElement(U,null,l.a.createElement(h.a,{color:"#FFF"})):l.a.createElement("i",{className:"zmdi zmdi-facebook"}),l.a.createElement(d.a,{"translate-key":"component_loginWithFb"},"\u4f7f\u7528 Facebook \u767b\u5165")),this.state.isEmailError||this.state.isPasswordError?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_formFormatError"},"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u683c\u5f0f")):null,this.state.emailLoginFailed?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_passwordAccountError"},"\u5e33\u865f\u6216\u5bc6\u78bc\u932f\u8aa4")):null,this.state.isMemberFreeze?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_accountFreeze"},"\u5e33\u865f\u51cd\u7d50\uff0c\u5982\u6709\u4efb\u4f55\u7591\u554f\u8acb\u806f\u7d61\u7cfb\u7d71\u7ba1\u7406\u54e1")):null,this.state.isSystemError?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_systemError"},"\u7cfb\u7d71\u767c\u751f\u672a\u9810\u671f\u932f\u8aa4\uff0c\u8acb\u518d\u8a66\u4e00\u6b21")):null,this.state.loginReviewing?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_accountReviewing"},"\u4e4b\u524d\u7684\u7533\u8acb\u4ecd\u5728\u5be9\u67e5\u4e2d\uff0c\u5be9\u67e5\u901a\u904e\u6642\u6211\u5011\u6703\u4f7f\u7528\u96fb\u5b50\u90f5\u4ef6\u901a\u77e5\u4f60")):null,this.state.isFbEmailMissing?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_fbEmailMissing"},"\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005\u7684\u81c9\u66f8Email")):null,this.state.isConnectFacebookError?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_fbLoginError"},"Facebook \u9023\u7dda\u932f\u8aa4")):null,this.state.isFbMemberFreeze?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_accountFreeze"},"\u5e33\u865f\u51cd\u7d50\uff0c\u5982\u6709\u4efb\u4f55\u7591\u554f\u8acb\u806f\u7d61\u7cfb\u7d71\u7ba1\u7406\u54e1")):null,this.state.isLoginSocailTest?l.a.createElement(H,{error:!0},l.a.createElement("i",{className:"zmdi zmdi-alert-circle"}),l.a.createElement(d.a,{"translate-key":"serverRtnMsg_serviceTest"},"\u672c\u670d\u52d9\u6b63\u5728\u6e2c\u8a66\u968e\u6bb5\uff0c\u8acb\u5148\u4f7f\u7528\u96fb\u5b50\u90f5\u4ef6\u7533\u8acb\u6210\u70ba\u6703\u54e1")):null)}},{key:"onEmailChange",value:function(t){var e=this.state.form;e.email=t.target.value,this.setState({form:e})}},{key:"onPasswordChange",value:function(t){var e=t.target.value,n=this.state,r=n.form,i=n.hasShowPsw;r.password=e,this.setState({form:r,hasShowPsw:!!e&&i})}},{key:"onLoginKeyPress",value:function(t){t.target.value&&13===t.charCode&&this.loginWithEmail()}},{key:"loginWithEmail",value:function(){var t=this;if(!this.state.isLoginWithEmail){if(!this.state.form.email||!f.a.isEmail(this.state.form.email))return void this.setState({isEmailError:!0});if(!this.state.form.password)return void this.setState({isPasswordError:!0});this.setState({isLoginWithEmail:!0,isEmailError:!1,isPasswordError:!1,emailLoginFailed:!1,isMemberFreeze:!1,loginReviewing:!1,isSystemError:!1}),this.props.memberActions.loginByEmail({email:this.state.form.email,passwd:this.state.form.password}).then(function(e){t.props.webActions.hideSignupDialog()},function(e){e&&"error.formValidator.emailLoginFailed"===e.code?t.setState({emailLoginFailed:!0}):e&&"error.account.isFreeze"===e.code?t.setState({isMemberFreeze:!0}):e&&"error.apply.applicationReviewing"===e.code?t.setState({loginReviewing:!0}):t.setState({isSystemError:!0}),t.setState({isLoginWithEmail:!1})})}}},{key:"loginWithFacebook",value:function(){var t=this;this.state.isLoginWithFacebook||(this.setState({isLoginWithFacebook:!0,isLoginSocailTest:!1,isFbMemberFreeze:!1,isFbEmailMissing:!1,isConnectFacebookError:!1}),this.props.memberActions.loginByFacebook().then(function(e){t.props.webActions.hideSignupDialog(),2===e&&t.props.webActions.cupoyStateGo(g.a.STATES.REGISTER)},function(e){"error.account.noRegister"===e.code?t.setState({isLoginSocailTest:!0}):"error.account.isFreeze"===e.code?t.setState({isFbMemberFreeze:!0}):"error.formValidator.facebookEmailMissing"===e.code?t.setState({isFbEmailMissing:!0}):t.setState({isConnectFacebookError:!0}),t.setState({isLoginWithFacebook:!1})}))}}]),e}(s.Component),Z=function(t){return{}},$=function(t){return{webActions:Object(c.bindActionCreators)(m.a.webActionCreators,t),memberActions:Object(c.bindActionCreators)(m.a.memberActionCreators,t)}};e.a=Object(p.b)(Z,$,null,{withRef:!0})(Object(u.translate)("translations")(Q))},827:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),l=n.n(s),c=n(32),p=n(48),m=n(54),u=n(119),d=n(26),f=n(5),h=n(1738),g=n(1740),b=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=a(["\n\tposition: relative;\n\theight: 26px;\n\tmargin-bottom: 28px;\n\ttext-align: left;\n"],["\n\tposition: relative;\n\theight: 26px;\n\tmargin-bottom: 28px;\n\ttext-align: left;\n"]),x=a(["\n\tdisplay: inline-block;\n\theight: 26px;\n\tline-height: 16px;\n\tmargin-right: 20px;\n\tmargin-bottom: 0;\n\tpadding-bottom: 1px;\t\n\tcursor: pointer;\n\tfont-size: 16px;\n\tcolor: ",";\n    border-bottom: ",";\n"],["\n\tdisplay: inline-block;\n\theight: 26px;\n\tline-height: 16px;\n\tmargin-right: 20px;\n\tmargin-bottom: 0;\n\tpadding-bottom: 1px;\t\n\tcursor: pointer;\n\tfont-size: 16px;\n\tcolor: ",";\n    border-bottom: ",";\n"]),y=f.default.div(E),w=f.default.h6(x,function(t){return t.isActive?d.e.Dark:d.e.Dark4},function(t){return t.isActive?"2px solid "+d.e.Dark:"2px solid transparent"}),v={LOGIN:"LOGIN",REGISTER:"REGISTER",REGISTER_SUCCESS:"REGISTER_SUCCESS"},k=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.changeView=n.changeView.bind(n),n.onForgetPasswdClick=n.onForgetPasswdClick.bind(n),n.changeToRegisterView=n.changeView.bind(n,v.REGISTER);var o=v.LOGIN;return"register"===n.props.signupCurrent&&(o=v.REGISTER),n.state={viewType:o},n}return o(e,t),b(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.state.viewType;return l.a.createElement(d.f.Content,{maxWidth:"320px",margin:"90px auto auto auto",padding:"30px",borderRadius:"3px",visible:!0,animation:"zoom",maskAnimation:"fade",closable:!1,className:"signup-modal",onClose:function(){return t.props.webActions.hideSignupDialog()}},l.a.createElement(d.f.CloseButton,{onClick:function(){return t.props.webActions.hideSignupDialog()}},l.a.createElement("i",{className:"zmdi zmdi-close"})),"SUCCESS"!==e?l.a.createElement(y,null,l.a.createElement(w,{isActive:e===v.REGISTER,onClick:this.changeToRegisterView},l.a.createElement(u.a,{"translate-key":"component_signup"},"\u8a3b\u518a")),l.a.createElement(w,{isActive:e===v.LOGIN,onClick:function(){return t.changeView(v.LOGIN)}},l.a.createElement(u.a,{"translate-key":"component_login"},"\u767b\u5165"))):null,e===v.REGISTER?l.a.createElement(h.a,null):null,e===v.LOGIN?l.a.createElement(g.a,{onForgetPasswdClick:this.onForgetPasswdClick,changeToRegisterView:this.changeToRegisterView}):null)}},{key:"changeView",value:function(t){this.setState({viewType:t})}},{key:"onForgetPasswdClick",value:function(){this.props.webActions.showForgetPasswdDialog()}}]),e}(s.Component),z=function(t){return{signupCurrent:t.web.signupCurrent}},C=function(t){return{webActions:Object(c.bindActionCreators)(m.a.webActionCreators,t),memberActions:Object(c.bindActionCreators)(m.a.memberActionCreators,t)}};e.default=Object(p.b)(z,C,null,{withRef:!0})(k)}});
//# sourceMappingURL=33.50d39d86.chunk.js.map