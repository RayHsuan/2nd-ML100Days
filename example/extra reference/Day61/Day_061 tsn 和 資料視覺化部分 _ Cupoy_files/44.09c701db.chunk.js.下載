webpackJsonp([44],{837:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),s=n.n(l),c=n(32),p=n(48),u=n(54),d=n(119),f=n(8),h=n(26),m=n(5),g=n(882),x=n(316),b=n(176),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v=a(["\n\twidth: 100%;\n"],["\n\twidth: 100%;\n"]),w=a(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n    height: 60px;\n\tmargin: 0;\n\tbackground-color: #FFF;\n\tbox-shadow: inset 0px -1px 0px 0px #DDD;\n"],["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n    height: 60px;\n\tmargin: 0;\n\tbackground-color: #FFF;\n\tbox-shadow: inset 0px -1px 0px 0px #DDD;\n"]),E=a(["\n\tcolor: ",";\n\ttext-align: center;\n\tdisplay: flex;\n\tfont-weight: 600;\n\tmargin: 0;\n\tfont-size: 16px;\n"],["\n\tcolor: ",";\n\ttext-align: center;\n\tdisplay: flex;\n\tfont-weight: 600;\n\tmargin: 0;\n\tfont-size: 16px;\n"]),I=a(["\n\tposition: relative;\n\tpadding: 20px;\n"],["\n\tposition: relative;\n\tpadding: 20px;\n"]),C=a(["\n\tdisplay: flex;\n\tposition: relative;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\talign-items: center;\n"],["\n\tdisplay: flex;\n\tposition: relative;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\talign-items: center;\n"]),k=a(["\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 60px;\n\theight: 60px;\n\tmargin-right: 16px;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-color: #EEE;\n\ttext-align: center;\n\tcolor: #FFF;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 50%;\n"],["\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: 60px;\n\theight: 60px;\n\tmargin-right: 16px;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-color: #EEE;\n\ttext-align: center;\n\tcolor: #FFF;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 50%;\n"]),_=a(["\n\tmin-width: 90px;\n\twidth: 90px;\t\n\tcolor: ",";\n\tpadding: 0 20px 0 0;\n\tline-height: 40px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: flex-end;\n"],["\n\tmin-width: 90px;\n\twidth: 90px;\t\n\tcolor: ",";\n\tpadding: 0 20px 0 0;\n\tline-height: 40px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: flex-end;\n"]),z=a(["\n\t","\n"],["\n\t","\n"]),F=a(["\n\tdisplay: flex;\n\tposition: relative;\n\twidth: 100%;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n"],["\n\tdisplay: flex;\n\tposition: relative;\n\twidth: 100%;\n\tmargin-bottom: 20px;\n\toverflow: hidden;\n\t&:last-child {\n\t\tmargin-bottom: 0;\n\t}\n"]),j=a(["\n\tmin-width: 90px;\n\twidth: 90px;\t\n\tcolor: ",";\t\n\tpadding: 0 20px 0 0;\n\tline-height: 40px;\n\tdisplay: inline-flex;\n    justify-content: flex-end;\n"],["\n\tmin-width: 90px;\n\twidth: 90px;\t\n\tcolor: ",";\t\n\tpadding: 0 20px 0 0;\n\tline-height: 40px;\n\tdisplay: inline-flex;\n    justify-content: flex-end;\n"]),O=a(["\n\tposition: relative;\n\twidth: 100%;\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tinput {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tfont-size: 13px;\n\t\tpadding: 0 12px;\n\t}\n"],["\n\tposition: relative;\n\twidth: 100%;\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tinput {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tfont-size: 13px;\n\t\tpadding: 0 12px;\n\t}\n"]),S=a(["\n\tposition: relative;\n\twidth: 100%;\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\ttextarea {\n\t\twidth: 100%;\n\t\tfont-size: 13px;\n\t\tpadding: 12px;\n\t\tresize: none;\n\t}\n"],["\n\tposition: relative;\n\twidth: 100%;\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\ttextarea {\n\t\twidth: 100%;\n\t\tfont-size: 13px;\n\t\tpadding: 12px;\n\t\tresize: none;\n\t}\n"]),T=a(["\n\tcolor: ",";\n\tfont-size: 14px;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tmargin: 0 0 20px 0;\n"],["\n\tcolor: ",";\n\tfont-size: 14px;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tmargin: 0 0 20px 0;\n"]),D=a(["\n\tbackground-color: #fff;\n\tpadding: 16px 25px;\n\ttext-align: center;\n\tbox-shadow: inset 0px 1px 0px 0px #DDD;\n"],["\n\tbackground-color: #fff;\n\tpadding: 16px 25px;\n\ttext-align: center;\n\tbox-shadow: inset 0px 1px 0px 0px #DDD;\n"]),R=a(["\n\t","\n\twidth: 190px;\n"],["\n\t","\n\twidth: 190px;\n"]),A=a(["\n\t","\n\twidth: 130px;\n"],["\n\t","\n\twidth: 130px;\n"]),M=m.default.div(v),H=m.default.div(w),U=m.default.h5(E,h.e.Dark),N=m.default.div(I),P=m.default.div(C),L=m.default.div(k),W=m.default.div(_,h.e.Dark2),q="\n\tdisplay: inline-flex;\n\talign-items: center;\n\theight: 36px;\n    line-height: 34px;\n    margin: 0;\n    padding: 0 20px;\n    background-color: transparent;\n    border: 1px solid "+h.e.Dark5+";\n    color: "+h.e.Dark3+";\n    border-radius: 3px;\n    cursor: pointer;\n    transition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n    transition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n    &:hover {\n\t\tborder: 1px solid "+h.e.Dark+";\n    \tcolor: "+h.e.Dark+";\n    }\n",B=Object(m.default)(x.a)(z,q),G=Object(m.default)(x.a)(z,q),J=m.default.label(F),V=m.default.div(j,h.e.Dark2),X=Object(m.default)(h.h.Input)(O),Y=Object(m.default)(h.h.TextArea)(S),K=m.default.div(T,h.e.Error),Q=m.default.div(D),Z="\n\theight: 36px;\n\tline-height: 36px;\n\tmargin: 0 5px;\n",$=h.b.Red.extend(R,Z),tt=h.b.Gray.extend(A,Z),et=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onInputChange=n.onInputChange.bind(n),n.setInfluencerToInput=n.setInfluencerToInput.bind(n),n.onFileSelect=n.onFileSelect.bind(n),n.onSubmitClick=n.onSubmitClick.bind(n),n.state={isNameInputTextEmpty:!1,coverFile:void 0,coverURL:void 0,nameInputText:"",companyInputText:"",jobtitleInputText:"",descriptionInputText:""},n}return r(e,t),y(e,[{key:"componentWillReceiveProps",value:function(t){!this.props.selfInfluencer&&t.selfInfluencer&&this.setInfluencerToInput(t.selfInfluencer)}},{key:"componentDidMount",value:function(){this.props.selfInfluencer&&this.setInfluencerToInput(this.props.selfInfluencer)}},{key:"setInfluencerToInput",value:function(t){this.setState({coverURL:f.a.getInfluencerImage(t),nameInputText:t.name,companyInputText:t.company,jobtitleInputText:t.jobtitle,descriptionInputText:t.description})}},{key:"onInputChange",value:function(t,e){var n=this.state;n[e]=t.target.value,this.setState(n)}},{key:"render",value:function(){var t=this,e=this.props,n=e.isUpdating,i=(e.isUpdatError,e.isUploadCover),o=e.isUploadCoverError,r=e.progress;return s.a.createElement(h.f.Content,{maxWidth:"480px",width:"480px",borderRadius:"3px",padding:"0",visible:!0,animation:"zoom",maskAnimation:"fade",closable:!0,onClose:function(){return t.props.influencerActions.closeEditInfluencer()}},s.a.createElement(M,null,s.a.createElement(h.f.CloseButton,{onClick:function(){return t.props.influencerActions.closeEditInfluencer()}},s.a.createElement("i",{className:"zmdi zmdi-close"})),s.a.createElement(H,null,s.a.createElement(U,null,s.a.createElement(d.a,{"translate-key":"component_influencerSetting"},"\u610f\u898b\u9818\u8896\u8a2d\u5b9a"))),s.a.createElement(N,null,s.a.createElement(P,null,s.a.createElement(W,null,s.a.createElement(d.a,{"translate-key":"component_avatar"},"\u986f\u793a\u982d\u50cf")),this.props.selfInfluencer?s.a.createElement(b.a,{stylecomponent:L,isBackgroundImage:!0,src:this.state.coverURL,text:this.state.nameInputText}):s.a.createElement(L,null),i||o?null:s.a.createElement(B,{multiple:!1,accept:"image/*",onDrop:this.onFileSelect},s.a.createElement(d.a,{"translate-key":"component_editAvatar"},"\u4fee\u6539\u986f\u793a\u982d\u50cf")),!i&&o?s.a.createElement(B,{multiple:!1,accept:"image/*",onDrop:this.onFileSelect},s.a.createElement(d.a,{"translate-key":"serverRtnMsg_errorAndRetry"},"\u767c\u751f\u932f\u8aa4\uff0c\u518d\u8a66\u4e00\u6b21")):null,i&&r<100?s.a.createElement(G,null,s.a.createElement(d.a,{"translate-key":"component_fileUploading"},"\u6a94\u6848\u4e0a\u50b3\u4e2d")," (",r,"%)"):null,i&&100===r?s.a.createElement(G,null,s.a.createElement(d.a,{"translate-key":"component_fileProgressing"},"\u6a94\u6848\u6b63\u5728\u8655\u7406\u4e2d")):null),s.a.createElement(J,null,s.a.createElement(V,null,s.a.createElement(d.a,{"translate-key":"component_displayName"},"\u986f\u793a\u540d\u7a31")),s.a.createElement(X,null,s.a.createElement("input",{type:"text",value:this.state.nameInputText,onChange:function(e){return t.onInputChange(e,"nameInputText")}}))),s.a.createElement(J,null,s.a.createElement(V,null,s.a.createElement(d.a,{"translate-key":"component_company"},"\u4efb\u8077\u65bc")),s.a.createElement(X,null,s.a.createElement("input",{type:"text",value:this.state.companyInputText,onChange:function(e){return t.onInputChange(e,"companyInputText")}}))),s.a.createElement(J,null,s.a.createElement(V,null,s.a.createElement(d.a,{"translate-key":"component_jobtitle"},"\u8077\u7a31")),s.a.createElement(X,null,s.a.createElement("input",{type:"text",value:this.state.jobtitleInputText,onChange:function(e){return t.onInputChange(e,"jobtitleInputText")}}))),s.a.createElement(J,null,s.a.createElement(V,null,s.a.createElement(d.a,{"translate-key":"component_aboutyou"},"\u95dc\u65bc\u60a8")),s.a.createElement(Y,null,s.a.createElement(g.a,{minRows:3,value:this.state.descriptionInputText,onChange:function(e){return t.onInputChange(e,"descriptionInputText")}})))),this.state.isNameInputTextEmpty?s.a.createElement(K,null,s.a.createElement(d.a,{"translate-key":"component_displayNameEmpty"},"\u4f60\u5fc5\u9808\u586b\u5beb\u4f60\u7684\u986f\u793a\u540d\u7a31")):null,s.a.createElement(Q,null,s.a.createElement($,{onClick:this.onSubmitClick,disable:n},n?s.a.createElement(h.i.Spin,{color:"#FFF",size:"16px"}):null,s.a.createElement(d.a,{"translate-key":"component_saveSetting"},"\u5132\u5b58\u8a2d\u5b9a")),s.a.createElement(tt,{onClick:function(){return t.props.influencerActions.closeEditInfluencer()}},s.a.createElement(d.a,{"translate-key":"component_cancel"},"\u53d6\u6d88")))))}},{key:"onFileSelect",value:function(t){var e=this;if(Array.isArray(t)&&t.length>0){var n=t[0],i=n.preview;this.props.webActions.cropImage(i,1,!1,function(t){var i=t.x,o=t.y,r=t.width,a=t.height;e.setState({coverFile:n,cropX:i,cropY:o,cropWidth:r,cropHeight:a},function(){e.props.influencerActions.uploadSelfInfluencerCover(n,i,o,r,a).then(function(t){t&&e.setState({coverFile:void 0,coverURL:t})})})})}}},{key:"onSubmitClick",value:function(t){var e=this,n=this.state.nameInputText,i=this.state.descriptionInputText,o=this.state.companyInputText,r=this.state.jobtitleInputText;if(!n)return void this.setState({isNameInputTextEmpty:!0});this.setState({isNameInputTextEmpty:!1}),this.props.influencerActions.updateSelfInfluencerInfo(n,i,o,r).then(function(t){e.props.influencerActions.closeEditInfluencer()})}}]),e}(l.Component),nt=function(t){return{selfInfluencer:t.influencer.selfInfluencer,isUpdating:t.influencer.isUpdatingEditInfluencer,isUpdatError:t.influencer.isUpdatEditInfluencerError,isUploadCover:t.influencer.isUploadSelfInfluencerCover,isUploadCoverError:t.influencer.isUploadSelfInfluencerError,progress:t.influencer.uploadSelfInfluencerCoverProgress}},it=function(t){return{webActions:Object(c.bindActionCreators)(u.a.webActionCreators,t),influencerActions:Object(c.bindActionCreators)(u.a.influencerActionCreators,t)}};e.default=Object(p.b)(nt,it,null,{withRef:!0})(et)},882:function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function r(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function a(t,e,n,i,o){void 0===n&&(n=!1),void 0===i&&(i=null),void 0===o&&(o=null),null===h.parentNode&&document.body.appendChild(h);var r=l(t,e,n);if(null===r)return null;var a=r.paddingSize,s=r.borderSize,c=r.boxSizing,p=r.sizingStyle;Object.keys(p).forEach(function(t){h.style[t]=p[t]}),Object.keys(m).forEach(function(t){h.style.setProperty(t,m[t],"important")}),h.value=t.value||t.placeholder||"x";var u=-1/0,d=1/0,f=h.scrollHeight;"border-box"===c?f+=s:"content-box"===c&&(f-=a),h.value="x";var g=h.scrollHeight-a;return null===i&&null===o||(null!==i&&(u=g*i,"border-box"===c&&(u=u+a+s),f=Math.max(u,f)),null!==o&&(d=g*o,"border-box"===c&&(d=d+a+s),f=Math.min(d,f))),{height:f,minHeight:u,maxHeight:d,rowCount:Math.floor(f/g)}}function l(t,e,n){if(void 0===n&&(n=!1),n&&x[e])return x[e];var i=window.getComputedStyle(t);if(null===i)return null;var o=g.reduce(function(t,e){return t[e]=i.getPropertyValue(e),t},{}),r=o["box-sizing"];f&&"border-box"===r&&(o.width=parseFloat(o.width)+parseFloat(i["border-right-width"])+parseFloat(i["border-left-width"])+parseFloat(i["padding-right"])+parseFloat(i["padding-left"])+"px");var a=parseFloat(o["padding-bottom"])+parseFloat(o["padding-top"]),l=parseFloat(o["border-bottom-width"])+parseFloat(o["border-top-width"]),s={sizingStyle:o,paddingSize:a,borderSize:l,boxSizing:r};return n&&(x[e]=s),s}var s=n(1),c=n.n(s),p=n(2),u=n.n(p),d="undefined"!==typeof window&&"undefined"!==typeof document,f=!!d&&!!document.documentElement.currentStyle,h=d&&document.createElement("textarea"),m={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},g=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],x={},b=function(t){return delete x[t]},y=function(t){return void 0===t&&(t=0),function(){return++t}}(),v=function(){},w=d&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],E=w[0],I=w[1],C=function(t){function e(e){var n;return n=t.call(this,e)||this,n._resizeLock=!1,n._onRootDOMNode=function(t){n._rootDOMNode=t,n.props.inputRef&&n.props.inputRef(t)},n._onChange=function(t){n._controlled||n._resizeComponent(),n.props.onChange(t)},n._resizeComponent=function(t){if(void 0===t&&(t=v),"undefined"===typeof n._rootDOMNode)return void t();var e=a(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null===e)return void t();var i=e.height,o=e.minHeight,r=e.maxHeight,l=e.rowCount;if(n.rowCount=l,n.state.height!==i||n.state.minHeight!==o||n.state.maxHeight!==r)return void n.setState({height:i,minHeight:o,maxHeight:r},t);t()},n.state={height:e.style&&e.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=y(),n._controlled="string"===typeof e.value,n}o(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=(t.minRows,t.maxRows,t.onHeightChange,t.useCacheForDOMMeasurements,t.inputRef,r(t,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return e.style=i({},e.style,{height:this.state.height}),Math.max(e.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(e.style.overflow="hidden"),c.a.createElement("textarea",i({},e,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.componentDidMount=function(){var t=this;this._resizeComponent(),this._resizeListener=function(){t._resizeLock||(t._resizeLock=!0,t._resizeComponent(function(){return t._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.componentWillReceiveProps=function(){var t=this;this._clearNextFrame(),this._onNextFrameActionId=E(function(){return t._resizeComponent()})},n.componentDidUpdate=function(t,e){this.state.height!==e.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),b(this._uid)},n._clearNextFrame=function(){I(this._onNextFrameActionId)},e}(c.a.Component);C.propTypes={value:u.a.string,onChange:u.a.func,onHeightChange:u.a.func,useCacheForDOMMeasurements:u.a.bool,minRows:u.a.number,maxRows:u.a.number,inputRef:u.a.func},C.defaultProps={onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},e.a=C}});
//# sourceMappingURL=44.09c701db.chunk.js.map