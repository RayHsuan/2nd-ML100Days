webpackJsonp([50],{847:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),l=n.n(s),c=n(32),p=n(48),u=n(54),g=n(5),f=n(26),d=n(119),h=n(897),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=a(["\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n"],["\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n"]),y=a(["\n    0% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n    }\n"],["\n    0% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n    }\n"]),v=a(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tvisibility: visible;\n\ttransform: translateZ(0);\n\ttransition: visibility 300ms, z-index 0s 300ms;\n\tz-index: 2010;\n"],["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tvisibility: visible;\n\ttransform: translateZ(0);\n\ttransition: visibility 300ms, z-index 0s 300ms;\n\tz-index: 2010;\n"]),x=a(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: ",";\n\tvisibility: visible;\n\ttransform: translateZ(0);\t\n\tcursor: pointer;\n\tanimation: "," 0.3s ease-out;\n"],["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: ",";\n\tvisibility: visible;\n\ttransform: translateZ(0);\t\n\tcursor: pointer;\n\tanimation: "," 0.3s ease-out;\n"]),w=a(["\n\tposition: absolute;\n    top: 0;\n    right: 0;\n    width: 80px;\n    height: 80px;\n    background-color: transparent;\n    color: #FFF;\n    font-size: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n"],["\n\tposition: absolute;\n    top: 0;\n    right: 0;\n    width: 80px;\n    height: 80px;\n    background-color: transparent;\n    color: #FFF;\n    font-size: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n"]),k=a(["\n\tposition: absolute;\n\tbackground-color: #FFF;\n\ttransform: translateZ(0);\t\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\ttransition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\ttransition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"],["\n\tposition: absolute;\n\tbackground-color: #FFF;\n\ttransform: translateZ(0);\t\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\ttransition: all 300ms cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\ttransition-timing-function: cubic-bezier(0.000, 0.000, 0.580, 1.000); /* ease-out */\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]),C=a(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: ",";\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 0 20px;\n"],["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-color: ",";\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 0 20px;\n"]),O=a(["\n\tfont-size: 18px;\n\tcolor: #FFF;\n\tmargin: 0;\n"],["\n\tfont-size: 18px;\n\tcolor: #FFF;\n\tmargin: 0;\n"]),I=a(["\n\tposition: absolute;\n\ttop: 50%;\n\twidth: 75px;\n\theight: 300px;\n\tcursor: pointer;\n\tcolor: #FFF;\n\tbackground-color: rgba(200, 200, 200, 0.1);\n\ttransform: translateY(-50%);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 28px;\n"],["\n\tposition: absolute;\n\ttop: 50%;\n\twidth: 75px;\n\theight: 300px;\n\tcursor: pointer;\n\tcolor: #FFF;\n\tbackground-color: rgba(200, 200, 200, 0.1);\n\ttransform: translateY(-50%);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 28px;\n"]),j=a(["\n\tleft: 0;\n\tborder-radius: 0 8px 8px 0;\n"],["\n\tleft: 0;\n\tborder-radius: 0 8px 8px 0;\n"]),E=a(["\n\tright: 0;\n\tborder-radius: 8px 0 0 8px;\n"],["\n\tright: 0;\n\tborder-radius: 8px 0 0 8px;\n"]),z=Object(g.keyframes)(b),H=Object(g.keyframes)(y),P=g.default.div(v),F=g.default.div(x,f.e.RGBA("#000",.8),function(t){return t.isBeginClose?H:z}),A=g.default.div(w),L=g.default.div(k),W=g.default.div(C,f.e.RGBA("#000",.2)),_=g.default.p(O),S=g.default.div(I),N=S.extend(j),T=S.extend(E),V=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.preLoadAllImage=n.preLoadAllImage.bind(n),n.loadImage=n.loadImage.bind(n),n.onImageLoaded=n.onImageLoaded.bind(n),n.onImageLoadError=n.onImageLoadError.bind(n),n.onImageClickHandler=n.onImageClickHandler.bind(n),n.prev=n.prev.bind(n),n.next=n.next.bind(n),n.close=n.close.bind(n),n.onKeydownHandler=n.onKeydownHandler.bind(n),n.state={isLoading:!1,isError:!1,isBeginClose:!1,targetX:n.props.targetX,targetY:n.props.targetY,targetWidth:n.props.targetWidth,targetHeight:n.props.targetHeight,targetOpacity:1,current:n.props.current,currentImage:n.props.defaultImage},n}return o(e,t),m(e,[{key:"componentDidMount",value:function(){var t=this.props.images[this.props.current];this.loadImage(t,this.props.current),this.preLoadAllImage(),document.addEventListener("keydown",this.onKeydownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeydownHandler)}},{key:"onKeydownHandler",value:function(t){switch(t.code){case"ArrowLeft":this.prev(t);break;case"ArrowRight":this.next(t);break;case"Escape":this.close(t)}}},{key:"preLoadAllImage",value:function(){for(var t,e=0;e<this.props.images.length;e++){var n=this.props.images[e];t=new Image,t.src=n}}},{key:"loadImage",value:function(t,e){this.setState({isLoading:!0,isError:!1,current:e}),this.image=new Image,this.image.onload=this.onImageLoaded,this.image.onerror=this.onImageLoadError,this.image.src=t}},{key:"onImageLoaded",value:function(t){var e=window.innerWidth,n=window.innerHeight,i=e-20,r=n-20,o=this.image.naturalWidth,a=this.image.naturalHeight,s=i/o,l=r/a,c=0,p=0;(s<1||l<1)&&(s<l?(o=i,a*=s):(a=r,o*=l)),p=(e-o)/2,c=(n-a)/2,this.setState({targetX:p,targetY:c,targetWidth:o,targetHeight:a,currentImage:this.image.src,isLoading:!1})}},{key:"onImageLoadError",value:function(t){this.setState({isError:!0,isLoading:!1})}},{key:"render",value:function(){return l.a.createElement(P,null,l.a.createElement(F,{isBeginClose:this.state.isBeginClose,onClick:this.close}),l.a.createElement(A,{onClick:this.close},l.a.createElement("i",{className:"zmdi zmdi-close"})),this.state.current>0?l.a.createElement(h.a,{placement:"right",text:"\u4e0a\u4e00\u5f35",overlayStyle:{zIndex:2011}},l.a.createElement(N,{onClick:this.prev},l.a.createElement("i",{className:"zmdi zmdi-chevron-left"}))):null,this.state.current<this.props.images.length-1?l.a.createElement(h.a,{placement:"left",text:"\u4e0b\u4e00\u5f35",overlayStyle:{zIndex:2011}},l.a.createElement(T,{onClick:this.next},l.a.createElement("i",{className:"zmdi zmdi-chevron-right"}))):null,l.a.createElement(L,{style:{left:this.state.targetX+"px",top:this.state.targetY+"px",width:this.state.targetWidth+"px",height:this.state.targetHeight+"px",backgroundImage:"url("+this.state.currentImage+")",cursor:this.props.images.length>1?"pointer":"zoom-out",opacity:this.state.targetOpacity},onClick:this.onImageClickHandler},this.state.isLoading?l.a.createElement(f.i.Spin,{color:"#FFF"}):null,this.state.isError?l.a.createElement(W,null,l.a.createElement(_,null,l.a.createElement(d.a,{"translate-key":"component_imageLoadFail"},"\u7121\u6cd5\u9806\u5229\u8f09\u5165\u5716\u7247"))):null))}},{key:"onImageClickHandler",value:function(t){if(1===this.props.images.length)this.close(t);else{var e=void 0,n=this.state.current;this.state.current>=this.props.images.length-1?n=0:n++,e=this.props.images[n],this.loadImage(e,n)}}},{key:"prev",value:function(t){var e=this.state.current-1,n=this.props.images[e];n&&this.loadImage(n,e)}},{key:"next",value:function(t){var e=this.state.current+1,n=this.props.images[e];n&&this.loadImage(n,e)}},{key:"close",value:function(t){var e=this,n=this.state.targetX,i=this.state.targetY,r=this.state.targetWidth,o=this.state.targetHeight,a=0;this.state.current===this.props.current&&(n=this.props.targetX,i=this.props.targetY,r=this.props.targetWidth,o=this.props.targetHeight,a=1),this.setState({targetX:n,targetY:i,targetWidth:r,targetHeight:o,targetOpacity:a,isBeginClose:!0},function(){setTimeout(function(){e.props.playerActions.closeFullImage(),e.props.fullImagesCloseCallback&&e.props.fullImagesCloseCallback()},250)})}}]),e}(s.Component),Y=function(t){return{fullImagesCloseCallback:t.player.fullImagesCloseCallback,defaultImage:t.player.fullImageDefaultImage,targetX:t.player.fullImageTargetX,targetY:t.player.fullImageTargetY,targetWidth:t.player.fullImageTargetWidth,targetHeight:t.player.fullImageTargetHeight,images:t.player.fullImages,current:t.player.fullImageCurrentIndex}},X=function(t){return{webActions:Object(c.bindActionCreators)(u.a.webActionCreators,t),playerActions:Object(c.bindActionCreators)(u.a.playerActionCreators,t)}};e.default=Object(p.b)(Y,X,null,{withRef:!0})(V)},897:function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var l=n(1),c=n.n(l),p=n(2),u=n.n(p),g=n(17),f=n.n(g),d=n(306),h=n(307),m=(n.n(h),n(5)),b=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y=s(["\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n"],["\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n"]),v=s(["\n\tposition: relative;\n\tbackground-color: #383838;\n  color: #fff;\n  padding: 8px 10px;\n  line-height: 12px;\n  white-space: nowrap;\n  text-shadow: 0 -1px 0 #000;\n  box-shadow: 4px 4px 8px rgba(0,0,0,.3);\n  pointer-events: none;    \n  transform: translate3d(0,0,0);\n  transition-delay: 0;\n  animation: "," 0.3s ease;\n  z-index: 2;\n  font-size: 14px;\n\t&:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: ",";\n\t\tleft: ",";\t\t\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tbackground-color: #383838;\n\t\ttransform: "," rotate(45deg);\n\t\tz-index: -1;\n\t\tpointer-events: none;  \n\t}\n\n"],["\n\tposition: relative;\n\tbackground-color: #383838;\n  color: #fff;\n  padding: 8px 10px;\n  line-height: 12px;\n  white-space: nowrap;\n  text-shadow: 0 -1px 0 #000;\n  box-shadow: 4px 4px 8px rgba(0,0,0,.3);\n  pointer-events: none;    \n  transform: translate3d(0,0,0);\n  transition-delay: 0;\n  animation: "," 0.3s ease;\n  z-index: 2;\n  font-size: 14px;\n\t&:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: ",";\n\t\tleft: ",";\t\t\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tbackground-color: #383838;\n\t\ttransform: "," rotate(45deg);\n\t\tz-index: -1;\n\t\tpointer-events: none;  \n\t}\n\n"]),x=Object(m.keyframes)(y),w=m.default.div(v,x,function(t){switch(t.placement){case"left":case"right":return"50%";case"top":return"calc(100% - 10px)";case"bottom":return"-4px";default:return 0}},function(t){switch(t.placement){case"left":return"calc(100% - 10px)";case"right":return"-4px";case"top":case"bottom":return"50%";default:return 0}},function(t){switch(t.placement){case"left":case"right":return"translateY(-50%)";case"top":case"bottom":return"translateX(-50%)";default:return""}}),k=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return C.call(n),n.state="visible"in t?{visible:t.visible}:{visible:t.defaultVisible},n.renderHint=n.renderHint.bind(n),n}return a(e,t),b(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.visible;void 0!==e&&this.setState({visible:e})}},{key:"getHintElement",value:function(){var t=this.props,e=t.placement,n=t.prefixCls,i=this.renderHint(e),r={prefixCls:n+"-menu"};return"string"===typeof i.type&&delete r.prefixCls,c.a.cloneElement(i,r)}},{key:"getPopupDomNode",value:function(){return this.refs.trigger.getPopupDomNode()}},{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.children,r=t.transitionName,o=t.animation,a=t.align,s=t.placement,l=t.getPopupContainer,p=t.showAction,u=t.hideAction,g=t.overlayClassName,f=t.overlayStyle,h=t.trigger,m=t.destroyPopupOnHide,b=i(t,["prefixCls","children","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger","destroyPopupOnHide"]);return c.a.createElement(d.a,Object.assign({},b,{prefixCls:e,ref:"trigger",popupClassName:g,popupStyle:f,builtinPlacements:j,destroyPopupOnHide:m,action:h,showAction:p,hideAction:u,popupPlacement:s,popupAlign:a,popupTransitionName:r,popupAnimation:o,popupVisible:this.state.visible,afterPopupVisibleChange:this.afterVisibleChange,popup:this.getHintElement(),onPopupVisibleChange:this.onVisibleChange,getPopupContainer:l}),n)}},{key:"renderHint",value:function(t){return c.a.createElement(w,{placement:t},this.props.text)}}]),e}(l.Component);k.propTypes={minOverlayWidthMatchTrigger:u.a.bool,onVisibleChange:u.a.func,prefixCls:u.a.string,children:u.a.any,transitionName:u.a.string,animation:u.a.any,align:u.a.object,overlayClassName:u.a.string,overlayStyle:u.a.object,placement:u.a.string,overlay:u.a.node,trigger:u.a.array,showAction:u.a.array,hideAction:u.a.array,getPopupContainer:u.a.func,visible:u.a.bool,defaultVisible:u.a.bool,destroyPopupOnHide:u.a.bool},k.defaultProps={minOverlayWidthMatchTrigger:!0,prefixCls:"rc-trigger-popup",trigger:["hover"],showAction:[],hideAction:[],overlayClassName:"",overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottom",destroyPopupOnHide:!0};var C=function(){var t=this;this.hide=function(){t.setState({visible:!1})},this.onVisibleChange=function(e){var n=t.props;"visible"in n||t.setState({visible:e}),n.onVisibleChange(e)},this.afterVisibleChange=function(e){if(e&&t.props.minOverlayWidthMatchTrigger){var n=t.getPopupDomNode(),i=f.a.findDOMNode(t);i.offsetWidth>n.offsetWidth&&(n.style.width=i.offsetWidth+"px")}}};e.a=k;var O={adjustX:1,adjustY:1},I=[0,0],j={left:{points:["cr","cl"],overflow:O,offset:[-6,0],targetOffset:I},right:{points:["cl","cr"],overflow:O,offset:[6,0],targetOffset:I},top:{points:["bc","tc"],overflow:O,offset:[0,-6],targetOffset:I},bottom:{points:["tc","bc"],overflow:O,offset:[0,6],targetOffset:I}}}});
//# sourceMappingURL=50.469d1e3a.chunk.js.map