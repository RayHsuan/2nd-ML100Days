webpackJsonp([61],{868:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n.n(l),u=n(32),g=n(48),p=n(54),h=n(5),f=n(26),d=n(2),b=n.n(d),y=n(34),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),T=s(["\n    height: 62px;\n    border-bottom: 1px solid ",";\n    line-height: 62px;\n    padding: 0 20px;\n    background-color: #F9F9F9;\n    font-size: 16px;\n    font-weight: 600;\n    color: #2A2A2A;\n"],["\n    height: 62px;\n    border-bottom: 1px solid ",";\n    line-height: 62px;\n    padding: 0 20px;\n    background-color: #F9F9F9;\n    font-size: 16px;\n    font-weight: 600;\n    color: #2A2A2A;\n"]),x=s(["\n    padding: 20px;\n    background-color: #fff;\n    min-height: 328px;\n"],["\n    padding: 20px;\n    background-color: #fff;\n    min-height: 328px;\n"]),m=s(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    height: 60px;  \n    background-color: #fff;\n    border-top: 1px solid #F0EFEE;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    height: 60px;  \n    background-color: #fff;\n    border-top: 1px solid #F0EFEE;\n"]),A=s(["\n    width: 182px;\n    height: 36px;\n    line-height: 36px;\n"],["\n    width: 182px;\n    height: 36px;\n    line-height: 36px;\n"]),k=s(["\n    width: 182px;\n    height: 36px;\n    line-height: 36px;\n    margin-left: 10px;\n"],["\n    width: 182px;\n    height: 36px;\n    line-height: 36px;\n    margin-left: 10px;\n"]),v=s(["\n    cursor: pointer;\n"],["\n    cursor: pointer;\n"]),C=h.default.div(T,f.e.Dark6),E=h.default.div(x),j=h.default.div(m),O=Object(h.default)(f.b.Red)(A),S=Object(h.default)(f.b.Gray)(k),q=Object(h.default)(f.u.QAItemTag)(v),D=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.closeDialog=n.closeDialog.bind(n),n.searchQAByTags=n.searchQAByTags.bind(n),n.changeTopTags=n.changeTopTags.bind(n);var r=e.tags,s=e.topTags,l=e.assistid,c=e.questionHotTagsCache,u=r.map(function(e){return e.toLowerCase()}),g=s.map(function(e){return e.toLowerCase()});r=[].concat(o(new Set([].concat(o(g.filter(function(e){return u.includes(e)})),o(u)))));var p=c[l]||{},h=p.questionSize,f=void 0===h?{}:h;return n.state={topTags:g,tags:r,questionSize:f},n}return r(t,e),w(t,[{key:"closeDialog",value:function(){this.props.webActions.hideQuestionAllTagsDialog()}},{key:"searchQAByTags",value:function(){var e=this.state.topTags,t=this.props.assistid,n={layoutType:"qa"};Array.isArray(e)&&e.length>0&&(n.queryTags=e.reduce(function(e,t,n){return e+=0===n?window.encodeURIComponent(t):","+window.encodeURIComponent(t)},"")),this.props.webActions.cupoyStateGo(y.a.STATES.KWASSIST,{id:t},n),this.props.callback&&this.props.callback(),this.closeDialog()}},{key:"changeTopTags",value:function(e){var t=e.target.getAttribute("name");this.setState(function(e){var n=e.topTags;return{topTags:n.includes(t)?n.filter(function(e){return e!==t}):[].concat(o(n),[t])}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.highlightBGColor,o=t.showSize,i=this.state,a=i.topTags,r=i.tags,s=i.questionSize;return c.a.createElement(f.f.Content,{maxWidth:"760px",width:"calc(100% - 40px)",backgroundColor:"#fff",borderRadius:"3px",padding:"0",visible:!0,animation:"zoom",maskAnimation:"fade",closable:!1,maskClosable:!0,keyboard:!1,onClose:this.closeDialog},c.a.createElement(C,null,"\u71b1\u9580\u6a19\u7c64"),c.a.createElement(E,null,c.a.createElement(f.u.QAItemTagList,null,r.map(function(t){var i=s[t]||0,r=o&&i>0?t+" ( "+i+" )":t;return c.a.createElement(q,{key:t,highlightBGColor:a.includes(t)&&n,onClick:e.changeTopTags,name:t},r)}))),c.a.createElement(j,null,c.a.createElement(O,{onClick:this.searchQAByTags},"\u641c\u5c0b"),c.a.createElement(S,{onClick:this.closeDialog},"\u53d6\u6d88")))}}]),t}(l.PureComponent);D.propTypes={assistid:b.a.string,tags:b.a.array.isRequired,topTags:b.a.array,highlightBGColor:b.a.string,callback:b.a.func,showSize:b.a.bool},D.defaultProps={tags:[],topTags:[],highlightBGColor:"#FEF4F4"};var F=function(e){return{tags:e.web.questionAllTagsDialog.tags,assistid:e.web.questionAllTagsDialog.assistid,topTags:e.web.questionAllTagsDialog.topTags,highlightBGColor:e.web.questionAllTagsDialog.highlightBGColor,showSize:e.web.questionAllTagsDialog.showSize,callback:e.web.questionAllTagsDialog.callback,questionHotTagsCache:e.kwassist.questionHotTagsCache}},z=function(e){return{webActions:Object(u.bindActionCreators)(p.a.webActionCreators,e)}};t.default=Object(g.b)(F,z,null,{withRef:!0})(D)}});
//# sourceMappingURL=61.0450307b.chunk.js.map