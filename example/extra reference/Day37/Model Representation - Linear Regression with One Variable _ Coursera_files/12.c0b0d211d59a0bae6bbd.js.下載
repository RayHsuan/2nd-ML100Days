(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+7AZ":function(module,e,t){"use strict";t.r(e),t.d(e,"__extends",function(){return __extends}),t.d(e,"__assign",function(){return n}),t.d(e,"__rest",function(){return __rest}),t.d(e,"__decorate",function(){return __decorate}),t.d(e,"__param",function(){return __param}),t.d(e,"__metadata",function(){return __metadata}),t.d(e,"__awaiter",function(){return __awaiter}),t.d(e,"__generator",function(){return __generator}),t.d(e,"__exportStar",function(){return __exportStar}),t.d(e,"__values",function(){return __values}),t.d(e,"__read",function(){return __read}),t.d(e,"__spread",function(){return __spread}),t.d(e,"__spreadArrays",function(){return __spreadArrays}),t.d(e,"__await",function(){return __await}),t.d(e,"__asyncGenerator",function(){return __asyncGenerator}),t.d(e,"__asyncDelegator",function(){return __asyncDelegator}),t.d(e,"__asyncValues",function(){return __asyncValues}),t.d(e,"__makeTemplateObject",function(){return __makeTemplateObject}),t.d(e,"__importStar",function(){return __importStar}),t.d(e,"__importDefault",function(){return __importDefault});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var n=function(){return(n=Object.assign||function __assign(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function __decorate(e,t,r,n){var i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})}function __generator(e,t){var _={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(r)throw new TypeError("Generator is already executing.");for(;_;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return _.label++,{value:o[1],done:!1};case 5:_.label++,n=o[1],o=[0];continue;case 7:o=_.ops.pop(),_.trys.pop();continue;default:if(!(i=(i=_.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){_=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){_.label=o[1];break}if(6===o[0]&&_.label<i[1]){_.label=i[1],i=o;break}if(i&&_.label<i[2]){_.label=i[2],_.ops.push(o);break}i[2]&&_.ops.pop(),_.trys.pop();continue}o=t.call(e,_)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function __exportStar(e,exports){for(var t in e)exports.hasOwnProperty(t)||(exports[t]=e[t])}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(e){n[e]&&(i[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||resume(e,t)})})}function resume(e,t){try{step(n[e](t))}catch(e){settle(o[0][3],e)}}function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(o[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),o.shift(),o.length&&resume(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,r;return t={},verb("next"),verb("throw",function(e){throw e}),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=__values(e),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise(function(n,i){settle(n,i,(r=e[t](r)).done,r.value)})}}function settle(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}},"+X0y":function(module,exports){var e={"":!0,up:!0};function findScrollSetting(t){if("string"!=typeof t)return!1;var r;return!!e[t.toLowerCase()]&&t.toLowerCase()}function isValidPercentValue(e){return"number"==typeof e&&e>=0&&e<=100}function VTTRegion(){var e=100,t=3,r=0,n=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!isValidPercentValue(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(e){if(!isValidPercentValue(e))throw new Error("RegionAnchorX must be between 0 and 100.");n=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!isValidPercentValue(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!isValidPercentValue(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!isValidPercentValue(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=findScrollSetting(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})}module.exports=VTTRegion},"0CSc":function(module,exports,e){"use strict";var t=e("IdCN"),r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,i=function forEachArray(e,t,r){for(var i=0,o=e.length;i<o;i++)n.call(e,i)&&(null==r?t(e[i],i,e):t.call(r,e[i],i,e))},o=function forEachString(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},a=function forEachObject(e,t,r){for(var i in e)n.call(e,i)&&(null==r?t(e[i],i,e):t.call(r,e[i],i,e))},s=function forEach(e,n,s){if(!t(n))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=s),"[object Array]"===r.call(e)?i(e,n,l):"string"==typeof e?o(e,n,l):a(e,n,l)};module.exports=s},"0CxO":function(module,exports){var e=Object.create||function(){function F(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=e,new F}}();function ParsingError(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function parseTimeStamp(e){function computeSeconds(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var t=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!t)return null;return t[3]?computeSeconds(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?computeSeconds(t[1],t[2],0,t[4]):computeSeconds(0,t[1],t[2],t[4])}function Settings(){this.values=e(null)}function parseOptions(e,t,r,n){var i=n?e.split(n):[e];for(var o in i){if("string"!=typeof i[o])continue;var a=i[o].split(r),s,l;if(2!==a.length)continue;t(a[0],a[1])}}function parseCue(e,t,r){var n=e;function consumeTimeStamp(){var t=parseTimeStamp(e);if(null===t)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function consumeCueSettings(e,t){var n=new Settings;parseOptions(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function skipWhitespace(){e=e.replace(/^\s+/,"")}if(skipWhitespace(),t.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==e.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),skipWhitespace(),t.endTime=consumeTimeStamp(),skipWhitespace(),consumeCueSettings(e,t)}ParsingError.prototype=e(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){if(r)return this.has(e)?this.values[e]:t[r];return this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var r;if((r=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t))>=0&&t<=100)return this.set(e,t),!0;return!1}};var t={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},r={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},n={v:"title",lang:"lang"},i={rt:"ruby"};function parseContent(e,o){function nextToken(){if(!o)return null;function consume(e){return o=o.substr(e.length),e}var e=o.match(/^([^<]*)(<[^>]*>?)?/);return consume(e[1]?e[1]:e[2])}function unescape1(e){return t[e]}function unescape(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],unescape1);return e}function shouldAdd(e,t){return!i[t.localName]||i[t.localName]===e.localName}function createElement(t,i){var o=r[t];if(!o)return null;var a=e.document.createElement(o);a.localName=o;var s=n[t];return s&&i&&(a[s]=i.trim()),a}for(var a=e.document.createElement("div"),s=a,l,u=[];null!==(l=nextToken());){if("<"===l[0]){if("/"===l[1]){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),s=s.parentNode);continue}var c=parseTimeStamp(l.substr(1,l.length-2)),h;if(c){h=e.document.createProcessingInstruction("timestamp",c),s.appendChild(h);continue}var p=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(h=createElement(p[1],p[3])))continue;if(!shouldAdd(s,h))continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),u.push(p[1]),s.appendChild(h),s=h;continue}s.appendChild(e.document.createTextNode(unescape(l)))}return a}var o=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(e){for(var t=0;t<o.length;t++){var r=o[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function determineBidi(e){var t=[],r="",n;if(!e||!e.childNodes)return"ltr";function pushNodes(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function nextTextNode(e){if(!e||!e.length)return null;var t=e.pop(),r=t.textContent||t.innerText;if(r){var n=r.match(/^.*(\n|\r)/);if(n)return e.length=0,n[0];return r}if("ruby"===t.tagName)return nextTextNode(e);if(t.childNodes)return pushNodes(e,t),nextTextNode(e)}for(pushNodes(t,e);r=nextTextNode(t);)for(var i=0;i<r.length;i++)if(isStrongRTLChar(n=r.charCodeAt(i)))return"rtl";return"ltr"}function computeLinePos(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}function StyleBox(){}function CueStyleBox(e,t,r){var n=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";n&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),StyleBox.call(this),this.cue=t,this.cueDiv=parseContent(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(a.direction=determineBidi(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function BoxPosition(e){var t=/MSIE\s8\.0/.test(navigator.userAgent),r,n,i,o;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),r=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==r?r:e.lineHeight,t&&!this.lineHeight&&(this.lineHeight=13)}function moveBoxToLinePosition(e,t,r,n){function findBestPosition(e,t){for(var i,o=new BoxPosition(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var l=e.intersectPercentage(r);a>l&&(i=new BoxPosition(e),a=l),e=new BoxPosition(o)}return i||o}var i=new BoxPosition(t),o=t.cue,a=computeLinePos(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(a),h=r[l]+u,p=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/u)*u),a<0&&(c+=""===o.vertical?r.height:r.width,s=s.reverse()),i.move(p,c)}else{var d=i.lineHeight/r.height*100;switch(o.lineAlign){case"middle":a-=d/2;break;case"end":a-=d}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new BoxPosition(t)}var f=findBestPosition(i,s);t.move(f.toCSSCompatValues(r))}function WebVTT(){}StyleBox.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},StyleBox.prototype.formatStyle=function(e,t){return 0===e?0:e+t},CueStyleBox.prototype=e(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},BoxPosition.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},BoxPosition.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},BoxPosition.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},BoxPosition.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},BoxPosition.prototype.intersectPercentage=function(e){var t,r,n;return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0,i;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},WebVTT.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},WebVTT.convertCueToDOMTree=function(e,t){if(!e||!t)return null;return parseContent(e,t)};var a=.05,s="sans-serif",l="1.5%";WebVTT.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");function shouldCompute(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),!shouldCompute(t)){for(var i=0;i<t.length;i++)n.appendChild(t[i].displayState);return}var o=[],a=BoxPosition.getSimpleBoxPosition(n),l,u={font:Math.round(.05*a.height*100)/100+"px "+s};!function(){for(var r,i,s=0;s<t.length;s++)i=t[s],r=new CueStyleBox(e,i,u),n.appendChild(r.div),moveBoxToLinePosition(e,r,a,o),i.displayState=r.div,o.push(BoxPosition.getSimpleBoxPosition(r))}()},WebVTT.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function collectNextLine(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}function parseRegion(e){var r=new Settings;if(parseOptions(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new Settings;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var n=new(t.vttjs.VTTRegion||t.window.VTTRegion);n.width=r.get("width",100),n.lines=r.get("lines",3),n.regionAnchorX=r.get("regionanchorX",0),n.regionAnchorY=r.get("regionanchorY",100),n.viewportAnchorX=r.get("viewportanchorX",0),n.viewportAnchorY=r.get("viewportanchorY",100),n.scroll=r.get("scroll",""),t.onregion&&t.onregion(n),t.regionList.push({id:r.get("id"),region:n})}}function parseTimestampMap(e){var r=new Settings;parseOptions(e,function(e,t){switch(e){case"MPEGT":r.integer(e+"S",t);break;case"LOCA":r.set(e+"L",parseTimeStamp(t))}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}function parseHeader(e){e.match(/X-TIMESTAMP-MAP/)?parseOptions(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":parseTimestampMap(t)}},/=/):parseOptions(e,function(e,t){switch(e){case"Region":parseRegion(t)}},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n=(r=collectNextLine()).match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new ParsingError(ParsingError.Errors.BadSignature);t.state="HEADER"}for(var i=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(i?i=!1:r=collectNextLine(),t.state){case"HEADER":/:/.test(r)?parseHeader(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{parseCue(r,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(i=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},module.exports=WebVTT},"30Go":function(module,e,t){"use strict";t.r(e),t.d(e,"__extends",function(){return __extends}),t.d(e,"__assign",function(){return n}),t.d(e,"__rest",function(){return __rest}),t.d(e,"__decorate",function(){return __decorate}),t.d(e,"__param",function(){return __param}),t.d(e,"__metadata",function(){return __metadata}),t.d(e,"__awaiter",function(){return __awaiter}),t.d(e,"__generator",function(){return __generator}),t.d(e,"__exportStar",function(){return __exportStar}),t.d(e,"__values",function(){return __values}),t.d(e,"__read",function(){return __read}),t.d(e,"__spread",function(){return __spread}),t.d(e,"__spreadArrays",function(){return __spreadArrays}),t.d(e,"__await",function(){return __await}),t.d(e,"__asyncGenerator",function(){return __asyncGenerator}),t.d(e,"__asyncDelegator",function(){return __asyncDelegator}),t.d(e,"__asyncValues",function(){return __asyncValues}),t.d(e,"__makeTemplateObject",function(){return __makeTemplateObject}),t.d(e,"__importStar",function(){return __importStar}),t.d(e,"__importDefault",function(){return __importDefault});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var n=function(){return(n=Object.assign||function __assign(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function __decorate(e,t,r,n){var i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})}function __generator(e,t){var _={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(r)throw new TypeError("Generator is already executing.");for(;_;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return _.label++,{value:o[1],done:!1};case 5:_.label++,n=o[1],o=[0];continue;case 7:o=_.ops.pop(),_.trys.pop();continue;default:if(!(i=(i=_.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){_=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){_.label=o[1];break}if(6===o[0]&&_.label<i[1]){_.label=i[1],i=o;break}if(i&&_.label<i[2]){_.label=i[2],_.ops.push(o);break}i[2]&&_.ops.pop(),_.trys.pop();continue}o=t.call(e,_)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function __exportStar(e,exports){for(var t in e)exports.hasOwnProperty(t)||(exports[t]=e[t])}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(e){n[e]&&(i[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||resume(e,t)})})}function resume(e,t){try{step(n[e](t))}catch(e){settle(o[0][3],e)}}function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(o[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),o.shift(),o.length&&resume(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,r;return t={},verb("next"),verb("throw",function(e){throw e}),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=__values(e),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise(function(n,i){settle(n,i,(r=e[t](r)).done,r.value)})}}function settle(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}},"6qBw":function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("OVg0"),o=t("MnCE"),a=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var s=function SvgStarHalfFade(e){var t=e.title,n=void 0===t?"Half Faded Star":t,o=_objectWithoutProperties(e,["title"]);return r.createElement(a.a,_extends({title:n},o,{viewBox:"0 0 48 48"}),r.createElement("g",{fillRule:"nonzero",fill:"none"},r.createElement("path",{fill:o.fadeColor||Object(i.b)(o.color,.5),d:"M24 0l-5.724 19.168L0 19.15l14.747 10.664L9.307 48 24 36.891 38.692 48l-5.438-18.186L48 19.15l-18.276.018z"}),r.createElement("path",{fill:o.color,d:"M18.28 19.177L0 19l14.756 11.43L9 48l15-11V1z"})))};(s=Object(o.pure)(s)).displayName="SvgStarHalfFade",e.a=s},"7sdD":function(module,exports,e){"use strict";var t=e("vgmO"),r=e("g2LC"),n=e("ZESv"),i=e("U6jy");function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,n){var o=e;return r(t)?(n=t,"string"==typeof e&&(o={uri:e})):o=i(t,{uri:e}),o.callback=n,o}function createXHR(e,t,r){return _createXHR(t=initParams(e,t,r))}function _createXHR(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function cbOnce(r,n,i){t||(t=!0,e.callback(r,n,i))};function readystatechange(){4===i.readyState&&setTimeout(loadFunc,0)}function getBody(){var e=void 0;if(e=i.response?i.response:i.responseText||getXml(i),p)try{e=JSON.parse(e)}catch(e){}return e}function errorFunc(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,f)}function loadFunc(){if(a)return;var t;clearTimeout(d),t=e.useXDR&&void 0===i.status?200:1223===i.status?204:i.status;var o=f,u=null;return 0!==t?(o={body:getBody(),statusCode:t,method:l,headers:{},url:s,rawRequest:i},i.getAllResponseHeaders&&(o.headers=n(i.getAllResponseHeaders()))):u=new Error("Internal XMLHttpRequest Error"),r(u,o,o.body)}var i=e.xhr||null,o,a;i||(i=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var s=i.url=e.uri||e.url,l=i.method=e.method||"GET",u=e.body||e.data,c=i.headers=e.headers||{},h=!!e.sync,p=!1,d,f={body:void 0,headers:{},statusCode:0,method:l,url:s,rawRequest:i};if("json"in e&&!1!==e.json&&(p=!0,c.accept||c.Accept||(c.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(c["content-type"]||c["Content-Type"]||(c["Content-Type"]="application/json"),u=JSON.stringify(!0===e.json?u:e.json))),i.onreadystatechange=readystatechange,i.onload=loadFunc,i.onerror=errorFunc,i.onprogress=function(){},i.onabort=function(){a=!0},i.ontimeout=errorFunc,i.open(l,s,!h,e.username,e.password),h||(i.withCredentials=!!e.withCredentials),!h&&e.timeout>0&&(d=setTimeout(function(){if(a)return;a=!0,i.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",errorFunc(e)},e.timeout)),i.setRequestHeader)for(o in c)c.hasOwnProperty(o)&&i.setRequestHeader(o,c[o]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(i.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(i),i.send(u||null),i}function getXml(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML;return null}function noop(){}module.exports=createXHR,createXHR.XMLHttpRequest=t.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:t.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return(r=initParams(t,r,n)).method=e.toUpperCase(),_createXHR(r)}})},"7zRj":function(module,exports,e){(function(t){var r=void 0!==t?t:"undefined"!=typeof window?window:{},n=e(182),i;"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=n),module.exports=i}).call(this,e("yLpj"))},"8caa":function(module,e,t){"use strict";t.d(e,"a",function(){return filter}),t.d(e,"b",function(){return propType});var r=t("RRgQ");function graphql(e,t,n,i,o,a){void 0===a&&(a={});var s=Object(r.getMainDefinition)(t),l=Object(r.getFragmentDefinitions)(t),u,c,h,p={fragmentMap:Object(r.createFragmentMap)(l),contextValue:i,variableValues:o,resultMapper:a.resultMapper,resolver:e,fragmentMatcher:a.fragmentMatcher||function(){return!0}};return executeSelectionSet(s.selectionSet,n,p)}function executeSelectionSet(e,t,n){var i=n.fragmentMap,o=n.contextValue,a=n.variableValues,s={};if(e.selections.forEach(function(e){if(!Object(r.shouldInclude)(e,a))return;if(Object(r.isField)(e)){var l=executeField(e,t,n),u=Object(r.resultKeyNameFromField)(e);void 0!==l&&(void 0===s[u]?s[u]=l:merge(s[u],l))}else{var c=void 0;if(Object(r.isInlineFragment)(e))c=e;else if(!(c=i[e.name.value]))throw new Error("No fragment named "+e.name.value);var h=c.typeCondition.name.value;if(n.fragmentMatcher(t,h,o)){var p=executeSelectionSet(c.selectionSet,t,n);merge(s,p)}}}),n.resultMapper)return n.resultMapper(s,t);return s}function executeField(e,t,n){var i=n.variableValues,o=n.contextValue,a,s,l,u,c=(0,n.resolver)(e.name.value,t,Object(r.argumentsObjectFromField)(e,i),o,{isLeaf:!e.selectionSet,resultKey:Object(r.resultKeyNameFromField)(e),directives:Object(r.getDirectiveInfoFromField)(e,i)});if(!e.selectionSet)return c;if(null==c)return c;if(Array.isArray(c))return executeSubSelectedArray(e,c,n);return executeSelectionSet(e.selectionSet,c,n)}function executeSubSelectedArray(e,t,r){return t.map(function(t){if(null===t)return null;if(Array.isArray(t))return executeSubSelectedArray(e,t,r);return executeSelectionSet(e.selectionSet,t,r)})}var n=Object.prototype.hasOwnProperty;function merge(e,t){null!==t&&"object"==typeof t&&Object.keys(t).forEach(function(r){var i=t[r];n.call(e,r)?merge(e[r],i):e[r]=i})}function filter(e,t){var r=function(e,t,r,n,i){return t[i.resultKey]};return Array.isArray(t)?t.map(function(t){return graphql(r,e,t)}):graphql(r,e,t)}function check(e,t){var r;graphql(function(e,t,r,n,i){if(!{}.hasOwnProperty.call(t,i.resultKey))throw new Error(i.resultKey+" missing on "+JSON.stringify(t));return t[i.resultKey]},e,t,{},{},{fragmentMatcher:function(){return!1}})}var i="<<anonymous>>";function PropTypeError(e){this.message=e,this.stack=""}PropTypeError.prototype=Error.prototype;var o={prop:"prop",context:"context",childContext:"child context"};function createChainableTypeChecker(e){function checkType(t,r,n,a,s,l){if(a=a||i,l=l||n,null==r[n]){var u=o[s];if(t){if(null===r[n])return new PropTypeError("The "+u+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.");return new PropTypeError("The "+u+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`.")}return null}return e(r,n,a,s,l)}var t=checkType.bind(null,!1);return t.isRequired=checkType.bind(null,!0),t}function propType(e){return createChainableTypeChecker(function(t,r){var n=t[r];try{return n.loading||check(e,n),null}catch(e){return e}})}var a=graphql},"9kOe":function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgStar(e){var t=e.title,n=void 0===t?"Star":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("path",{d:"M24.236,1 L18.455,19.323 L0,19.305 L14.892,29.499 L9.399,46.883 L24.236,36.264 L39.072,46.883 L33.58,29.499 L48.471,19.305 L30.016,19.323 L24.236,1 Z M24.236,7.647 L28.551,21.325 L42,21.311 L31.225,28.686 L35.356,41.765 L24.236,33.804 L13.115,41.765 L17.247,28.686 L6.472,21.311 L19.921,21.325 L24.236,7.647 Z"}))};(a=Object(i.pure)(a)).displayName="SvgStar",e.a=a},DJUO:function(module,exports,e){},G43f:function(module,exports){function clean(e){return e.replace(/\n\r?\s*/g,"")}module.exports=function tsml(e){for(var t="",r=0;r<arguments.length;r++)t+=clean(e[r])+(arguments[r+1]||"");return t}},IdCN:function(module,exports,e){"use strict";var t=Function.prototype.toString,r=/^\s*class\b/,n=function isES6ClassFunction(e){try{var n=t.call(e);return r.test(n)}catch(e){return!1}},i=function tryFunctionToStr(e){try{if(n(e))return!1;return t.call(e),!0}catch(e){return!1}},o=Object.prototype.toString,a="[object Function]",s="[object GeneratorFunction]",l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isCallable(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return i(e);if(n(e))return!1;var t=o.call(e);return t===a||t===s}},K4wu:function(module,exports,e){var t=e("vgmO"),r=module.exports={WebVTT:e("0CxO"),VTTCue:e("sDzi"),VTTRegion:e("+X0y")};t.vttjs=r,t.WebVTT=r.WebVTT;var n=r.VTTCue,i=r.VTTRegion,o=t.VTTCue,a=t.VTTRegion;r.shim=function(){t.VTTCue=n,t.VTTRegion=i},r.restore=function(){t.VTTCue=o,t.VTTRegion=a},t.VTTCue||r.shim()},NSPt:function(module,exports,e){"use strict";(function(t){function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=_interopDefault(e("wj3C")),n=e("mAIw"),i=e("zVF4"),o=e("q/0M"),a=function(){function DOMStorageWrapper(e){this.domStorage_=e,this.prefix_="firebase:"}return DOMStorageWrapper.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),i.stringify(t))},DOMStorageWrapper.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:i.jsonEval(t)},DOMStorageWrapper.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},DOMStorageWrapper.prototype.prefixedName_=function(e){return this.prefix_+e},DOMStorageWrapper.prototype.toString=function(){return this.domStorage_.toString()},DOMStorageWrapper}(),s=function(){function MemoryStorage(){this.cache_={},this.isInMemoryStorage=!0}return MemoryStorage.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},MemoryStorage.prototype.get=function(e){if(i.contains(this.cache_,e))return this.cache_[e];return null},MemoryStorage.prototype.remove=function(e){delete this.cache_[e]},MemoryStorage}(),l=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new a(t)}}catch(e){}return new s},u=l("localStorage"),c=l("sessionStorage"),h=new o.Logger("@firebase/database"),p=(d=1,function(){return d++}),d,f=function(e){var t=i.stringToByteArray(e),r=new i.Sha1;r.update(t);var n=r.digest();return i.base64.encodeByteArray(n)},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r="",n=0;n<e.length;n++)Array.isArray(e[n])||e[n]&&"object"==typeof e[n]&&"number"==typeof e[n].length?r+=y.apply(null,e[n]):"object"==typeof e[n]?r+=i.stringify(e[n]):r+=e[n],r+=" ";return r},v=null,m=!0,g=function(e,t){i.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(h.logLevel=o.LogLevel.VERBOSE,v=h.log.bind(h),t&&c.set("logging_enabled",!0)):"function"==typeof e?v=e:(v=null,c.remove("logging_enabled"))},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===m&&(m=!1,null===v&&!0===c.get("logging_enabled")&&g(!0)),v){var r=y.apply(null,e);v(r)}},C=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];b.apply(void 0,n.__spread([e],t))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="FIREBASE INTERNAL ERROR: "+y.apply(void 0,n.__spread(e));h.error(r)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="FIREBASE FATAL ERROR: "+y.apply(void 0,n.__spread(e));throw h.error(r),new Error(r)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="FIREBASE WARNING: "+y.apply(void 0,n.__spread(e));h.warn(r)},w=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},k=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},P=function(e){if(i.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,r=function(){if(!document.body)return void setTimeout(r,Math.floor(10));t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}},x="[MIN_NAME]",O="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===x||t===O)return-1;if(t===x||e===O)return 1;var r=W(e),n=W(t);return null!==r?null!==n?r-n==0?e.length-t.length:r-n:-1:null!==n?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},I=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+i.stringify(t))},A=function(e){if("object"!=typeof e||null===e)return i.stringify(e);var t=[];for(var r in e)t.push(r);t.sort();for(var n="{",o=0;o<t.length;o++)0!==o&&(n+=","),n+=i.stringify(t[o]),n+=":",n+=A(e[t[o]]);return n+="}"},D=function(e,t){var r=e.length;if(r<=t)return[e];for(var n=[],i=0;i<r;i+=t)i+t>r?n.push(e.substring(i,r)):n.push(e.substring(i,i+t));return n};function each(e,t){for(var r in e)e.hasOwnProperty(r)&&t(r,e[r])}var M=function(e){i.assert(!k(e),"Invalid JSON number");var t=11,r=52,n=1023,o,a,s,l,u,c,h;for(0===e?(a=0,s=0,o=1/e==-1/0?1:0):(o=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(a=(l=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,s=Math.round(e*Math.pow(2,52-l)-Math.pow(2,52))):(a=0,s=Math.round(e/Math.pow(2,-1074)))),c=[],u=52;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(u=11;u;u-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(o?1:0),c.reverse(),h=c.join("");var p="";for(u=0;u<64;u+=8){var d=parseInt(h.substr(u,8),2).toString(16);1===d.length&&(d="0"+d),p+=d}return p.toLowerCase()},j=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},L=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},F=function(e,t){var r="Unknown Error";"too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable");var n=new Error(e+" at "+t.path.toString()+": "+r);return n.code=e.toUpperCase(),n},B=new RegExp("^-?\\d{1,10}$"),W=function(e){if(B.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},H=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw E("Exception was thrown by user callback.",t),e},Math.floor(0))}},V=function(){var e;return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},q=function(e,t){var r=setTimeout(e,t);return"object"==typeof r&&r.unref&&r.unref(),r},U=function(){function Path(e,t){if(void 0===t){this.pieces_=e.split("/");for(var r=0,n=0;n<this.pieces_.length;n++)this.pieces_[n].length>0&&(this.pieces_[r]=this.pieces_[n],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(Path,"Empty",{get:function(){return new Path("")},enumerable:!0,configurable:!0}),Path.prototype.getFront=function(){if(this.pieceNum_>=this.pieces_.length)return null;return this.pieces_[this.pieceNum_]},Path.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Path.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new Path(this.pieces_,e)},Path.prototype.getBack=function(){if(this.pieceNum_<this.pieces_.length)return this.pieces_[this.pieces_.length-1];return null},Path.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},Path.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},Path.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},Path.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],t=this.pieceNum_;t<this.pieces_.length-1;t++)e.push(this.pieces_[t]);return new Path(e,0)},Path.prototype.child=function(e){for(var t=[],r=this.pieceNum_;r<this.pieces_.length;r++)t.push(this.pieces_[r]);if(e instanceof Path)for(var r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else for(var n=e.split("/"),r=0;r<n.length;r++)n[r].length>0&&t.push(n[r]);return new Path(t,0)},Path.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Path.relativePath=function(e,t){var r=e.getFront(),n=t.getFront();if(null===r)return t;if(r===n)return Path.relativePath(e.popFront(),t.popFront());throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")},Path.comparePaths=function(e,t){for(var r=e.slice(),n=t.slice(),i=0;i<r.length&&i<n.length;i++){var o=N(r[i],n[i]);if(0!==o)return o}if(r.length===n.length)return 0;return r.length<n.length?-1:1},Path.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,r=e.pieceNum_;t<=this.pieces_.length;t++,r++)if(this.pieces_[t]!==e.pieces_[r])return!1;return!0},Path.prototype.contains=function(e){var t=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0},Path}(),Q=function(){function ValidationPath(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=i.stringLength(this.parts_[r]);this.checkValid_()}return Object.defineProperty(ValidationPath,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(ValidationPath,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),ValidationPath.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=i.stringLength(e),this.checkValid_()},ValidationPath.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=i.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},ValidationPath.prototype.checkValid_=function(){if(this.byteLength_>ValidationPath.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+ValidationPath.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>ValidationPath.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ValidationPath.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},ValidationPath.prototype.toErrorString=function(){if(0==this.parts_.length)return"";return"in property '"+this.parts_.join(".")+"'"},ValidationPath}(),z="5",G="v",K="s",X="r",Y="f",J="firebaseio.com",Z="ls",ee="websocket",te="long_polling",re=function(){function RepoInfo(e,t,r,n,i){void 0===i&&(i=""),this.secure=t,this.namespace=r,this.webSocketOnly=n,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=u.get("host:"+e)||this.host}return RepoInfo.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},RepoInfo.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},RepoInfo.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},RepoInfo.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},RepoInfo.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&u.set("host:"+this.host,this.internalHost))},RepoInfo.prototype.connectionURL=function(e,t){var r;if(i.assert("string"==typeof e,"typeof type must == string"),i.assert("object"==typeof t,"typeof params must == object"),e===ee)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==te)throw new Error("Unknown connection type: "+e);r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var n=[];return each(t,function(e,t){n.push(e+"="+t)}),r+n.join("&")},RepoInfo.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},RepoInfo.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},RepoInfo}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function decodePath(e){for(var t="",r=e.split("/"),n=0;n<r.length;n++)if(r[n].length>0){var i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}function decodeQuery(e){var t,r,i={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=n.__values(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0===s.length)continue;var l=s.split("=");2===l.length?i[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):E("Invalid query segment '"+s+"' in query '"+e+"'")}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}var ne=function(e){var t=ie(e),r=t.subdomain;"firebase"===t.domain&&S(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!=r||"localhost"===t.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||w();var n="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new re(t.host,t.secure,r,n),path:new U(t.pathString)}},ie=function(e){var t="",r="",n="",i="",o=!0,a="https",s=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));var u=e.indexOf("/");-1===u&&(u=e.length);var c=e.indexOf("?");-1===c&&(c=e.length),t=e.substring(0,Math.min(u,c)),u<c&&(i=decodePath(e.substring(u,c)));var h=decodeQuery(e.substring(Math.min(e.length,c)));(l=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(t.substring(l+1),10)):l=e.length;var p=t.split(".");3===p.length?(r=p[1],n=p[0].toLowerCase()):2===p.length?r=p[0]:"localhost"===p[0].slice(0,l).toLowerCase()&&(r="localhost"),""===n&&"ns"in h&&(n=h.ns)}return{host:t,port:s,domain:r,subdomain:n,secure:o,scheme:a,pathString:i}},oe=/[\[\].#$\/\u0000-\u001F\u007F]/,ae=/[\[\].#$\u0000-\u001F\u007F]/,se=10485760,le=function(e){return"string"==typeof e&&0!==e.length&&!oe.test(e)},ue=function(e){return"string"==typeof e&&0!==e.length&&!ae.test(e)},ce=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ue(e)},he=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!k(e)||e&&"object"==typeof e&&i.contains(e,".sv")},pe=function(e,t,r,n,o){if(o&&void 0===r)return;de(i.errorPrefix(e,t,o),r,n)},de=function(e,t,r){var n=r instanceof U?new Q(r,e):r;if(void 0===t)throw new Error(e+"contains undefined "+n.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+n.toErrorString()+" with contents = "+t.toString());if(k(t))throw new Error(e+"contains "+t.toString()+" "+n.toErrorString());if("string"==typeof t&&t.length>10485760/3&&i.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+n.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var o=!1,a=!1;if(each(t,function(t,r){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!le(t)))throw new Error(e+" contains an invalid key ("+t+") "+n.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(t),de(e,r,n),n.pop()}),o&&a)throw new Error(e+' contains ".value" child '+n.toErrorString()+" in addition to actual children.")}},fe=function(e,t){var r,n;for(r=0;r<t.length;r++)for(var i=(n=t[r]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!le(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(U.comparePaths);var a=null;for(r=0;r<t.length;r++){if(n=t[r],null!==a&&a.contains(n))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}},ye=function(e,t,r,n,o){if(o&&void 0===r)return;var a=i.errorPrefix(e,t,o);if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(a+" must be an object containing the children to replace.");var s=[];each(r,function(e,t){var r=new U(e);if(de(a,t,n.child(r)),".priority"===r.getBack()&&!he(t))throw new Error(a+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),fe(a,s)},ve=function(e,t,r,n){if(n&&void 0===r)return;if(k(r))throw new Error(i.errorPrefix(e,t,n)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!he(r))throw new Error(i.errorPrefix(e,t,n)+"must be a valid Firebase priority (a string, finite number, server value, or null).")},me=function(e,t,r,n){if(n&&void 0===r)return;switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(i.errorPrefix(e,t,n)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ge=function(e,t,r,n){if(n&&void 0===r)return;if(!le(r))throw new Error(i.errorPrefix(e,t,n)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_e=function(e,t,r,n){if(n&&void 0===r)return;if(!ue(r))throw new Error(i.errorPrefix(e,t,n)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},be=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),_e(e,t,r,n)},Ce=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},Te=function(e,t,r){var n=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!le(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==n.length&&!ce(n))throw new Error(i.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Se=function(e,t,r,n){if(n&&void 0===r)return;if("boolean"!=typeof r)throw new Error(i.errorPrefix(e,t,n)+"must be a boolean.")},Ee=function(){function OnDisconnect(e,t){this.repo_=e,this.path_=t}return OnDisconnect.prototype.cancel=function(e){i.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),i.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new i.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},OnDisconnect.prototype.remove=function(e){i.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ce("OnDisconnect.remove",this.path_),i.validateCallback("OnDisconnect.remove",1,e,!0);var t=new i.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},OnDisconnect.prototype.set=function(e,t){i.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ce("OnDisconnect.set",this.path_),pe("OnDisconnect.set",1,e,this.path_,!1),i.validateCallback("OnDisconnect.set",2,t,!0);var r=new i.Deferred;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(t)),r.promise},OnDisconnect.prototype.setWithPriority=function(e,t,r){i.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ce("OnDisconnect.setWithPriority",this.path_),pe("OnDisconnect.setWithPriority",1,e,this.path_,!1),ve("OnDisconnect.setWithPriority",2,t,!1),i.validateCallback("OnDisconnect.setWithPriority",3,r,!0);var n=new i.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,n.wrapCallback(r)),n.promise},OnDisconnect.prototype.update=function(e,t){if(i.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ce("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},n=0;n<e.length;++n)r[""+n]=e[n];e=r,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ye("OnDisconnect.update",1,e,this.path_,!1),i.validateCallback("OnDisconnect.update",2,t,!0);var o=new i.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,o.wrapCallback(t)),o.promise},OnDisconnect}(),we=function(){function TransactionResult(e,t){this.committed=e,this.snapshot=t}return TransactionResult.prototype.toJSON=function(){return i.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},TransactionResult}(),ke=(Pe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xe=0,Oe=[],function(e){var t=e===xe,r;xe=e;var n=new Array(8);for(r=7;r>=0;r--)n[r]=Pe.charAt(e%64),e=Math.floor(e/64);i.assert(0===e,"Cannot push at time == 0");var o=n.join("");if(t){for(r=11;r>=0&&63===Oe[r];r--)Oe[r]=0;Oe[r]++}else for(r=0;r<12;r++)Oe[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Pe.charAt(Oe[r]);return i.assert(20===o.length,"nextPushId: Length should be 20."),o}),Pe,xe,Oe,Ne=function(){function NamedNode(e,t){this.name=e,this.node=t}return NamedNode.Wrap=function(e,t){return new NamedNode(e,t)},NamedNode}(),Re=function(){function Index(){}return Index.prototype.getCompare=function(){return this.compare.bind(this)},Index.prototype.indexedValueChanged=function(e,t){var r=new Ne(x,e),n=new Ne(x,t);return 0!==this.compare(r,n)},Index.prototype.minPost=function(){return Ne.MIN},Index}(),Ie,Ae=function(e){function KeyIndex(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(KeyIndex,e),Object.defineProperty(KeyIndex,"__EMPTY_NODE",{get:function(){return Ie},set:function(e){Ie=e},enumerable:!0,configurable:!0}),KeyIndex.prototype.compare=function(e,t){return N(e.name,t.name)},KeyIndex.prototype.isDefinedOn=function(e){throw i.assertionError("KeyIndex.isDefinedOn not expected to be called.")},KeyIndex.prototype.indexedValueChanged=function(e,t){return!1},KeyIndex.prototype.minPost=function(){return Ne.MIN},KeyIndex.prototype.maxPost=function(){return new Ne(O,Ie)},KeyIndex.prototype.makePost=function(e,t){return i.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ne(e,Ie)},KeyIndex.prototype.toString=function(){return".key"},KeyIndex}(Re),De=new Ae,Me;function setMaxNode(e){Me=e}var je=function(e){return"number"==typeof e?"number:"+M(e):"string:"+e},Le=function(e){if(e.isLeafNode()){var t=e.val();i.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&i.contains(t,".sv"),"Priority must be a string or number.")}else i.assert(e===Me||e.isEmpty(),"priority of unexpected type.");i.assert(e===Me||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Fe,Be=function(){function LeafNode(e,t){void 0===t&&(t=LeafNode.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,i.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Le(this.priorityNode_)}return Object.defineProperty(LeafNode,"__childrenNodeConstructor",{get:function(){return Fe},set:function(e){Fe=e},enumerable:!0,configurable:!0}),LeafNode.prototype.isLeafNode=function(){return!0},LeafNode.prototype.getPriority=function(){return this.priorityNode_},LeafNode.prototype.updatePriority=function(e){return new LeafNode(this.value_,e)},LeafNode.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE},LeafNode.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE},LeafNode.prototype.hasChild=function(){return!1},LeafNode.prototype.getPredecessorChildName=function(e,t){return null},LeafNode.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},LeafNode.prototype.updateChild=function(e,t){var r=e.getFront();return null===r?t:t.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),t)))},LeafNode.prototype.isEmpty=function(){return!1},LeafNode.prototype.numChildren=function(){return 0},LeafNode.prototype.forEachChild=function(e,t){return!1},LeafNode.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},LeafNode.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+je(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=f(e)}return this.lazyHash_},LeafNode.prototype.getValue=function(){return this.value_},LeafNode.prototype.compareTo=function(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(i.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},LeafNode.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,r=typeof this.value_,n=LeafNode.VALUE_TYPE_ORDER.indexOf(t),o=LeafNode.VALUE_TYPE_ORDER.indexOf(r);return i.assert(n>=0,"Unknown leaf type: "+t),i.assert(o>=0,"Unknown leaf type: "+r),n===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-n},LeafNode.prototype.withIndex=function(){return this},LeafNode.prototype.isIndexed=function(){return!0},LeafNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"],LeafNode}(),We,He;function setNodeFromJSON(e){We=e}function setMaxNode$1(e){He=e}var Ve,qe=new(function(e){function PriorityIndex(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(PriorityIndex,e),PriorityIndex.prototype.compare=function(e,t){var r=e.node.getPriority(),n=t.node.getPriority(),i=r.compareTo(n);return 0===i?N(e.name,t.name):i},PriorityIndex.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},PriorityIndex.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},PriorityIndex.prototype.minPost=function(){return Ne.MIN},PriorityIndex.prototype.maxPost=function(){return new Ne(O,new Be("[PRIORITY-POST]",He))},PriorityIndex.prototype.makePost=function(e,t){var r=We(e);return new Ne(t,new Be("[PRIORITY-POST]",r))},PriorityIndex.prototype.toString=function(){return".priority"},PriorityIndex}(Re)),Ue=function(){function SortedMapIterator(e,t,r,n,i){void 0===i&&(i=null),this.isReverse_=n,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,n&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return SortedMapIterator.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t;if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},SortedMapIterator.prototype.hasNext=function(){return this.nodeStack_.length>0},SortedMapIterator.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},SortedMapIterator}(),Qe=function(){function LLRBNode(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:LLRBNode.RED,this.left=null!=n?n:$e.EMPTY_NODE,this.right=null!=i?i:$e.EMPTY_NODE}return LLRBNode.prototype.copy=function(e,t,r,n,i){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)},LLRBNode.prototype.count=function(){return this.left.count()+1+this.right.count()},LLRBNode.prototype.isEmpty=function(){return!1},LLRBNode.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},LLRBNode.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},LLRBNode.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},LLRBNode.prototype.minKey=function(){return this.min_().key},LLRBNode.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},LLRBNode.prototype.insert=function(e,t,r){var n,i;return(i=(n=r(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===n?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r))).fixUp_()},LLRBNode.prototype.removeMin_=function(){if(this.left.isEmpty())return $e.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},LLRBNode.prototype.remove=function(e,t){var r,n;if(t(e,(r=this).key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===t(e,r.key)){if(r.right.isEmpty())return $e.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},LLRBNode.prototype.isRed_=function(){return this.color},LLRBNode.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},LLRBNode.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},LLRBNode.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},LLRBNode.prototype.rotateLeft_=function(){var e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},LLRBNode.prototype.rotateRight_=function(){var e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},LLRBNode.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},LLRBNode.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},LLRBNode.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode}(),ze=function(){function LLRBEmptyNode(){}return LLRBEmptyNode.prototype.copy=function(e,t,r,n,i){return this},LLRBEmptyNode.prototype.insert=function(e,t,r){return new Qe(e,t,null)},LLRBEmptyNode.prototype.remove=function(e,t){return this},LLRBEmptyNode.prototype.count=function(){return 0},LLRBEmptyNode.prototype.isEmpty=function(){return!0},LLRBEmptyNode.prototype.inorderTraversal=function(e){return!1},LLRBEmptyNode.prototype.reverseTraversal=function(e){return!1},LLRBEmptyNode.prototype.minKey=function(){return null},LLRBEmptyNode.prototype.maxKey=function(){return null},LLRBEmptyNode.prototype.check_=function(){return 0},LLRBEmptyNode.prototype.isRed_=function(){return!1},LLRBEmptyNode}(),$e=function(){function SortedMap(e,t){void 0===t&&(t=SortedMap.EMPTY_NODE),this.comparator_=e,this.root_=t}return SortedMap.prototype.insert=function(e,t){return new SortedMap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qe.BLACK,null,null))},SortedMap.prototype.remove=function(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))},SortedMap.prototype.get=function(e){for(var t,r=this.root_;!r.isEmpty();){if(0===(t=this.comparator_(e,r.key)))return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null},SortedMap.prototype.getPredecessorKey=function(e){for(var t,r=this.root_,n=null;!r.isEmpty();){if(0===(t=this.comparator_(e,r.key))){if(r.left.isEmpty())return n?n.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(n=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},SortedMap.prototype.isEmpty=function(){return this.root_.isEmpty()},SortedMap.prototype.count=function(){return this.root_.count()},SortedMap.prototype.minKey=function(){return this.root_.minKey()},SortedMap.prototype.maxKey=function(){return this.root_.maxKey()},SortedMap.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},SortedMap.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},SortedMap.prototype.getIterator=function(e){return new Ue(this.root_,null,this.comparator_,!1,e)},SortedMap.prototype.getIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!1,t)},SortedMap.prototype.getReverseIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!0,t)},SortedMap.prototype.getReverseIterator=function(e){return new Ue(this.root_,null,this.comparator_,!0,e)},SortedMap.EMPTY_NODE=new ze,SortedMap}(),Ge=Math.log(2),Ke=function(){function Base12Num(e){var t=function(e){return parseInt(Math.log(e)/Ge,10)},r=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var n=r(this.count);this.bits_=e+1&n}return Base12Num.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},Base12Num}(),Xe=function(e,t,r,n){e.sort(t);var i=function(t,n){var o=n-t,a,s;if(0==o)return null;if(1==o)return a=e[t],s=r?r(a):a,new Qe(s,a.node,Qe.BLACK,null,null);var l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,n);return a=e[l],s=r?r(a):a,new Qe(s,a.node,Qe.BLACK,u,c)},o,a,s=function(t){for(var n=null,o=null,a=e.length,s=function(t,n){var o=a-t,s=a;a-=t;var u=i(o+1,s),c=e[o],h=r?r(c):c;l(new Qe(h,c.node,n,null,u))},l=function(e){n?(n.left=e,n=e):(o=e,n=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));c?s(h,Qe.BLACK):(s(h,Qe.BLACK),s(h,Qe.RED))}return o}(new Ke(e.length));return new $e(n||t,s)},Ye,Je={},Ze=function(){function IndexMap(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(IndexMap,"Default",{get:function(){return i.assert(Je&&qe,"ChildrenNode.ts has not been loaded"),Ye=Ye||new IndexMap({".priority":Je},{".priority":qe})},enumerable:!0,configurable:!0}),IndexMap.prototype.get=function(e){var t=i.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $e?t:null},IndexMap.prototype.hasIndex=function(e){return i.contains(this.indexSet_,e.toString())},IndexMap.prototype.addIndex=function(e,t){i.assert(e!==De,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],o=!1,a=t.getIterator(Ne.Wrap),s=a.getNext(),l;s;)o=o||e.isDefinedOn(s.node),r.push(s),s=a.getNext();l=o?Xe(r,e.getCompare()):Je;var u=e.toString(),c=n.__assign({},this.indexSet_);c[u]=e;var h=n.__assign({},this.indexes_);return h[u]=l,new IndexMap(h,c)},IndexMap.prototype.addToIndexes=function(e,t){var r=this,n;return new IndexMap(i.map(this.indexes_,function(n,o){var a=i.safeGet(r.indexSet_,o);if(i.assert(a,"Missing index implementation for "+o),n===Je){if(a.isDefinedOn(e.node)){for(var s=[],l=t.getIterator(Ne.Wrap),u=l.getNext();u;)u.name!=e.name&&s.push(u),u=l.getNext();return s.push(e),Xe(s,a.getCompare())}return Je}var c=t.get(e.name),h=n;return c&&(h=h.remove(new Ne(e.name,c))),h.insert(e,e.node)}),this.indexSet_)},IndexMap.prototype.removeFromIndexes=function(e,t){var r;return new IndexMap(i.map(this.indexes_,function(r){if(r===Je)return r;var n=t.get(e.name);return n?r.remove(new Ne(e.name,n)):r}),this.indexSet_)},IndexMap}(),et;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function NAME_ONLY_COMPARATOR(e,t){return N(e.name,t.name)}function NAME_COMPARATOR(e,t){return N(e,t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt=function(){function ChildrenNode(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Le(this.priorityNode_),this.children_.isEmpty()&&i.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(ChildrenNode,"EMPTY_NODE",{get:function(){return et||(et=new ChildrenNode(new $e(NAME_COMPARATOR),null,Ze.Default))},enumerable:!0,configurable:!0}),ChildrenNode.prototype.isLeafNode=function(){return!1},ChildrenNode.prototype.getPriority=function(){return this.priorityNode_||et},ChildrenNode.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)},ChildrenNode.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?et:t},ChildrenNode.prototype.getChild=function(e){var t=e.getFront();if(null===t)return this;return this.getImmediateChild(t).getChild(e.popFront())},ChildrenNode.prototype.hasChild=function(e){return null!==this.children_.get(e)},ChildrenNode.prototype.updateImmediateChild=function(e,t){if(i.assert(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var r=new Ne(e,t),n=void 0,o=void 0,a=void 0;return t.isEmpty()?(n=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(n=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_)),new ChildrenNode(n,a=n.isEmpty()?et:this.priorityNode_,o)},ChildrenNode.prototype.updateChild=function(e,t){var r=e.getFront();if(null===r)return t;i.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var n=this.getImmediateChild(r).updateChild(e.popFront(),t);return this.updateImmediateChild(r,n)},ChildrenNode.prototype.isEmpty=function(){return this.children_.isEmpty()},ChildrenNode.prototype.numChildren=function(){return this.children_.count()},ChildrenNode.prototype.val=function(e){if(this.isEmpty())return null;var t={},r=0,n=0,i=!0;if(this.forEachChild(qe,function(o,a){t[o]=a.val(e),r++,i&&ChildrenNode.INTEGER_REGEXP_.test(o)?n=Math.max(n,Number(o)):i=!1}),!e&&i&&n<2*r){var o=[];for(var a in t)o[a]=t[a];return o}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},ChildrenNode.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+je(this.getPriority().val())+":"),this.forEachChild(qe,function(t,r){var n=r.hash();""!==n&&(e+=":"+t+":"+n)}),this.lazyHash_=""===e?"":f(e)}return this.lazyHash_},ChildrenNode.prototype.getPredecessorChildName=function(e,t,r){var n=this.resolveIndex_(r);if(n){var i=n.getPredecessorKey(new Ne(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},ChildrenNode.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.minKey();return r&&r.name}return this.children_.minKey()},ChildrenNode.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ne(t,this.children_.get(t)):null},ChildrenNode.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var r=t.maxKey();return r&&r.name}return this.children_.maxKey()},ChildrenNode.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ne(t,this.children_.get(t)):null},ChildrenNode.prototype.forEachChild=function(e,t){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},ChildrenNode.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},ChildrenNode.prototype.getIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,function(e){return e});for(var n=this.children_.getIteratorFrom(e.name,Ne.Wrap),i=n.peek();null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n},ChildrenNode.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},ChildrenNode.prototype.getReverseIteratorFrom=function(e,t){var r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,function(e){return e});for(var n=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap),i=n.peek();null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n},ChildrenNode.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nt?-1:0},ChildrenNode.prototype.withIndex=function(e){if(e===De||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,t)},ChildrenNode.prototype.isIndexed=function(e){return e===De||this.indexMap_.hasIndex(e)},ChildrenNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var r=this.getIterator(qe),n=t.getIterator(qe),i=r.getNext(),o=n.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=n.getNext()}return null===i&&null===o}return!1}return!1},ChildrenNode.prototype.resolveIndex_=function(e){return e===De?null:this.indexMap_.get(e.toString())},ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,ChildrenNode}(),rt,nt=new(function(e){function MaxNode(){return e.call(this,new $e(NAME_COMPARATOR),tt.EMPTY_NODE,Ze.Default)||this}return n.__extends(MaxNode,e),MaxNode.prototype.compareTo=function(e){return e===this?0:1},MaxNode.prototype.equals=function(e){return e===this},MaxNode.prototype.getPriority=function(){return this},MaxNode.prototype.getImmediateChild=function(e){return tt.EMPTY_NODE},MaxNode.prototype.isEmpty=function(){return!1},MaxNode}(tt));Object.defineProperties(Ne,{MIN:{value:new Ne(x,tt.EMPTY_NODE)},MAX:{value:new Ne(O,nt)}}),Ae.__EMPTY_NODE=tt.EMPTY_NODE,Be.__childrenNodeConstructor=tt,setMaxNode(nt),setMaxNode$1(nt);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var it=!0;function nodeFromJSON$1(e,t){if(void 0===t&&(t=null),null===e)return tt.EMPTY_NODE;var r;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),i.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Be(e,nodeFromJSON$1(t));if(e instanceof Array||!it){var n=tt.EMPTY_NODE;return each(e,function(t,r){if(i.contains(e,t)&&"."!==t.substring(0,1)){var o=nodeFromJSON$1(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}}),n.updatePriority(nodeFromJSON$1(t))}var o=[],a=!1,s;if(each(e,function(e,t){if("."!==e.substring(0,1)){var r=nodeFromJSON$1(t);r.isEmpty()||(a=a||!r.getPriority().isEmpty(),o.push(new Ne(e,r)))}}),0==o.length)return tt.EMPTY_NODE;var l=Xe(o,NAME_ONLY_COMPARATOR,function(e){return e.name},NAME_COMPARATOR);if(a){var u=Xe(o,qe.getCompare());return new tt(l,nodeFromJSON$1(t),new Ze({".priority":u},{".priority":qe}))}return new tt(l,nodeFromJSON$1(t),Ze.Default)}setNodeFromJSON(nodeFromJSON$1);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ot,at=new(function(e){function ValueIndex(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(ValueIndex,e),ValueIndex.prototype.compare=function(e,t){var r=e.node.compareTo(t.node);return 0===r?N(e.name,t.name):r},ValueIndex.prototype.isDefinedOn=function(e){return!0},ValueIndex.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},ValueIndex.prototype.minPost=function(){return Ne.MIN},ValueIndex.prototype.maxPost=function(){return Ne.MAX},ValueIndex.prototype.makePost=function(e,t){var r=nodeFromJSON$1(e);return new Ne(t,r)},ValueIndex.prototype.toString=function(){return".value"},ValueIndex}(Re)),st=function(e){function PathIndex(t){var r=e.call(this)||this;return r.indexPath_=t,i.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),r}return n.__extends(PathIndex,e),PathIndex.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},PathIndex.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},PathIndex.prototype.compare=function(e,t){var r=this.extractChild(e.node),n=this.extractChild(t.node),i=r.compareTo(n);return 0===i?N(e.name,t.name):i},PathIndex.prototype.makePost=function(e,t){var r=nodeFromJSON$1(e),n=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ne(t,n)},PathIndex.prototype.maxPost=function(){var e=tt.EMPTY_NODE.updateChild(this.indexPath_,nt);return new Ne(O,e)},PathIndex.prototype.toString=function(){return this.indexPath_.slice().join("/")},PathIndex}(Re),lt=function(){function DataSnapshot(e,t,r){this.node_=e,this.ref_=t,this.index_=r}return DataSnapshot.prototype.val=function(){return i.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},DataSnapshot.prototype.exportVal=function(){return i.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},DataSnapshot.prototype.toJSON=function(){return i.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},DataSnapshot.prototype.exists=function(){return i.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},DataSnapshot.prototype.child=function(e){i.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),_e("DataSnapshot.child",1,e,!1);var t=new U(e),r=this.ref_.child(t);return new DataSnapshot(this.node_.getChild(t),r,qe)},DataSnapshot.prototype.hasChild=function(e){i.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),_e("DataSnapshot.hasChild",1,e,!1);var t=new U(e);return!this.node_.getChild(t).isEmpty()},DataSnapshot.prototype.getPriority=function(){return i.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},DataSnapshot.prototype.forEach=function(e){var t=this,r;if(i.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),i.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;return!!this.node_.forEachChild(this.index_,function(r,n){return e(new DataSnapshot(n,t.ref_.child(r),qe))})},DataSnapshot.prototype.hasChildren=function(){return i.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(DataSnapshot.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),DataSnapshot.prototype.numChildren=function(){return i.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},DataSnapshot.prototype.getRef=function(){return i.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(DataSnapshot.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),DataSnapshot}(),ut=function(){function DataEvent(e,t,r,n){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=n}return DataEvent.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},DataEvent.prototype.getEventType=function(){return this.eventType},DataEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},DataEvent.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+i.stringify(this.snapshot.exportVal())},DataEvent}(),ct=function(){function CancelEvent(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}return CancelEvent.prototype.getPath=function(){return this.path},CancelEvent.prototype.getEventType=function(){return"cancel"},CancelEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},CancelEvent.prototype.toString=function(){return this.path.toString()+":cancel"},CancelEvent}(),ht=function(){function ValueEventRegistration(e,t,r){this.callback_=e,this.cancelCallback_=t,this.context_=r}return ValueEventRegistration.prototype.respondsTo=function(e){return"value"===e},ValueEventRegistration.prototype.createEvent=function(e,t){var r=t.getQueryParams().getIndex();return new ut("value",this,new lt(e.snapshotNode,t.getRef(),r))},ValueEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){i.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(t,e.error)}}var n=this.callback_;return function(){n.call(t,e.snapshot)}},ValueEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ct(this,e,t):null},ValueEventRegistration.prototype.matches=function(e){return e instanceof ValueEventRegistration&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},ValueEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callback_},ValueEventRegistration}(),pt=function(){function ChildEventRegistration(e,t,r){this.callbacks_=e,this.cancelCallback_=t,this.context_=r}return ChildEventRegistration.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,i.contains(this.callbacks_,t)},ChildEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ct(this,e,t):null},ChildEventRegistration.prototype.createEvent=function(e,t){i.assert(null!=e.childName,"Child events should have a childName.");var r=t.getRef().child(e.childName),n=t.getQueryParams().getIndex();return new ut(e.type,this,new lt(e.snapshotNode,r,n),e.prevName)},ChildEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){i.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(t,e.error)}}var n=this.callbacks_[e.eventType];return function(){n.call(t,e.snapshot,e.prevName)}},ChildEventRegistration.prototype.matches=function(e){var t=this;if(e instanceof ChildEventRegistration){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),n=Object.keys(this.callbacks_),i=r.length,o;if(i===n.length){if(1===i){var a=r[0],s=n[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return n.every(function(r){return e.callbacks_[r]===t.callbacks_[r]})}}}return!1},ChildEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callbacks_},ChildEventRegistration}(),dt,ft=function(){function Query(e,t,r,n){this.repo=e,this.path=t,this.queryParams_=r,this.orderByCalled_=n}return Object.defineProperty(Query,"__referenceConstructor",{get:function(){return i.assert(dt,"Reference.ts has not been loaded"),dt},set:function(e){dt=e},enumerable:!0,configurable:!0}),Query.validateQueryEndpoints_=function(e){var t=null,r=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===De){var n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var a;if(e.getIndexStartName()!=x)throw new Error(n);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){var s;if(e.getIndexEndName()!=O)throw new Error(n);if("string"!=typeof r)throw new Error(o)}}else if(e.getIndex()===qe){if(null!=t&&!he(t)||null!=r&&!he(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(e.getIndex()instanceof st||e.getIndex()===at,"unknown index type."),null!=t&&"object"==typeof t||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},Query.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},Query.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},Query.prototype.getQueryParams=function(){return this.queryParams_},Query.prototype.getRef=function(){return i.validateArgCount("Query.ref",0,0,arguments.length),new Query.__referenceConstructor(this.repo,this.path)},Query.prototype.on=function(e,t,r,n){i.validateArgCount("Query.on",2,4,arguments.length),me("Query.on",1,e,!1),i.validateCallback("Query.on",2,t,!1);var o=Query.getCancelAndContextArgs_("Query.on",r,n);if("value"===e)this.onValueEvent(t,o.cancel,o.context);else{var a={};a[e]=t,this.onChildEvent(a,o.cancel,o.context)}return t},Query.prototype.onValueEvent=function(e,t,r){var n=new ht(e,t||null,r||null);this.repo.addEventCallbackForQuery(this,n)},Query.prototype.onChildEvent=function(e,t,r){var n=new pt(e,t,r);this.repo.addEventCallbackForQuery(this,n)},Query.prototype.off=function(e,t,r){i.validateArgCount("Query.off",0,3,arguments.length),me("Query.off",1,e,!0),i.validateCallback("Query.off",2,t,!0),i.validateContextObject("Query.off",3,r,!0);var n=null,o=null,a;"value"===e?n=new ht(t||null,null,r||null):e&&(t&&((o={})[e]=t),n=new pt(o,null,r||null));this.repo.removeEventCallbackForQuery(this,n)},Query.prototype.once=function(e,t,r,n){var o=this;i.validateArgCount("Query.once",1,4,arguments.length),me("Query.once",1,e,!1),i.validateCallback("Query.once",2,t,!0);var a=Query.getCancelAndContextArgs_("Query.once",r,n),s=!0,l=new i.Deferred;l.promise.catch(function(){});var u=function(r){s&&(s=!1,o.off(e,u),t&&t.bind(a.context)(r),l.resolve(r))};return this.on(e,u,function(t){o.off(e,u),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)}),l.promise},Query.prototype.limitToFirst=function(e){if(i.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Query(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},Query.prototype.limitToLast=function(e){if(i.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Query(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},Query.prototype.orderByChild=function(e){if(i.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');_e("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var t=new U(e);if(t.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new st(t),n=this.queryParams_.orderBy(r);return Query.validateQueryEndpoints_(n),new Query(this.repo,this.path,n,!0)},Query.prototype.orderByKey=function(){i.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(De);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.orderByPriority=function(){i.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(qe);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.orderByValue=function(){i.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(at);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.startAt=function(e,t){void 0===e&&(e=null),i.validateArgCount("Query.startAt",0,2,arguments.length),pe("Query.startAt",1,e,this.path,!0),ge("Query.startAt",2,t,!0);var r=this.queryParams_.startAt(e,t);if(Query.validateLimit_(r),Query.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,t=null),new Query(this.repo,this.path,r,this.orderByCalled_)},Query.prototype.endAt=function(e,t){void 0===e&&(e=null),i.validateArgCount("Query.endAt",0,2,arguments.length),pe("Query.endAt",1,e,this.path,!0),ge("Query.endAt",2,t,!0);var r=this.queryParams_.endAt(e,t);if(Query.validateLimit_(r),Query.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Query(this.repo,this.path,r,this.orderByCalled_)},Query.prototype.equalTo=function(e,t){if(i.validateArgCount("Query.equalTo",1,2,arguments.length),pe("Query.equalTo",1,e,this.path,!1),ge("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},Query.prototype.toString=function(){return i.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},Query.prototype.toJSON=function(){return i.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},Query.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},Query.prototype.queryIdentifier=function(){var e=this.queryObject(),t=A(e);return"{}"===t?"default":t},Query.prototype.isEqual=function(e){var t;if(i.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof Query))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var r=this.repo===e.repo,n=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&n&&o},Query.getCancelAndContextArgs_=function(e,t,r){var n={cancel:null,context:null};if(t&&r)n.cancel=t,i.validateCallback(e,3,n.cancel,!0),n.context=r,i.validateContextObject(e,4,n.context,!0);else if(t)if("object"==typeof t&&null!==t)n.context=t;else{if("function"!=typeof t)throw new Error(i.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");n.cancel=t}return n},Object.defineProperty(Query.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),Query}(),yt=function(){function SparseSnapshotTree(){this.value=null,this.children=new Map}return SparseSnapshotTree.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront(),r;if(e=e.popFront(),this.children.has(t))return this.children.get(t).find(e);return null}return null},SparseSnapshotTree.prototype.remember=function(e,t){if(e.isEmpty())this.value=t,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,t);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new SparseSnapshotTree);var n=this.children.get(r);e=e.popFront(),n.remember(e,t)}},SparseSnapshotTree.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var r=this;return t.forEachChild(qe,function(e,t){r.remember(new U(e),t)}),this.forget(e)}if(this.children.size>0){var n=e.getFront(),i;if(e=e.popFront(),this.children.has(n))this.children.get(n).forget(e)&&this.children.delete(n);return 0===this.children.size}return!0},SparseSnapshotTree.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild(function(r,n){var i=new U(e.toString()+"/"+r);n.forEachTree(i,t)})},SparseSnapshotTree.prototype.forEachChild=function(e){this.children.forEach(function(t,r){e(r,t)})},SparseSnapshotTree}(),vt=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},mt=function(e,t){return e&&"object"==typeof e?(i.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},gt=function(e,t){var r=new yt;return e.forEachTree(new U(""),function(e,n){r.remember(e,_t(n,t))}),r},_t=function(e,t){var r=e.getPriority().val(),n=mt(r,t),i;if(e.isLeafNode()){var o=e,a=mt(o.getValue(),t);return a!==o.getValue()||n!==o.getPriority().val()?new Be(a,nodeFromJSON$1(n)):e}var s=e;return i=s,n!==s.getPriority().val()&&(i=i.updatePriority(new Be(n))),s.forEachChild(qe,function(e,r){var n=_t(r,t);n!==r&&(i=i.updateImmediateChild(e,n))}),i},bt;!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(bt||(bt={}));var Ct=function(){function OperationSource(e,t,r,n){this.fromUser=e,this.fromServer=t,this.queryId=r,this.tagged=n,i.assert(!n||t,"Tagged queries must be from server.")}return OperationSource.User=new OperationSource(!0,!1,null,!1),OperationSource.Server=new OperationSource(!1,!0,null,!1),OperationSource.forServerTaggedQuery=function(e){return new OperationSource(!1,!0,e,!0)},OperationSource}(),Tt=function(){function AckUserWrite(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=bt.ACK_USER_WRITE,this.source=Ct.User}return AckUserWrite.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return i.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new U(e));return new AckUserWrite(U.Empty,t,this.revert)}return i.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new AckUserWrite(this.path.popFront(),this.affectedTree,this.revert)},AckUserWrite}(),St,Et=function(){return St||(St=new $e(R)),St},wt=function(){function ImmutableTree(e,t){void 0===t&&(t=Et()),this.value=e,this.children=t}return ImmutableTree.fromObject=function(e){var t=ImmutableTree.Empty;return each(e,function(e,r){t=t.set(new U(e),r)}),t},ImmutableTree.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},ImmutableTree.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:U.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),n=this.children.get(r);if(null!==n){var i=n.findRootMostMatchingPathAndValue(e.popFront(),t),o;if(null!=i)return{path:new U(r).child(i.path),value:i.value};return null}return null},ImmutableTree.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},ImmutableTree.prototype.subtree=function(e){if(e.isEmpty())return this;var t=e.getFront(),r=this.children.get(t);return null!==r?r.subtree(e.popFront()):ImmutableTree.Empty},ImmutableTree.prototype.set=function(e,t){if(e.isEmpty())return new ImmutableTree(t,this.children);var r=e.getFront(),n,i=(this.children.get(r)||ImmutableTree.Empty).set(e.popFront(),t),o=this.children.insert(r,i);return new ImmutableTree(this.value,o)},ImmutableTree.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?ImmutableTree.Empty:new ImmutableTree(null,this.children);var t=e.getFront(),r=this.children.get(t);if(r){var n=r.remove(e.popFront()),i=void 0;return i=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&i.isEmpty()?ImmutableTree.Empty:new ImmutableTree(this.value,i)}return this},ImmutableTree.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),r=this.children.get(t);return r?r.get(e.popFront()):null},ImmutableTree.prototype.setTree=function(e,t){if(e.isEmpty())return t;var r=e.getFront(),n,i=(this.children.get(r)||ImmutableTree.Empty).setTree(e.popFront(),t),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new ImmutableTree(this.value,o)},ImmutableTree.prototype.fold=function(e){return this.fold_(U.Empty,e)},ImmutableTree.prototype.fold_=function(e,t){var r={};return this.children.inorderTraversal(function(n,i){r[n]=i.fold_(e.child(n),t)}),t(e,this.value,r)},ImmutableTree.prototype.findOnPath=function(e,t){return this.findOnPath_(e,U.Empty,t)},ImmutableTree.prototype.findOnPath_=function(e,t,r){var n=!!this.value&&r(t,this.value);if(n)return n;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),r):null},ImmutableTree.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,U.Empty,t)},ImmutableTree.prototype.foreachOnPath_=function(e,t,r){if(e.isEmpty())return this;this.value&&r(t,this.value);var n=e.getFront(),i=this.children.get(n);return i?i.foreachOnPath_(e.popFront(),t.child(n),r):ImmutableTree.Empty},ImmutableTree.prototype.foreach=function(e){this.foreach_(U.Empty,e)},ImmutableTree.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(r,n){n.foreach_(e.child(r),t)}),this.value&&t(e,this.value)},ImmutableTree.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,r){r.value&&e(t,r.value)})},ImmutableTree.Empty=new ImmutableTree(null),ImmutableTree}(),kt=function(){function ListenComplete(e,t){this.source=e,this.path=t,this.type=bt.LISTEN_COMPLETE}return ListenComplete.prototype.operationForChild=function(e){return this.path.isEmpty()?new ListenComplete(this.source,U.Empty):new ListenComplete(this.source,this.path.popFront())},ListenComplete}(),Pt=function(){function Overwrite(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=bt.OVERWRITE}return Overwrite.prototype.operationForChild=function(e){return this.path.isEmpty()?new Overwrite(this.source,U.Empty,this.snap.getImmediateChild(e)):new Overwrite(this.source,this.path.popFront(),this.snap)},Overwrite}(),xt=function(){function Merge(e,t,r){this.source=e,this.path=t,this.children=r,this.type=bt.MERGE}return Merge.prototype.operationForChild=function(e){if(this.path.isEmpty()){var t=this.children.subtree(new U(e));return t.isEmpty()?null:t.value?new Pt(this.source,U.Empty,t.value):new Merge(this.source,U.Empty,t)}return i.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,this.path.popFront(),this.children)},Merge.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Merge}(),Ot=function(){function CacheNode(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}return CacheNode.prototype.isFullyInitialized=function(){return this.fullyInitialized_},CacheNode.prototype.isFiltered=function(){return this.filtered_},CacheNode.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},CacheNode.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},CacheNode.prototype.getNode=function(){return this.node_},CacheNode}(),Nt=function(){function ViewCache(e,t){this.eventCache_=e,this.serverCache_=t}return ViewCache.prototype.updateEventSnap=function(e,t,r){return new ViewCache(new Ot(e,t,r),this.serverCache_)},ViewCache.prototype.updateServerSnap=function(e,t,r){return new ViewCache(this.eventCache_,new Ot(e,t,r))},ViewCache.prototype.getEventCache=function(){return this.eventCache_},ViewCache.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},ViewCache.prototype.getServerCache=function(){return this.serverCache_},ViewCache.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},ViewCache.Empty=new ViewCache(new Ot(tt.EMPTY_NODE,!1,!1),new Ot(tt.EMPTY_NODE,!1,!1)),ViewCache}(),Rt=function(){function Change(e,t,r,n,i){this.type=e,this.snapshotNode=t,this.childName=r,this.oldSnap=n,this.prevName=i}return Change.valueChange=function(e){return new Change(Change.VALUE,e)},Change.childAddedChange=function(e,t){return new Change(Change.CHILD_ADDED,t,e)},Change.childRemovedChange=function(e,t){return new Change(Change.CHILD_REMOVED,t,e)},Change.childChangedChange=function(e,t,r){return new Change(Change.CHILD_CHANGED,t,e,r)},Change.childMovedChange=function(e,t){return new Change(Change.CHILD_MOVED,t,e)},Change.CHILD_ADDED="child_added",Change.CHILD_REMOVED="child_removed",Change.CHILD_CHANGED="child_changed",Change.CHILD_MOVED="child_moved",Change.VALUE="value",Change}(),It=function(){function IndexedFilter(e){this.index_=e}return IndexedFilter.prototype.updateChild=function(e,t,r,n,o,a){i.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);if(s.getChild(n).equals(r.getChild(n))&&s.isEmpty()==r.isEmpty())return e;return null!=a&&(r.isEmpty()?e.hasChild(t)?a.trackChildChange(Rt.childRemovedChange(t,s)):i.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Rt.childAddedChange(t,r)):a.trackChildChange(Rt.childChangedChange(t,r,s))),e.isLeafNode()&&r.isEmpty()?e:e.updateImmediateChild(t,r).withIndex(this.index_)},IndexedFilter.prototype.updateFullNode=function(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(qe,function(e,n){t.hasChild(e)||r.trackChildChange(Rt.childRemovedChange(e,n))}),t.isLeafNode()||t.forEachChild(qe,function(t,n){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(n)||r.trackChildChange(Rt.childChangedChange(t,n,i))}else r.trackChildChange(Rt.childAddedChange(t,n))})),t.withIndex(this.index_)},IndexedFilter.prototype.updatePriority=function(e,t){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(t)},IndexedFilter.prototype.filtersNodes=function(){return!1},IndexedFilter.prototype.getIndexedFilter=function(){return this},IndexedFilter.prototype.getIndex=function(){return this.index_},IndexedFilter}(),At=function(){function ChildChangeAccumulator(){this.changeMap=new Map}return ChildChangeAccumulator.prototype.trackChildChange=function(e){var t=e.type,r=e.childName;i.assert(t==Rt.CHILD_ADDED||t==Rt.CHILD_CHANGED||t==Rt.CHILD_REMOVED,"Only child changes supported for tracking"),i.assert(".priority"!==r,"Only non-priority child changes can be tracked.");var n=this.changeMap.get(r);if(n){var o=n.type;if(t==Rt.CHILD_ADDED&&o==Rt.CHILD_REMOVED)this.changeMap.set(r,Rt.childChangedChange(r,e.snapshotNode,n.snapshotNode));else if(t==Rt.CHILD_REMOVED&&o==Rt.CHILD_ADDED)this.changeMap.delete(r);else if(t==Rt.CHILD_REMOVED&&o==Rt.CHILD_CHANGED)this.changeMap.set(r,Rt.childRemovedChange(r,n.oldSnap));else if(t==Rt.CHILD_CHANGED&&o==Rt.CHILD_ADDED)this.changeMap.set(r,Rt.childAddedChange(r,e.snapshotNode));else{if(t!=Rt.CHILD_CHANGED||o!=Rt.CHILD_CHANGED)throw i.assertionError("Illegal combination of changes: "+e+" occurred after "+n);this.changeMap.set(r,Rt.childChangedChange(r,e.snapshotNode,n.oldSnap))}}else this.changeMap.set(r,e)},ChildChangeAccumulator.prototype.getChanges=function(){return Array.from(this.changeMap.values())},ChildChangeAccumulator}(),Dt,Mt=new(function(){function NoCompleteChildSource_(){}return NoCompleteChildSource_.prototype.getCompleteChild=function(e){return null},NoCompleteChildSource_.prototype.getChildAfterChild=function(e,t,r){return null},NoCompleteChildSource_}()),jt=function(){function WriteTreeCompleteChildSource(e,t,r){void 0===r&&(r=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}return WriteTreeCompleteChildSource.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var r=null!=this.optCompleteServerCache_?new Ot(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},WriteTreeCompleteChildSource.prototype.getChildAfterChild=function(e,t,r){var n=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(n,t,1,r,e);return 0===i.length?null:i[0]},WriteTreeCompleteChildSource}(),Lt=function(){function ProcessorResult(e,t){this.viewCache=e,this.changes=t}return ProcessorResult}(),Ft=function(){function ViewProcessor(e){this.filter_=e}return ViewProcessor.prototype.assertIndexed=function(e){i.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),i.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},ViewProcessor.prototype.applyOperation=function(e,t,r,n){var o=new At,a,s;if(t.type===bt.OVERWRITE){var l=t;l.source.fromUser?a=this.applyUserOverwrite_(e,l.path,l.snap,r,n,o):(i.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(e,l.path,l.snap,r,n,s,o))}else if(t.type===bt.MERGE){var u=t;u.source.fromUser?a=this.applyUserMerge_(e,u.path,u.children,r,n,o):(i.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,u.path,u.children,r,n,s,o))}else if(t.type===bt.ACK_USER_WRITE){var c=t;a=c.revert?this.revertUserWrite_(e,c.path,r,n,o):this.ackUserWrite_(e,c.path,c.affectedTree,r,n,o)}else{if(t.type!==bt.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+t.type);a=this.listenComplete_(e,t.path,r,o)}var h=o.getChanges();return ViewProcessor.maybeAddValueEvent_(e,a,h),new Lt(a,h)},ViewProcessor.maybeAddValueEvent_=function(e,t,r){var n=t.getEventCache();if(n.isFullyInitialized()){var i=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||i&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&r.push(Rt.valueChange(t.getCompleteEventSnap()))}},ViewProcessor.prototype.generateEventCacheAfterServerEvent_=function(e,t,r,n,o){var a=e.getEventCache();if(null!=r.shadowingWrite(t))return e;var s=void 0,l=void 0;if(t.isEmpty())if(i.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),c=u instanceof tt?u:tt.EMPTY_NODE,h=r.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,o)}else{var p=r.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),p,o)}else{var d=t.getFront();if(".priority"==d){i.assert(1==t.getLength(),"Can't have a priority with additional path components");var f=a.getNode();l=e.getServerCache().getNode();var y=r.calcEventCacheAfterServerOverwrite(t,f,l);s=null!=y?this.filter_.updatePriority(f,y):a.getNode()}else{var v=t.popFront(),m=void 0;if(a.isCompleteForChild(d)){l=e.getServerCache().getNode();var g=r.calcEventCacheAfterServerOverwrite(t,a.getNode(),l);m=null!=g?a.getNode().getImmediateChild(d).updateChild(v,g):a.getNode().getImmediateChild(d)}else m=r.calcCompleteChild(d,e.getServerCache());s=null!=m?this.filter_.updateChild(a.getNode(),d,m,v,n,o):a.getNode()}}return e.updateEventSnap(s,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},ViewProcessor.prototype.applyServerOverwrite_=function(e,t,r,n,i,o,a){var s=e.getServerCache(),l,u=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())l=u.updateFullNode(s.getNode(),r,null);else if(u.filtersNodes()&&!s.isFiltered()){var c=s.getNode().updateChild(t,r);l=u.updateFullNode(s.getNode(),c,null)}else{var h=t.getFront();if(!s.isCompleteForPath(t)&&t.getLength()>1)return e;var p=t.popFront(),d,f=s.getNode().getImmediateChild(h).updateChild(p,r);l=".priority"==h?u.updatePriority(s.getNode(),f):u.updateChild(s.getNode(),h,f,p,Mt,null)}var y=e.updateServerSnap(l,s.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),v=new jt(n,y,i);return this.generateEventCacheAfterServerEvent_(y,t,n,v,a)},ViewProcessor.prototype.applyUserOverwrite_=function(e,t,r,n,i,o){var a=e.getEventCache(),s,l,u=new jt(n,e,i);if(t.isEmpty())l=this.filter_.updateFullNode(e.getEventCache().getNode(),r,o),s=e.updateEventSnap(l,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)l=this.filter_.updatePriority(e.getEventCache().getNode(),r),s=e.updateEventSnap(l,a.isFullyInitialized(),a.isFiltered());else{var h=t.popFront(),p=a.getNode().getImmediateChild(c),d=void 0;if(h.isEmpty())d=r;else{var f=u.getCompleteChild(c);d=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,r):tt.EMPTY_NODE}if(p.equals(d))s=e;else{var y=this.filter_.updateChild(a.getNode(),c,d,h,u,o);s=e.updateEventSnap(y,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},ViewProcessor.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},ViewProcessor.prototype.applyUserMerge_=function(e,t,r,n,i,o){var a=this,s=e;return r.foreach(function(r,l){var u=t.child(r);ViewProcessor.cacheHasChild_(e,u.getFront())&&(s=a.applyUserOverwrite_(s,u,l,n,i,o))}),r.foreach(function(r,l){var u=t.child(r);ViewProcessor.cacheHasChild_(e,u.getFront())||(s=a.applyUserOverwrite_(s,u,l,n,i,o))}),s},ViewProcessor.prototype.applyMerge_=function(e,t){return t.foreach(function(t,r){e=e.updateChild(t,r)}),e},ViewProcessor.prototype.applyServerMerge_=function(e,t,r,n,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l=e,u;u=t.isEmpty()?r:wt.Empty.setTree(t,r);var c=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,r){if(c.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,r);l=s.applyServerOverwrite_(l,new U(t),h,n,i,o,a)}}),u.children.inorderTraversal(function(t,r){var u=!e.getServerCache().isCompleteForChild(t)&&null==r.value;if(!c.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),p=s.applyMerge_(h,r);l=s.applyServerOverwrite_(l,new U(t),p,n,i,o,a)}}),l},ViewProcessor.prototype.ackUserWrite_=function(e,t,r,n,i,o){if(null!=n.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=r.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),n,i,a,o);if(t.isEmpty()){var l=wt.Empty;return s.getNode().forEachChild(De,function(e,t){l=l.set(new U(e),t)}),this.applyServerMerge_(e,t,l,n,i,a,o)}return e}var u=wt.Empty;return r.foreach(function(e,r){var n=t.child(e);s.isCompleteForPath(n)&&(u=u.set(e,s.getNode().getChild(n)))}),this.applyServerMerge_(e,t,u,n,i,a,o)},ViewProcessor.prototype.listenComplete_=function(e,t,r,n){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,r,Mt,n)},ViewProcessor.prototype.revertUserWrite_=function(e,t,r,n,o){var a;if(null!=r.shadowingWrite(t))return e;var s=new jt(r,e,n),l=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();i.assert(h instanceof tt,"serverChildren would be complete if leaf node"),c=r.calcCompleteEventChildren(h)}c=c,u=this.filter_.updateFullNode(l,c,o)}else{var p=t.getFront(),d=r.calcCompleteChild(p,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(p)&&(d=l.getImmediateChild(p)),(u=null!=d?this.filter_.updateChild(l,p,d,t.popFront(),s,o):e.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(l,p,tt.EMPTY_NODE,t.popFront(),s,o):l).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,a,o))}return a=e.getServerCache().isFullyInitialized()||null!=r.shadowingWrite(U.Empty),e.updateEventSnap(u,a,this.filter_.filtersNodes())},ViewProcessor}(),Bt=function(){function EventGenerator(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return EventGenerator.prototype.generateEventsForChanges=function(e,t,r){var n=this,i=[],o=[];return e.forEach(function(e){e.type===Rt.CHILD_CHANGED&&n.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Rt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,Rt.CHILD_REMOVED,e,r,t),this.generateEventsForType_(i,Rt.CHILD_ADDED,e,r,t),this.generateEventsForType_(i,Rt.CHILD_MOVED,o,r,t),this.generateEventsForType_(i,Rt.CHILD_CHANGED,e,r,t),this.generateEventsForType_(i,Rt.VALUE,e,r,t),i},EventGenerator.prototype.generateEventsForType_=function(e,t,r,n,i){var o=this,a=r.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var r=o.materializeSingleChange_(t,i);n.forEach(function(n){n.respondsTo(t.type)&&e.push(n.createEvent(r,o.query_))})})},EventGenerator.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},EventGenerator.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw i.assertionError("Should only compare child_ events.");var r=new Ne(e.childName,e.snapshotNode),n=new Ne(t.childName,t.snapshotNode);return this.index_.compare(r,n)},EventGenerator}(),Wt=function(){function View(e,t){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),n=new It(r.getIndex()),i=r.getNodeFilter();this.processor_=new Ft(i);var o=t.getServerCache(),a=t.getEventCache(),s=n.updateFullNode(tt.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),u=new Ot(s,o.isFullyInitialized(),n.filtersNodes()),c=new Ot(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Nt(c,u),this.eventGenerator_=new Bt(this.query_)}return View.prototype.getQuery=function(){return this.query_},View.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},View.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();if(t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty()))return t.getChild(e);return null},View.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},View.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},View.prototype.removeEventRegistration=function(e,t){var r=[];if(t){i.assert(null==e,"A cancel should cancel all event registrations.");var n=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,n);i&&r.push(i)})}if(e){for(var o=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(a+1));break}}else o.push(s)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return r},View.prototype.applyOperation=function(e,t,r){e.type===bt.MERGE&&null!==e.source.queryId&&(i.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),i.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var n=this.viewCache_,o=this.processor_.applyOperation(n,e,t,r);return this.processor_.assertIndexed(o.viewCache),i.assert(o.viewCache.getServerCache().isFullyInitialized()||!n.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},View.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),r=[],n;t.getNode().isLeafNode()||t.getNode().forEachChild(qe,function(e,t){r.push(Rt.childAddedChange(e,t))});return t.isFullyInitialized()&&r.push(Rt.valueChange(t.getNode())),this.generateEventsForChanges_(r,t.getNode(),e)},View.prototype.generateEventsForChanges_=function(e,t,r){var n=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,n)},View}(),Ht,Vt=function(){function SyncPoint(){this.views=new Map}return Object.defineProperty(SyncPoint,"__referenceConstructor",{get:function(){return i.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(e){i.assert(!Ht,"__referenceConstructor has already been defined"),Ht=e},enumerable:!0,configurable:!0}),SyncPoint.prototype.isEmpty=function(){return 0===this.views.size},SyncPoint.prototype.applyOperation=function(e,t,r){var o,a,s=e.source.queryId;if(null!==s){var l=this.views.get(s);return i.assert(null!=l,"SyncTree gave us an op for an invalid query."),l.applyOperation(e,t,r)}var u=[];try{for(var c=n.__values(this.views.values()),h=c.next();!h.done;h=c.next()){var l=h.value;u=u.concat(l.applyOperation(e,t,r))}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return u},SyncPoint.prototype.addEventRegistration=function(e,t,r,n,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=r.calcCompleteEventCache(i?n:null),l=!1;s?l=!0:n instanceof tt?(s=r.calcCompleteEventChildren(n),l=!1):(s=tt.EMPTY_NODE,l=!1);var u=new Nt(new Ot(s,l,!1),new Ot(n,i,!1));a=new Wt(e,u),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},SyncPoint.prototype.removeEventRegistration=function(e,t,r){var i,o,a=e.queryIdentifier(),s=[],l=[],u=this.hasCompleteView(),c;if("default"===a)try{for(var h=n.__values(this.views.entries()),p=h.next();!p.done;p=h.next()){var d=n.__read(p.value,2),f=d[0],c=d[1];l=l.concat(c.removeEventRegistration(t,r)),c.isEmpty()&&(this.views.delete(f),c.getQuery().getQueryParams().loadsAllData()||s.push(c.getQuery()))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(c=this.views.get(a))&&(l=l.concat(c.removeEventRegistration(t,r)),c.isEmpty()&&(this.views.delete(a),c.getQuery().getQueryParams().loadsAllData()||s.push(c.getQuery())));return u&&!this.hasCompleteView()&&s.push(new SyncPoint.__referenceConstructor(e.repo,e.path)),{removed:s,events:l}},SyncPoint.prototype.getQueryViews=function(){var e,t,r=[];try{for(var i=n.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},SyncPoint.prototype.getCompleteServerCache=function(e){var t,r,i=null;try{for(var o=n.__values(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||s.getCompleteServerCache(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i},SyncPoint.prototype.viewForQuery=function(e){var t;if(e.getQueryParams().loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},SyncPoint.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},SyncPoint.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},SyncPoint.prototype.getCompleteView=function(){var e,t;try{for(var r=n.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},SyncPoint}(),qt=function(){function CompoundWrite(e){this.writeTree_=e}return CompoundWrite.prototype.addWrite=function(e,t){if(e.isEmpty())return new CompoundWrite(new wt(t));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var n=r.path,i=r.value,o=U.relativePath(n,e);return i=i.updateChild(o,t),new CompoundWrite(this.writeTree_.set(n,i))}var a=new wt(t),s;return new CompoundWrite(this.writeTree_.setTree(e,a))},CompoundWrite.prototype.addWrites=function(e,t){var r=this;return each(t,function(t,n){r=r.addWrite(e.child(t),n)}),r},CompoundWrite.prototype.removeWrite=function(e){if(e.isEmpty())return CompoundWrite.Empty;var t;return new CompoundWrite(this.writeTree_.setTree(e,wt.Empty))},CompoundWrite.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},CompoundWrite.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(U.relativePath(t.path,e)):null},CompoundWrite.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(qe,function(t,r){e.push(new Ne(t,r))}):this.writeTree_.children.inorderTraversal(function(t,r){null!=r.value&&e.push(new Ne(t,r.value))}),e},CompoundWrite.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var t=this.getCompleteNode(e);return new CompoundWrite(null!=t?new wt(t):this.writeTree_.subtree(e))},CompoundWrite.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},CompoundWrite.prototype.apply=function(e){return applySubtreeWrite(U.Empty,this.writeTree_,e)},CompoundWrite.Empty=new CompoundWrite(new wt(null)),CompoundWrite}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function applySubtreeWrite(e,t,r){if(null!=t.value)return r.updateChild(e,t.value);var n=null;return t.children.inorderTraversal(function(t,o){".priority"===t?(i.assert(null!==o.value,"Priority writes must always be leaf nodes"),n=o.value):r=applySubtreeWrite(e.child(t),o,r)}),r.getChild(e).isEmpty()||null===n||(r=r.updateChild(e.child(".priority"),n)),r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut=function(){function WriteTree(){this.visibleWrites_=qt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return WriteTree.prototype.childWrites=function(e){return new Qt(e,this)},WriteTree.prototype.addOverwrite=function(e,t,r,n){i.assert(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===n&&(n=!0),this.allWrites_.push({path:e,snap:t,writeId:r,visible:n}),n&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=r},WriteTree.prototype.addMerge=function(e,t,r){i.assert(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:r,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=r},WriteTree.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var r=this.allWrites_[t];if(r.writeId===e)return r}return null},WriteTree.prototype.removeWrite=function(e){var t=this,r=this.allWrites_.findIndex(function(t){return t.writeId===e});i.assert(r>=0,"removeWrite called with nonexistent writeId.");var n=this.allWrites_[r];this.allWrites_.splice(r,1);for(var o=n.visible,a=!1,s=this.allWrites_.length-1;o&&s>=0;){var l=this.allWrites_[s];l.visible&&(s>=r&&this.recordContainsPath_(l,n.path)?o=!1:n.path.contains(l.path)&&(a=!0)),s--}if(o){if(a)return this.resetTree_(),!0;var u;n.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(n.path):each(n.children,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(n.path.child(e))});return!0}return!1},WriteTree.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},WriteTree.prototype.calcCompleteEventCache=function(e,t,r,n){if(r||n){var i=this.visibleWrites_.childCompoundWrite(e);if(!n&&i.isEmpty())return t;if(n||null!=t||i.hasCompleteWrite(U.Empty)){var o=function(t){return(t.visible||n)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},a=WriteTree.layerTree_(this.allWrites_,o,e),s=t||tt.EMPTY_NODE;return a.apply(s)}return null}var l=this.visibleWrites_.getCompleteNode(e);if(null!=l)return l;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return t;if(null!=t||u.hasCompleteWrite(U.Empty)){var s=t||tt.EMPTY_NODE;return u.apply(s)}return null},WriteTree.prototype.calcCompleteEventChildren=function(e,t){var r=tt.EMPTY_NODE,n=this.visibleWrites_.getCompleteNode(e),i;if(n)return n.isLeafNode()||n.forEachChild(qe,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(t){var o=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(qe,function(e,t){var n=o.childCompoundWrite(new U(e)).apply(t);r=r.updateImmediateChild(e,n)}),o.getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r},WriteTree.prototype.calcEventCacheAfterServerOverwrite=function(e,t,r,n){i.assert(r||n,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?n.getChild(t):a.apply(n.getChild(t))},WriteTree.prototype.calcCompleteChild=function(e,t,r){var n=e.child(t),i=this.visibleWrites_.getCompleteNode(n),o;if(null!=i)return i;if(r.isCompleteForChild(t))return this.visibleWrites_.childCompoundWrite(n).apply(r.getNode().getImmediateChild(t));return null},WriteTree.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},WriteTree.prototype.calcIndexedSlice=function(e,t,r,n,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),l=s.getCompleteNode(U.Empty);if(null!=l)a=l;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),p=h.getNext();p&&u.length<n;)0!==c(p,r)&&u.push(p),p=h.getNext();return u},WriteTree.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(t))return!0;return!1},WriteTree.prototype.resetTree_=function(){this.visibleWrites_=WriteTree.layerTree_(this.allWrites_,WriteTree.DefaultFilter_,U.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},WriteTree.DefaultFilter_=function(e){return e.visible},WriteTree.layerTree_=function(e,t,r){for(var n=qt.Empty,o=0;o<e.length;++o){var a=e[o];if(t(a)){var s=a.path,l=void 0;if(a.snap)r.contains(s)?(l=U.relativePath(r,s),n=n.addWrite(l,a.snap)):s.contains(r)&&(l=U.relativePath(s,r),n=n.addWrite(U.Empty,a.snap.getChild(l)));else{if(!a.children)throw i.assertionError("WriteRecord should have .snap or .children");if(r.contains(s))l=U.relativePath(r,s),n=n.addWrites(l,a.children);else if(s.contains(r))if((l=U.relativePath(s,r)).isEmpty())n=n.addWrites(U.Empty,a.children);else{var u=i.safeGet(a.children,l.getFront());if(u){var c=u.getChild(l.popFront());n=n.addWrite(U.Empty,c)}}}}}return n},WriteTree}(),Qt=function(){function WriteTreeRef(e,t){this.treePath_=e,this.writeTree_=t}return WriteTreeRef.prototype.calcCompleteEventCache=function(e,t,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,r)},WriteTreeRef.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},WriteTreeRef.prototype.calcEventCacheAfterServerOverwrite=function(e,t,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,r)},WriteTreeRef.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},WriteTreeRef.prototype.calcIndexedSlice=function(e,t,r,n,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,r,n,i)},WriteTreeRef.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},WriteTreeRef.prototype.child=function(e){return new WriteTreeRef(this.treePath_.child(e),this.writeTree_)},WriteTreeRef}(),zt=function(){function SyncTree(e){this.listenProvider_=e,this.syncPointTree_=wt.Empty,this.pendingWriteTree_=new Ut,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return SyncTree.prototype.applyUserOverwrite=function(e,t,r,n){return this.pendingWriteTree_.addOverwrite(e,t,r,n),n?this.applyOperationToSyncPoints_(new Pt(Ct.User,e,t)):[]},SyncTree.prototype.applyUserMerge=function(e,t,r){this.pendingWriteTree_.addMerge(e,t,r);var n=wt.fromObject(t);return this.applyOperationToSyncPoints_(new xt(Ct.User,e,n))},SyncTree.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var r=this.pendingWriteTree_.getWrite(e),n;if(this.pendingWriteTree_.removeWrite(e)){var i=wt.Empty;return null!=r.snap?i=i.set(U.Empty,!0):each(r.children,function(e,t){i=i.set(new U(e),t)}),this.applyOperationToSyncPoints_(new Tt(r.path,i,t))}return[]},SyncTree.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Pt(Ct.Server,e,t))},SyncTree.prototype.applyServerMerge=function(e,t){var r=wt.fromObject(t);return this.applyOperationToSyncPoints_(new xt(Ct.Server,e,r))},SyncTree.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new kt(Ct.Server,e))},SyncTree.prototype.applyTaggedQueryOverwrite=function(e,t,r){var n=this.queryKeyForTag_(r);if(null!=n){var i=SyncTree.parseQueryKey_(n),o=i.path,a=i.queryId,s=U.relativePath(o,e),l=new Pt(Ct.forServerTaggedQuery(a),s,t);return this.applyTaggedOperation_(o,l)}return[]},SyncTree.prototype.applyTaggedQueryMerge=function(e,t,r){var n=this.queryKeyForTag_(r);if(n){var i=SyncTree.parseQueryKey_(n),o=i.path,a=i.queryId,s=U.relativePath(o,e),l=wt.fromObject(t),u=new xt(Ct.forServerTaggedQuery(a),s,l);return this.applyTaggedOperation_(o,u)}return[]},SyncTree.prototype.applyTaggedListenComplete=function(e,t){var r=this.queryKeyForTag_(t);if(r){var n=SyncTree.parseQueryKey_(r),i=n.path,o=n.queryId,a=U.relativePath(i,e),s=new kt(Ct.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(i,s)}return[]},SyncTree.prototype.addEventRegistration=function(e,t){var r=e.path,n=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var i=U.relativePath(e,r);n=n||t.getCompleteServerCache(i),o=o||t.hasCompleteView()});var a=this.syncPointTree_.get(r),s,l;(a?(o=o||a.hasCompleteView(),n=n||a.getCompleteServerCache(U.Empty)):(a=new Vt,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=n)?s=!0:(s=!1,n=tt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(e,t){var r=t.getCompleteServerCache(U.Empty);r&&(n=n.updateImmediateChild(e,r))}));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=SyncTree.makeQueryKey_(e);i.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=SyncTree.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var p=this.pendingWriteTree_.childWrites(r),d=a.addEventRegistration(e,t,p,n,s);if(!u&&!o){var f=a.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},SyncTree.prototype.removeEventRegistration=function(e,t,r){var n=this,i=e.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var s=o.removeEventRegistration(e,t,r);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var l=s.removed;a=s.events;var u=-1!==l.findIndex(function(e){return e.getQueryParams().loadsAllData()}),c=this.syncPointTree_.findOnPath(i,function(e,t){return t.hasCompleteView()});if(u&&!c){var h=this.syncPointTree_.subtree(i);if(!h.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(h),d=0;d<p.length;++d){var f=p[d],y=f.getQuery(),v=this.createListenerForView_(f);this.listenProvider_.startListening(SyncTree.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!c&&l.length>0&&!r)if(u){var m=null;this.listenProvider_.stopListening(SyncTree.queryForListening_(e),null)}else l.forEach(function(e){var t=n.queryToTagMap.get(SyncTree.makeQueryKey_(e));n.listenProvider_.stopListening(SyncTree.queryForListening_(e),t)});this.removeTags_(l)}return a},SyncTree.prototype.calcCompleteEventCache=function(e,t){var r=!0,n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(e,function(t,r){var n=U.relativePath(t,e),i=r.getCompleteServerCache(n);if(i)return i});return n.calcCompleteEventCache(e,i,t,!0)},SyncTree.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,r){var n;if(t&&t.hasCompleteView())return[t.getCompleteView()];var i=[];return t&&(i=t.getQueryViews()),each(r,function(e,t){i=i.concat(t)}),i})},SyncTree.prototype.removeTags_=function(e){for(var t=0;t<e.length;++t){var r=e[t];if(!r.getQueryParams().loadsAllData()){var n=SyncTree.makeQueryKey_(r),i=this.queryToTagMap.get(n);this.queryToTagMap.delete(n),this.tagToQueryMap.delete(i)}}},SyncTree.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},SyncTree.prototype.setupListener_=function(e,t){var r=e.path,n=this.tagForQuery_(e),o=this.createListenerForView_(t),a=this.listenProvider_.startListening(SyncTree.queryForListening_(e),n,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(n)i.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=s.fold(function(e,t,r){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var n=[];return t&&(n=n.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),each(r,function(e,t){n=n.concat(t)}),n}),u=0;u<l.length;++u){var c=l[u];this.listenProvider_.stopListening(SyncTree.queryForListening_(c),this.tagForQuery_(c))}return a},SyncTree.prototype.createListenerForView_=function(e){var t=this,r=e.getQuery(),n=this.tagForQuery_(r);return{hashFn:function(){var t;return(e.getServerCache()||tt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return n?t.applyTaggedListenComplete(r.path,n):t.applyListenComplete(r.path);var i=F(e,r);return t.removeEventRegistration(r,null,i)}}},SyncTree.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},SyncTree.parseQueryKey_=function(e){var t=e.indexOf("$");return i.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new U(e.substr(0,t))}},SyncTree.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},SyncTree.prototype.tagForQuery_=function(e){var t=SyncTree.makeQueryKey_(e);return this.queryToTagMap.get(t)},SyncTree.getNextQueryTag_=function(){return SyncTree.nextQueryTag_++},SyncTree.prototype.applyTaggedOperation_=function(e,t){var r=this.syncPointTree_.get(e);i.assert(r,"Missing sync point for query tag that we're tracking");var n=this.pendingWriteTree_.childWrites(e);return r.applyOperation(t,n,null)},SyncTree.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(U.Empty))},SyncTree.prototype.applyOperationHelper_=function(e,t,r,n){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,r,n);var i=t.get(U.Empty);null==r&&null!=i&&(r=i.getCompleteServerCache(U.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){var u=r?r.getImmediateChild(a):null,c=n.child(a);o=o.concat(this.applyOperationHelper_(s,l,u,c))}return i&&(o=o.concat(i.applyOperation(e,n,r))),o},SyncTree.prototype.applyOperationDescendantsHelper_=function(e,t,r,n){var i=this,o=t.get(U.Empty);null==r&&null!=o&&(r=o.getCompleteServerCache(U.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=r?r.getImmediateChild(t):null,l=n.child(t),u=e.operationForChild(t);u&&(a=a.concat(i.applyOperationDescendantsHelper_(u,o,s,l)))}),o&&(a=a.concat(o.applyOperation(e,n,r))),a},SyncTree.nextQueryTag_=1,SyncTree}(),$t=function(){function SnapshotHolder(){this.rootNode_=tt.EMPTY_NODE}return SnapshotHolder.prototype.getNode=function(e){return this.rootNode_.getChild(e)},SnapshotHolder.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},SnapshotHolder}(),Gt=function(){function AuthTokenProvider(e){this.app_=e}return AuthTokenProvider.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},AuthTokenProvider.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},AuthTokenProvider.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},AuthTokenProvider.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(e)},AuthTokenProvider}(),Kt=function(){function StatsCollection(){this.counters_={}}return StatsCollection.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),i.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},StatsCollection.prototype.get=function(){return i.deepCopy(this.counters_)},StatsCollection}(),Xt=function(){function StatsManager(){}return StatsManager.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Kt),this.collections_[t]},StatsManager.getOrCreateReporter=function(e,t){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=t()),this.reporters_[r]},StatsManager.collections_={},StatsManager.reporters_={},StatsManager}(),Yt=function(){function StatsListener(e){this.collection_=e,this.last_=null}return StatsListener.prototype.get=function(){var e=this.collection_.get(),t=n.__assign({},e);return this.last_&&each(this.last_,function(e,r){t[e]=t[e]-r}),this.last_=e,t},StatsListener}(),Jt=1e4,Zt=3e4,er=3e5,tr=function(){function StatsReporter(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Yt(e);var r=Jt+(Zt-Jt)*Math.random();q(this.reportStats_.bind(this),Math.floor(r))}return StatsReporter.prototype.includeStat=function(e){this.statsToReport_[e]=!0},StatsReporter.prototype.reportStats_=function(){var e=this,t,r={},n=!1;each(this.statsListener_.get(),function(t,o){o>0&&i.contains(e.statsToReport_,t)&&(r[t]=o,n=!0)}),n&&this.server_.reportStats(r),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},StatsReporter}(),rr=function(){function EventQueue(){this.eventLists_=[],this.recursionDepth_=0}return EventQueue.prototype.queueEvents=function(e){for(var t=null,r=0;r<e.length;r++){var n=e[r],i=n.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new nr(i)),t.add(n)}t&&this.eventLists_.push(t)},EventQueue.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},EventQueue.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},EventQueue.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,r=0;r<this.eventLists_.length;r++){var n=this.eventLists_[r],i;if(n)e(n.getPath())?(this.eventLists_[r].raise(),this.eventLists_[r]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},EventQueue}(),nr=function(){function EventList(e){this.path_=e,this.events_=[]}return EventList.prototype.add=function(e){this.events_.push(e)},EventList.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var r=t.getEventRunner();v&&b("event: "+t.toString()),H(r)}}},EventList.prototype.getPath=function(){return this.path_},EventList}(),ir=function(){function EventEmitter(e){this.allowedEvents_=e,this.listeners_={},i.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return EventEmitter.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=n.__spread(this.listeners_[e]),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,t)},EventEmitter.prototype.on=function(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});var n=this.getInitialEvent(e);n&&t.apply(r,n)},EventEmitter.prototype.off=function(e,t,r){this.validateEventType_(e);for(var n=this.listeners_[e]||[],i=0;i<n.length;i++)if(n[i].callback===t&&(!r||r===n[i].context))return void n.splice(i,1)},EventEmitter.prototype.validateEventType_=function(e){i.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},EventEmitter}(),or=function(e){function VisibilityMonitor(){var t=e.call(this,["visible"])||this,r,n;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",r="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",r="webkitHidden")),t.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[r];e!==t.visible_&&(t.visible_=e,t.trigger("visible",e))},!1),t}return n.__extends(VisibilityMonitor,e),VisibilityMonitor.getInstance=function(){return new VisibilityMonitor},VisibilityMonitor.prototype.getInitialEvent=function(e){return i.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},VisibilityMonitor}(ir),ar=function(e){function OnlineMonitor(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||i.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return n.__extends(OnlineMonitor,e),OnlineMonitor.getInstance=function(){return new OnlineMonitor},OnlineMonitor.prototype.getInitialEvent=function(e){return i.assert("online"===e,"Unknown event type: "+e),[this.online_]},OnlineMonitor.prototype.currentlyOnline=function(){return this.online_},OnlineMonitor}(ir),sr=function(){function PacketReceiver(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return PacketReceiver.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},PacketReceiver.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;for(var n=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&H(function(){r.onMessage_(e[t])})},n=0;n<e.length;++n)t(n);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){var o;if("break"===n())break}},PacketReceiver}(),lr="start",ur="close",cr="pLPCommand",hr="pRTLPCB",pr="id",dr="pw",fr="ser",yr="cb",vr="seg",mr="ts",gr="d",_r="disconn",br="dframe",Cr=1870,Tr=30,Sr=1840,Er=25e3,wr=3e4,kr=function(){function BrowserPollConnection(e,t,r,n){this.connId=e,this.repoInfo=t,this.transportSessionId=r,this.lastSessionId=n,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=Xt.getCollection(t),this.urlFn=function(e){return t.connectionURL(te,e)}}return BrowserPollConnection.prototype.open=function(e,t){var r=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(3e4)),P(function(){if(r.isClosed_)return;r.scriptTagHolder=new Pr(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=n.__read(e,5),o=i[0],a=i[1],s=i[2],l=i[3],u=i[4];if(r.incrementIncomingBytes_(e),!r.scriptTagHolder)return;if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,"start"==o)r.id=a,r.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(a,function(){r.onClosed_()})):r.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=n.__read(e,2),o=i[0],a=i[1];r.incrementIncomingBytes_(e),r.myPacketOrderer.handleResponse(o,a)},function(){r.onClosed_()},r.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),r.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=r.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",r.transportSessionId&&(e.s=r.transportSessionId),r.lastSessionId&&(e.ls=r.lastSessionId),!i.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(J)&&(e.r="f");var t=r.urlFn(e);r.log_("Connecting via long-poll to "+t),r.scriptTagHolder.addTag(t,function(){})})},BrowserPollConnection.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},BrowserPollConnection.forceAllow=function(){BrowserPollConnection.forceAllow_=!0},BrowserPollConnection.forceDisallow=function(){BrowserPollConnection.forceDisallow_=!0},BrowserPollConnection.isAvailable=function(){return BrowserPollConnection.forceAllow_||!BrowserPollConnection.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!j()&&!L()&&!i.isNodeSdk()},BrowserPollConnection.prototype.markConnectionHealthy=function(){},BrowserPollConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},BrowserPollConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},BrowserPollConnection.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},BrowserPollConnection.prototype.send=function(e){var t=i.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var r=i.base64Encode(t),n=D(r,1840),o=0;o<n.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[o]),this.curSegmentNum++},BrowserPollConnection.prototype.addDisconnectPingFrame=function(e,t){if(i.isNodeSdk())return;this.myDisconnFrame=document.createElement("iframe");var r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},BrowserPollConnection.prototype.incrementIncomingBytes_=function(e){var t=i.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},BrowserPollConnection}(),Pr=function(){function FirebaseIFrameScriptHolder(e,t,r,n){if(this.onDisconnect=r,this.urlFn=n,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,i.isNodeSdk())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=p(),window[cr+this.uniqueCallbackIdentifier]=e,window[hr+this.uniqueCallbackIdentifier]=t,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();var o="",a;if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){b("frame writing exception"),e.stack&&b(e.stack),b(e)}}}return FirebaseIFrameScriptHolder.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t;e.contentWindow.document||b("No IE domain setting required")}catch(t){var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},FirebaseIFrameScriptHolder.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),i.isNodeSdk()&&this.myID){var t={disconn:"t"};t.id=this.myID,t.pw=this.myPW;var r=this.urlFn(t);FirebaseIFrameScriptHolder.nodeRestRequest(r)}var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},FirebaseIFrameScriptHolder.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},FirebaseIFrameScriptHolder.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),r="",n=0;this.pendingSegs.length>0;){var i;if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;var o=this.pendingSegs.shift();r=r+"&seg"+n+"="+o.seg+"&ts"+n+"="+o.ts+"&d"+n+"="+o.d,n++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1},FirebaseIFrameScriptHolder.prototype.enqueueSegment=function(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()},FirebaseIFrameScriptHolder.prototype.addLongPollTag_=function(e,t){var r=this;this.outstandingRequests.add(t);var n=function(){r.outstandingRequests.delete(t),r.newRequest_()},i=setTimeout(n,Math.floor(25e3)),o=function(){clearTimeout(i),n()};this.addTag(e,o)},FirebaseIFrameScriptHolder.prototype.addTag=function(e,t){var r=this;i.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!r.sendNewPolls)return;var n=r.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){var e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=function(){b("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))},FirebaseIFrameScriptHolder}(),xr="";function setSDKVersion(e){xr=e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=16384,Nr=45e3,Rr=null;"undefined"!=typeof MozWebSocket?Rr=MozWebSocket:"undefined"!=typeof WebSocket&&(Rr=WebSocket);var Ir=function(){function WebSocketConnection(e,t,r,n){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Xt.getCollection(t),this.connURL=WebSocketConnection.connectionURL_(t,r,n)}return WebSocketConnection.connectionURL_=function(e,t,r){var n={v:"5"};return!i.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(J)&&(n.r="f"),t&&(n.s=t),r&&(n.ls=r),e.connectionURL(ee,n)},WebSocketConnection.prototype.open=function(e,r){var n=this;this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,u.set("previous_websocket_failure",!0);try{if(i.isNodeSdk()){var o=i.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+xr+"/"+t.platform+"/"+o}},s=Object({NODE_ENV:"production"}),l=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;l&&(a.proxy={origin:l}),this.mySock=new Rr(this.connURL,[],a)}else this.mySock=new Rr(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},WebSocketConnection.prototype.start=function(){},WebSocketConnection.forceDisallow=function(){WebSocketConnection.forceDisallow_=!0},WebSocketConnection.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Rr&&!WebSocketConnection.forceDisallow_},WebSocketConnection.previouslyFailed=function(){return u.isInMemoryStorage||!0===u.get("previous_websocket_failure")},WebSocketConnection.prototype.markConnectionHealthy=function(){u.remove("previous_websocket_failure")},WebSocketConnection.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var r=i.jsonEval(t);this.onMessage(r)}},WebSocketConnection.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},WebSocketConnection.prototype.extractFrameCount_=function(e){if(i.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},WebSocketConnection.prototype.handleIncomingFrame=function(e){if(null===this.mySock)return;var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var r=this.extractFrameCount_(t);null!==r&&this.appendFrame_(r)}},WebSocketConnection.prototype.send=function(e){this.resetKeepAlive();var t=i.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var r=D(t,16384);r.length>1&&this.sendString_(String(r.length));for(var n=0;n<r.length;n++)this.sendString_(r[n])},WebSocketConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},WebSocketConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},WebSocketConnection.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},WebSocketConnection.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},WebSocketConnection.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4,WebSocketConnection}(),Ar=function(){function TransportManager(e){this.initTransports_(e)}return Object.defineProperty(TransportManager,"ALL_TRANSPORTS",{get:function(){return[kr,Ir]},enumerable:!0,configurable:!0}),TransportManager.prototype.initTransports_=function(e){var t,r,i=Ir&&Ir.isAvailable(),o=i&&!Ir.previouslyFailed();if(e.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ir];else{var a=this.transports_=[];try{for(var s=n.__values(TransportManager.ALL_TRANSPORTS),l=s.next();!l.done;l=s.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}},TransportManager.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},TransportManager.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},TransportManager}(),Dr=6e4,Mr=5e3,jr=10240,Lr=102400,Fr="t",Br="d",Wr="s",Hr="r",Vr="e",qr="o",Ur="a",Qr="n",zr="p",$r="h",Gr=function(){function Connection(e,t,r,n,i,o,a){this.id=e,this.repoInfo_=t,this.onMessage_=r,this.onReady_=n,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ar(t),this.log_("Connection created"),this.start_()}return Connection.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,n)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=q(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},Connection.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Connection.prototype.disconnReceiver_=function(e){var t=this;return function(r){e===t.conn_?t.onConnectionLost_(r):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},Connection.prototype.connReceiver_=function(e){var t=this;return function(r){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(r):e===t.secondaryConn_?t.onSecondaryMessageReceived_(r):t.log_("message on old connection"))}},Connection.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},Connection.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Connection.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},Connection.prototype.onSecondaryMessageReceived_=function(e){var t=I("t",e),r=I("d",e);if("c"==t)this.onSecondaryControl_(r);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}},Connection.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Connection.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Connection.prototype.onPrimaryMessageReceived_=function(e){var t=I("t",e),r=I("d",e);"c"==t?this.onControl_(r):"d"==t&&this.onDataMessage_(r)},Connection.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},Connection.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Connection.prototype.onControl_=function(e){var t=I("t",e);if("d"in e){var r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?T("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},Connection.prototype.onHandshake_=function(e){var t=e.ts,r=e.v,n=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(n),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},Connection.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Connection.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),q(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},Connection.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},Connection.prototype.onConnectionEstablished_=function(e,t){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},Connection.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Connection.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},Connection.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(u.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Connection.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},Connection.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Connection.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Connection.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Connection}(),Kr=function(){function ServerActions(){}return ServerActions.prototype.put=function(e,t,r,n){},ServerActions.prototype.merge=function(e,t,r,n){},ServerActions.prototype.refreshAuthToken=function(e){},ServerActions.prototype.onDisconnectPut=function(e,t,r){},ServerActions.prototype.onDisconnectMerge=function(e,t,r){},ServerActions.prototype.onDisconnectCancel=function(e,t){},ServerActions.prototype.reportStats=function(e){},ServerActions}(),Xr=1e3,Yr=3e5,Jr=3e4,Zr=1.3,en=3e4,tn="server_kill",rn=3,nn=function(e){function PersistentConnection(t,r,n,o,a,s){var l=e.call(this)||this;if(l.repoInfo_=t,l.onDataUpdate_=r,l.onConnectStatus_=n,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=s,l.id=PersistentConnection.nextPersistentConnectionId_++,l.log_=C("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Xr,l.maxReconnectDelay_=Yr,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,s&&!i.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),or.getInstance().on("visible",l.onVisible_,l),-1===t.host.indexOf("fblocal")&&ar.getInstance().on("online",l.onOnline_,l),l}return n.__extends(PersistentConnection,e),PersistentConnection.prototype.sendRequest=function(e,t,r){var n=++this.requestNumber_,o={r:n,a:e,b:t};this.log_(i.stringify(o)),i.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[n]=r)},PersistentConnection.prototype.listen=function(e,t,r,n){var o=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),i.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),i.assert(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:n,hashFn:t,query:e,tag:r};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},PersistentConnection.prototype.sendListen_=function(e){var t=this,r=e.query,n=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+n+" for "+i);var o={p:n},a="q";e.tag&&(o.q=r.queryObject(),o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,s=o.s,l;PersistentConnection.warnOnListenWarnings_(a,r),(t.listens.get(n)&&t.listens.get(n).get(i))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(n,i),e.onComplete&&e.onComplete(s,a))})},PersistentConnection.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&i.contains(e,"w")){var r=i.safeGet(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){var n='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',o=t.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+n+" at "+o+" to your security rules for better performance.")}}},PersistentConnection.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},PersistentConnection.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||i.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},PersistentConnection.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,r=i.isValidFormat(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(r,n,function(r){var n=r.s,i=r.d||"error";e.authToken_===t&&("ok"===n?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(n,i))})}},PersistentConnection.prototype.unlisten=function(e,t){var r=e.path.toString(),n=e.queryIdentifier(),o;this.log_("Unlisten called for "+r+" "+n),i.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,n)&&this.connected_&&this.sendUnlisten_(r,n,e.queryObject(),t)},PersistentConnection.prototype.sendUnlisten_=function(e,t,r,n){this.log_("Unlisten on "+e+" for "+t);var i={p:e},o="n";n&&(i.q=r,i.t=n),this.sendRequest("n",i)},PersistentConnection.prototype.onDisconnectPut=function(e,t,r){this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})},PersistentConnection.prototype.onDisconnectMerge=function(e,t,r){this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})},PersistentConnection.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},PersistentConnection.prototype.sendOnDisconnect_=function(e,t,r,n){var i={p:t,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){n&&setTimeout(function(){n(e.s,e.d)},Math.floor(0))})},PersistentConnection.prototype.put=function(e,t,r,n){this.putInternal("p",e,t,r,n)},PersistentConnection.prototype.merge=function(e,t,r,n){this.putInternal("m",e,t,r,n)},PersistentConnection.prototype.putInternal=function(e,t,r,n,i){var o={p:t,d:r};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:n}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},PersistentConnection.prototype.sendPut_=function(e){var t=this,r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,function(n){t.log_(r+" response",n),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(n.s,n.d)})},PersistentConnection.prototype.reportStats=function(e){var t=this;if(this.connected_){var r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,function(e){var r;if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},PersistentConnection.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+i.stringify(e));var t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},PersistentConnection.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+i.stringify(e)+"\nAre you using the latest client?")},PersistentConnection.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},PersistentConnection.prototype.scheduleConnect_=function(e){var t=this;i.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},PersistentConnection.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},PersistentConnection.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},PersistentConnection.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e;(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},PersistentConnection.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),n=this.id+":"+PersistentConnection.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,l=null,u=function(){l?l.close():(s=!0,r())},c=function(e){i.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)};this.realtime_={close:u,sendRequest:c};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(i){s?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),o.authToken_=i&&i.accessToken,l=new Gr(n,o.repoInfo_,e,t,r,function(e){E(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(e){o.log_("Failed to get token: "+e),s||(i.CONSTANTS.NODE_ADMIN&&E(e),u())})}},PersistentConnection.prototype.interrupt=function(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},PersistentConnection.prototype.resume=function(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],i.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Xr,this.realtime_||this.scheduleConnect_(0))},PersistentConnection.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},PersistentConnection.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},PersistentConnection.prototype.onListenRevoked_=function(e,t){var r;r=t?t.map(function(e){return A(e)}).join("$"):"default";var n=this.removeListen_(e,r);n&&n.onComplete&&n.onComplete("permission_denied")},PersistentConnection.prototype.removeListen_=function(e,t){var r=new U(e).toString(),n;if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},PersistentConnection.prototype.onAuthRevoked_=function(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},PersistentConnection.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},PersistentConnection.prototype.restoreState_=function(){var e,t,r,i;this.tryAuth();try{for(var o=n.__values(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var l=(r=void 0,n.__values(s.values())),u=l.next();!u.done;u=l.next()){var c=u.value;this.sendListen_(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},PersistentConnection.prototype.sendConnectStats_=function(){var e={},t="js";i.CONSTANTS.NODE_ADMIN?t="admin_node":i.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+xr.replace(/\./g,"-")]=1,i.isMobileCordova()?e["framework.cordova"]=1:i.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},PersistentConnection.prototype.shouldReconnect_=function(){var e=ar.getInstance().currentlyOnline();return i.isEmpty(this.interruptReasons_)&&e},PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0,PersistentConnection}(Kr),on=function(e){function ReadonlyRestClient(t,r,n){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=r,i.authTokenProvider_=n,i.log_=C("p:rest:"),i.listens_={},i}return n.__extends(ReadonlyRestClient,e),ReadonlyRestClient.prototype.reportStats=function(e){throw new Error("Method not implemented.")},ReadonlyRestClient.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(i.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},ReadonlyRestClient.prototype.listen=function(e,t,r,n){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var s=ReadonlyRestClient.getListenId_(e,r),l={};this.listens_[s]=l;var u=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",u,function(e,t){var u=t,c;(404===e&&(u=null,e=null),null===e&&o.onDataUpdate_(a,u,!1,r),i.safeGet(o.listens_,s)===l)&&n(c=e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},ReadonlyRestClient.prototype.unlisten=function(e,t){var r=ReadonlyRestClient.getListenId_(e,t);delete this.listens_[r]},ReadonlyRestClient.prototype.refreshAuthToken=function(e){},ReadonlyRestClient.prototype.restRequest_=function(e,t,r){var n=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var a=o&&o.accessToken;a&&(t.auth=a);var s=(n.repoInfo_.secure?"https://":"http://")+n.repoInfo_.host+e+"?ns="+n.repoInfo_.namespace+i.querystring(t);n.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){n.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=i.jsonEval(l.responseText)}catch(e){E("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&E("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})},ReadonlyRestClient}(Kr),an="repo_interrupt",sn=function(){function Repo(e,t,r){var n=this;this.repoInfo_=e,this.app=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new yt,this.persistentConnection_=null;var o=new Gt(r);if(this.stats_=Xt.getCollection(e),t||V())this.server_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=r.options.databaseAuthVariableOverride;if(void 0!==a&&null!==a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{i.stringify(a)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(e){n.server_.refreshAuthToken(e)}),this.statsReporter_=Xt.getOrCreateReporter(e,function(){return new tr(n.stats_,n.server_)}),this.transactions_init_(),this.infoData_=new $t,this.infoSyncTree_=new zt({startListening:function(e,t,r,i){var o=[],a=n.infoData_.getNode(e.path);return a.isEmpty()||(o=n.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new zt({startListening:function(e,t,r,i){return n.server_.listen(e,r,t,function(t,r){var o=i(t,r);n.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){n.server_.unlisten(e,t)}})}return Repo.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Repo.prototype.name=function(){return this.repoInfo_.namespace},Repo.prototype.serverTime=function(){var e,t=this.infoData_.getNode(new U(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},Repo.prototype.generateServerValues=function(){return vt({timestamp:this.serverTime()})},Repo.prototype.onDataUpdate_=function(e,t,r,n){this.dataUpdateCount++;var o=new U(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var a=[];if(n)if(r){var s=i.map(t,function(e){return nodeFromJSON$1(e)});a=this.serverSyncTree_.applyTaggedQueryMerge(o,s,n)}else{var l=nodeFromJSON$1(t);a=this.serverSyncTree_.applyTaggedQueryOverwrite(o,l,n)}else if(r){var u=i.map(t,function(e){return nodeFromJSON$1(e)});a=this.serverSyncTree_.applyServerMerge(o,u)}else{var c=nodeFromJSON$1(t);a=this.serverSyncTree_.applyServerOverwrite(o,c)}var h=o;a.length>0&&(h=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(h,a)},Repo.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},Repo.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},Repo.prototype.onServerInfoUpdate_=function(e){var t=this;each(e,function(e,r){t.updateInfo_(r,e)})},Repo.prototype.updateInfo_=function(e,t){var r=new U("/.info/"+e),n=nodeFromJSON$1(t);this.infoData_.updateSnapshot(r,n);var i=this.infoSyncTree_.applyServerOverwrite(r,n);this.eventQueue_.raiseEventsForChangedPath(r,i)},Repo.prototype.getNextWriteId_=function(){return this.nextWriteId_++},Repo.prototype.setWithPriority=function(e,t,r,n){var i=this;this.log_("set",{path:e.toString(),value:t,priority:r});var o=this.generateServerValues(),a=nodeFromJSON$1(t,r),s=_t(a,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(e,s,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(e.toString(),a.val(!0),function(t,r){var o="ok"===t;o||E("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(n,t,r)});var c=this.abortTransactions_(e);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},Repo.prototype.update=function(e,t,r){var n=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(each(t,function(e,t){i=!1;var r=nodeFromJSON$1(t);a[e]=_t(r,o)}),i)b("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var s=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,i){var o="ok"===t;o||E("update at "+e+" failed: "+t);var a=n.serverSyncTree_.ackUserWrite(s,!o),l=a.length>0?n.rerunTransactions_(e):e;n.eventQueue_.raiseEventsForChangedPath(l,a),n.callOnCompleteCallback(r,t,i)}),each(t,function(t){var r=n.abortTransactions_(e.child(t));n.rerunTransactions_(r)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},Repo.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),r,n=[];gt(this.onDisconnect_,t).forEachTree(U.Empty,function(t,r){n=n.concat(e.serverSyncTree_.applyServerOverwrite(t,r));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new yt,this.eventQueue_.raiseEventsForChangedPath(U.Empty,n)},Repo.prototype.onDisconnectCancel=function(e,t){var r=this;this.server_.onDisconnectCancel(e.toString(),function(n,i){"ok"===n&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(t,n,i)})},Repo.prototype.onDisconnectSet=function(e,t,r){var n=this,i=nodeFromJSON$1(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,o){"ok"===t&&n.onDisconnect_.remember(e,i),n.callOnCompleteCallback(r,t,o)})},Repo.prototype.onDisconnectSetWithPriority=function(e,t,r,n){var i=this,o=nodeFromJSON$1(t,r);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,r){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(n,t,r)})},Repo.prototype.onDisconnectUpdate=function(e,t,r){var n=this;if(i.isEmpty(t))return b("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(r,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(i,o){"ok"===i&&each(t,function(t,r){var i=nodeFromJSON$1(r);n.onDisconnect_.remember(e.child(t),i)}),n.callOnCompleteCallback(r,i,o)})},Repo.prototype.addEventCallbackForQuery=function(e,t){var r;r=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,r)},Repo.prototype.removeEventCallbackForQuery=function(e,t){var r;r=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,r)},Repo.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},Repo.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},Repo.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"==typeof console)return;var t;e?(this.statsListener_||(this.statsListener_=new Yt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var r=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);each(t,function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)})},Repo.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},Repo.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),b.apply(void 0,n.__spread([r],e))},Repo.prototype.callOnCompleteCallback=function(e,t,r){e&&H(function(){if("ok"==t)e(null);else{var n=(t||"error").toUpperCase(),i=n;r&&(i+=": "+r);var o=new Error(i);o.code=n,e(o)}})},Object.defineProperty(Repo.prototype,"database",{get:function(){return this.__database||(this.__database=new _n(this))},enumerable:!0,configurable:!0}),Repo}(),ln=function(){function RangedFilter(e){this.indexedFilter_=new It(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e)}return RangedFilter.prototype.getStartPost=function(){return this.startPost_},RangedFilter.prototype.getEndPost=function(){return this.endPost_},RangedFilter.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},RangedFilter.prototype.updateChild=function(e,t,r,n,i,o){return this.matches(new Ne(t,r))||(r=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,n,i,o)},RangedFilter.prototype.updateFullNode=function(e,t,r){t.isLeafNode()&&(t=tt.EMPTY_NODE);var n=t.withIndex(this.index_);n=n.updatePriority(tt.EMPTY_NODE);var i=this;return t.forEachChild(qe,function(e,t){i.matches(new Ne(e,t))||(n=n.updateImmediateChild(e,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,n,r)},RangedFilter.prototype.updatePriority=function(e,t){return e},RangedFilter.prototype.filtersNodes=function(){return!0},RangedFilter.prototype.getIndexedFilter=function(){return this.indexedFilter_},RangedFilter.prototype.getIndex=function(){return this.index_},RangedFilter.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},RangedFilter.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},RangedFilter}(),un=function(){function LimitedFilter(e){this.rangedFilter_=new ln(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return LimitedFilter.prototype.updateChild=function(e,t,r,n,i,o){return this.rangedFilter_.matches(new Ne(t,r))||(r=tt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,n,i,o):this.fullLimitUpdateChild_(e,t,r,i,o)},LimitedFilter.prototype.updateFullNode=function(e,t,r){var n;if(t.isLeafNode()||t.isEmpty())n=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){n=tt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;n=n.updateImmediateChild(a.name,a.node),o++}}else{n=(n=t.withIndex(this.index_)).updatePriority(tt.EMPTY_NODE);var l=void 0,u=void 0,c=void 0,i=void 0;if(this.reverse_){i=n.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else i=n.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var o=0,p=!1;i.hasNext();){var a=i.getNext(),s;!p&&c(l,a)<=0&&(p=!0),(s=p&&o<this.limit_&&c(a,u)<=0)?o++:n=n.updateImmediateChild(a.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,r)},LimitedFilter.prototype.updatePriority=function(e,t){return e},LimitedFilter.prototype.filtersNodes=function(){return!0},LimitedFilter.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},LimitedFilter.prototype.getIndex=function(){return this.index_},LimitedFilter.prototype.fullLimitUpdateChild_=function(e,t,r,n,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var l=e;i.assert(l.numChildren()==this.limit_,"");var u=new Ne(t,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(t)){for(var p=l.getImmediateChild(t),d=n.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name==t||l.hasChild(d.name));)d=n.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:a(d,u),y;if(h&&!r.isEmpty()&&f>=0)return null!=o&&o.trackChildChange(Rt.childChangedChange(t,r,p)),l.updateImmediateChild(t,r);null!=o&&o.trackChildChange(Rt.childRemovedChange(t,p));var v=l.updateImmediateChild(t,tt.EMPTY_NODE),m;return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(Rt.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return r.isEmpty()?e:h&&a(c,u)>=0?(null!=o&&(o.trackChildChange(Rt.childRemovedChange(c.name,c.node)),o.trackChildChange(Rt.childAddedChange(t,r))),l.updateImmediateChild(t,r).updateImmediateChild(c.name,tt.EMPTY_NODE)):e},LimitedFilter}(),cn=function(){function QueryParams(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}return QueryParams.prototype.hasStart=function(){return this.startSet_},QueryParams.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},QueryParams.prototype.getIndexStartValue=function(){return i.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},QueryParams.prototype.getIndexStartName=function(){return i.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},QueryParams.prototype.hasEnd=function(){return this.endSet_},QueryParams.prototype.getIndexEndValue=function(){return i.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},QueryParams.prototype.getIndexEndName=function(){return i.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},QueryParams.prototype.hasLimit=function(){return this.limitSet_},QueryParams.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},QueryParams.prototype.getLimit=function(){return i.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},QueryParams.prototype.getIndex=function(){return this.index_},QueryParams.prototype.copy_=function(){var e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},QueryParams.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},QueryParams.prototype.limitToFirst=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,t},QueryParams.prototype.limitToLast=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,t},QueryParams.prototype.startAt=function(e,t){var r=this.copy_();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r},QueryParams.prototype.endAt=function(e,t){var r=this.copy_();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r},QueryParams.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},QueryParams.prototype.getQueryObject=function(){var e=QueryParams.WIRE_PROTOCOL_CONSTANTS_,t={};if(this.startSet_&&(t[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(t[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(t[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(t[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){t[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),t[e.VIEW_FROM]=r}return this.index_!==qe&&(t[e.INDEX]=this.index_.toString()),t},QueryParams.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},QueryParams.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==qe},QueryParams.prototype.getNodeFilter=function(){return this.loadsAllData()?new It(this.getIndex()):this.hasLimit()?new un(this):new ln(this)},QueryParams.prototype.toRestQueryStringParameters=function(){var e=QueryParams.REST_QUERY_CONSTANTS_,t={},r;if(this.isDefault())return t;return this.index_===qe?r=e.PRIORITY_INDEX:this.index_===at?r=e.VALUE_INDEX:this.index_===De?r=e.KEY_INDEX:(i.assert(this.index_ instanceof st,"Unrecognized index type!"),r=this.index_.toString()),t[e.ORDER_BY]=i.stringify(r),this.startSet_&&(t[e.START_AT]=i.stringify(this.indexStartValue_),this.startNameSet_&&(t[e.START_AT]+=","+i.stringify(this.indexStartName_))),this.endSet_&&(t[e.END_AT]=i.stringify(this.indexEndValue_),this.endNameSet_&&(t[e.END_AT]+=","+i.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?t[e.LIMIT_TO_FIRST]=this.limit_:t[e.LIMIT_TO_LAST]=this.limit_),t},QueryParams.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},QueryParams.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},QueryParams.DEFAULT=new QueryParams,QueryParams}(),hn=function(e){function Reference(t,r){var n=this;if(!(t instanceof sn))throw new Error("new Reference() no longer supported - use app.database().");return n=e.call(this,t,r,cn.DEFAULT,!1)||this}return n.__extends(Reference,e),Reference.prototype.getKey=function(){return i.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Reference.prototype.child=function(e){return i.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof U||(null===this.path.getFront()?be("Reference.child",1,e,!1):_e("Reference.child",1,e,!1)),new Reference(this.repo,this.path.child(e))},Reference.prototype.getParent=function(){i.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new Reference(this.repo,e)},Reference.prototype.getRoot=function(){i.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},Reference.prototype.databaseProp=function(){return this.repo.database},Reference.prototype.set=function(e,t){i.validateArgCount("Reference.set",1,2,arguments.length),Ce("Reference.set",this.path),pe("Reference.set",1,e,this.path,!1),i.validateCallback("Reference.set",2,t,!0);var r=new i.Deferred;return this.repo.setWithPriority(this.path,e,null,r.wrapCallback(t)),r.promise},Reference.prototype.update=function(e,t){if(i.validateArgCount("Reference.update",1,2,arguments.length),Ce("Reference.update",this.path),Array.isArray(e)){for(var r={},n=0;n<e.length;++n)r[""+n]=e[n];e=r,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ye("Reference.update",1,e,this.path,!1),i.validateCallback("Reference.update",2,t,!0);var o=new i.Deferred;return this.repo.update(this.path,e,o.wrapCallback(t)),o.promise},Reference.prototype.setWithPriority=function(e,t,r){if(i.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ce("Reference.setWithPriority",this.path),pe("Reference.setWithPriority",1,e,this.path,!1),ve("Reference.setWithPriority",2,t,!1),i.validateCallback("Reference.setWithPriority",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var n=new i.Deferred;return this.repo.setWithPriority(this.path,e,t,n.wrapCallback(r)),n.promise},Reference.prototype.remove=function(e){return i.validateArgCount("Reference.remove",0,1,arguments.length),Ce("Reference.remove",this.path),i.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},Reference.prototype.transaction=function(e,t,r){if(i.validateArgCount("Reference.transaction",1,3,arguments.length),Ce("Reference.transaction",this.path),i.validateCallback("Reference.transaction",1,e,!1),i.validateCallback("Reference.transaction",2,t,!0),Se("Reference.transaction",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var n=new i.Deferred;"function"==typeof t&&n.promise.catch(function(){});var o=function(e,r,i){e?n.reject(e):n.resolve(new we(r,i)),"function"==typeof t&&t(e,r,i)};return this.repo.startTransaction(this.path,e,o,r),n.promise},Reference.prototype.setPriority=function(e,t){i.validateArgCount("Reference.setPriority",1,2,arguments.length),Ce("Reference.setPriority",this.path),ve("Reference.setPriority",1,e,!1),i.validateCallback("Reference.setPriority",2,t,!0);var r=new i.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,r.wrapCallback(t)),r.promise},Reference.prototype.push=function(e,t){i.validateArgCount("Reference.push",0,2,arguments.length),Ce("Reference.push",this.path),pe("Reference.push",1,e,this.path,!0),i.validateCallback("Reference.push",2,t,!0);var r=this.repo.serverTime(),n=ke(r),o=this.child(n),a=this.child(n),s;return s=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=s.then.bind(s),o.catch=s.then.bind(s,void 0),"function"==typeof t&&s.catch(function(){}),o},Reference.prototype.onDisconnect=function(){return Ce("Reference.onDisconnect",this.path),new Ee(this.repo,this.path)},Object.defineProperty(Reference.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),Reference}(ft);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ft.__referenceConstructor=hn,Vt.__referenceConstructor=hn;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pn=function(){function TreeNode(){this.children={},this.childCount=0,this.value=null}return TreeNode}(),dn=function(){function Tree(e,t,r){void 0===e&&(e=""),void 0===t&&(t=null),void 0===r&&(r=new pn),this.name_=e,this.parent_=t,this.node_=r}return Tree.prototype.subTree=function(e){for(var t=e instanceof U?e:new U(e),r=this,n;null!==(n=t.getFront());){var o;r=new Tree(n,r,i.safeGet(r.node_.children,n)||new pn),t=t.popFront()}return r},Tree.prototype.getValue=function(){return this.node_.value},Tree.prototype.setValue=function(e){i.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},Tree.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Tree.prototype.hasChildren=function(){return this.node_.childCount>0},Tree.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Tree.prototype.forEachChild=function(e){var t=this;each(this.node_.children,function(r,n){e(new Tree(r,t,n))})},Tree.prototype.forEachDescendant=function(e,t,r){t&&!r&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,r)}),t&&r&&e(this)},Tree.prototype.forEachAncestor=function(e,t){for(var r=t?this:this.parent();null!==r;){if(e(r))return!0;r=r.parent()}return!1},Tree.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},Tree.prototype.path=function(){return new U(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Tree.prototype.name=function(){return this.name_},Tree.prototype.parent=function(){return this.parent_},Tree.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Tree.prototype.updateChild_=function(e,t){var r=t.isEmpty(),n=i.contains(this.node_.children,e);r&&n?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):r||n||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},Tree}(),fn;!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(fn||(fn={})),sn.MAX_TRANSACTION_RETRIES_=25,sn.prototype.transactions_init_=function(){this.transactionQueueTree_=new dn},sn.prototype.startTransaction=function(e,t,r,n){this.log_("transaction on "+e);var o=function(){},a=new hn(this,e);a.on("value",o);var s=function(){a.off("value",o)},l={path:e,update:t,onComplete:r,status:null,order:p(),applyLocally:n,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);l.currentInputSnapshot=u;var c=l.update(u.val());if(void 0===c){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var h=new lt(l.currentInputSnapshot,new hn(this,l.path),qe);l.onComplete(null,!1,h)}}else{de("transaction failed: Data returned ",c,l.path),l.status=fn.RUN;var d=this.transactionQueueTree_.subTree(e),f=d.getValue()||[];f.push(l),d.setValue(f);var y=void 0,v;if("object"==typeof c&&null!==c&&i.contains(c,".priority"))y=i.safeGet(c,".priority"),i.assert(he(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else y=(this.serverSyncTree_.calcCompleteEventCache(e)||tt.EMPTY_NODE).getPriority().val();y=y;var m=this.generateServerValues(),g=nodeFromJSON$1(c,y),b=_t(g,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=this.getNextWriteId_();var C=this.serverSyncTree_.applyUserOverwrite(e,b,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,C),this.sendReadyTransactions_()}},sn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||tt.EMPTY_NODE},sn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var r=this.buildTransactionQueue_(e),n;i.assert(r.length>0,"Sending zero length transaction queue"),r.every(function(e){return e.status===fn.RUN})&&this.sendTransactionQueue_(e.path(),r)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},sn.prototype.sendTransactionQueue_=function(e,t){for(var r=this,n=t.map(function(e){return e.currentWriteId}),o=this.getLatestState_(e,n),a=o,s=o.hash(),l=0;l<t.length;l++){var u=t[l];i.assert(u.status===fn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=fn.SENT,u.retryCount++;var c=U.relativePath(e,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var h=a.val(!0),p=e;this.server_.put(p.toString(),h,function(n){r.log_("transaction put response",{path:p.toString(),status:n});var i=[];if("ok"===n){for(var o=[],a=0;a<t.length;a++){if(t[a].status=fn.COMPLETED,i=i.concat(r.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,l=new hn(r,t[a].path),u=new lt(s,l,qe);o.push(t[a].onComplete.bind(null,null,!0,u))}t[a].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(e)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(e,i);for(var a=0;a<o.length;a++)H(o[a])}else{if("datastale"===n)for(var a=0;a<t.length;a++)t[a].status===fn.SENT_NEEDS_ABORT?t[a].status=fn.NEEDS_ABORT:t[a].status=fn.RUN;else{E("transaction at "+p.toString()+" failed: "+n);for(var a=0;a<t.length;a++)t[a].status=fn.NEEDS_ABORT,t[a].abortReason=n}r.rerunTransactions_(e)}},s)},sn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),r=t.path(),n=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(n,r),r},sn.prototype.rerunTransactionQueue_=function(e,t){if(0===e.length)return;for(var r=[],n=[],o,a=e.filter(function(e){return e.status===fn.RUN}).map(function(e){return e.currentWriteId}),s=0,l;s<e.length;s++){var u=e[s],c=U.relativePath(t,u.path),h=!1,p=void 0;if(i.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===fn.NEEDS_ABORT)h=!0,p=u.abortReason,n=n.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===fn.RUN)if(u.retryCount>=sn.MAX_TRANSACTION_RETRIES_)h=!0,p="maxretry",n=n.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var d=this.getLatestState_(u.path,a);u.currentInputSnapshot=d;var f=e[s].update(d.val());if(void 0!==f){de("transaction failed: Data returned ",f,u.path);var y=nodeFromJSON$1(f),v;"object"==typeof f&&null!=f&&i.contains(f,".priority")||(y=y.updatePriority(d.getPriority()));var m=u.currentWriteId,g=this.generateServerValues(),b=_t(y,g);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=b,u.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(m),1),n=(n=n.concat(this.serverSyncTree_.applyUserOverwrite(u.path,b,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(m,!0))}else h=!0,p="nodata",n=n.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,n),n=[],h&&(e[s].status=fn.COMPLETED,l=e[s].unwatcher,setTimeout(l,Math.floor(0)),e[s].onComplete))if("nodata"===p){var C=new hn(this,e[s].path),T=e[s].currentInputSnapshot,S=new lt(T,C,qe);r.push(e[s].onComplete.bind(null,null,!1,S))}else r.push(e[s].onComplete.bind(null,new Error(p),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var s=0;s<r.length;s++)H(r[s]);this.sendReadyTransactions_()},sn.prototype.getAncestorTransactionNode_=function(e){for(var t,r=this.transactionQueueTree_;null!==(t=e.getFront())&&null===r.getValue();)r=r.subTree(t),e=e.popFront();return r},sn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},sn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var r=this,n=e.getValue();if(null!==n)for(var i=0;i<n.length;i++)t.push(n[i]);e.forEachChild(function(e){r.aggregateTransactionQueuesForNode_(e,t)})},sn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,r=e.getValue();if(r){for(var n=0,i=0;i<r.length;i++)r[i].status!==fn.COMPLETED&&(r[n]=r[i],n++);r.length=n,e.setValue(r.length>0?r:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},sn.prototype.abortTransactions_=function(e){var t=this,r=this.getAncestorTransactionNode_(e).path(),n=this.transactionQueueTree_.subTree(e);return n.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(n),n.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),r},sn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var r=[],n=[],o=-1,a=0;a<t.length;a++)if(t[a].status===fn.SENT_NEEDS_ABORT);else if(t[a].status===fn.SENT)i.assert(o===a-1,"All SENT items should be at beginning of queue."),o=a,t[a].status=fn.SENT_NEEDS_ABORT,t[a].abortReason="set";else if(i.assert(t[a].status===fn.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),n=n.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete){var s=null;r.push(t[a].onComplete.bind(null,new Error("set"),!1,null))}-1===o?e.setValue(null):t.length=o+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),n);for(var a=0;a<r.length;a++)H(r[a])}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yn="databaseURL",vn="FIREBASE_DATABASE_EMULATOR_HOST",mn,gn=function(){function RepoManager(){this.repos_={},this.useRestClient_=!1}return RepoManager.getInstance=function(){return mn||(mn=new RepoManager),mn},RepoManager.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},RepoManager.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},RepoManager.prototype.databaseFromApp=function(e,r){var n=r||e.options.databaseURL;void 0===n&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=ne(n),o=i.repoInfo,a=void 0,s;return void 0!==t&&(a=Object({NODE_ENV:"production"}).FIREBASE_DATABASE_EMULATOR_HOST),a&&(n="http://"+a+"?ns="+o.namespace),Te("Invalid Firebase Database URL",1,i),i.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,e).database},RepoManager.prototype.deleteRepo=function(e){var t=i.safeGet(this.repos_,e.app.name);t&&i.safeGet(t,e.repoInfo_.toURLString())===e||S("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},RepoManager.prototype.createRepo=function(e,t){var r=i.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var n=i.safeGet(r,e.toURLString());return n&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),n=new sn(e,this.useRestClient_,t),r[e.toURLString()]=n,n},RepoManager.prototype.forceRestClient=function(e){this.useRestClient_=e},RepoManager}(),_n=function(){function Database(e){this.repo_=e,e instanceof sn||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new hn(e,U.Empty),this.INTERNAL=new bn(this)}return Object.defineProperty(Database.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),Database.prototype.ref=function(e){if(this.checkDeleted_("ref"),i.validateArgCount("database.ref",0,1,arguments.length),e instanceof hn)return this.refFromURL(e.toString());return void 0!==e?this.root_.child(e):this.root_},Database.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),i.validateArgCount(t,1,1,arguments.length);var r=ne(e);Te(t,1,r);var n=r.repoInfo;return n.host!==this.repo_.repoInfo_.host&&S(t+": Host name does not match the current database: (found "+n.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},Database.prototype.checkDeleted_=function(e){null===this.repo_&&S("Cannot call "+e+" on a deleted database.")},Database.prototype.goOffline=function(){i.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Database.prototype.goOnline=function(){i.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Database.ServerValue={TIMESTAMP:{".sv":"timestamp"}},Database}(),bn=function(){function DatabaseInternals(e){this.database=e}return DatabaseInternals.prototype.delete=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return this.database.checkDeleted_("delete"),gn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},DatabaseInternals}(),Cn=function(){Ir.forceDisallow(),kr.forceAllow()},Tn=function(){kr.forceDisallow()},Sn=function(){return Ir.isAvailable()},En=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},wn=function(e,t){e.repo.stats(t)},kn=function(e,t){e.repo.statsIncrementCounter(t)},Pn=function(e){return e.repo.dataUpdateCount},xn=function(e,t){return e.repo.interceptServerData_(t)},On=Object.freeze({forceLongPolling:Cn,forceWebSockets:Tn,isWebSocketsAvailable:Sn,setSecurityDebugCallback:En,stats:wn,statsIncrementCounter:kn,dataUpdateCount:Pn,interceptServerData:xn}),Nn=nn;nn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},nn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Rn=Gr,In=function(e){var t=nn.prototype.put;return nn.prototype.put=function(r,n,i,o){void 0!==o&&(o=e()),t.call(this,r,n,i,o)},function(){nn.prototype.put=t}},An=re,Dn=function(e){return e.queryIdentifier()},Mn=function(e){gn.getInstance().forceRestClient(e)},jn=Object.freeze({DataConnection:Nn,RealTimeConnection:Rn,hijackHash:In,ConnectionTarget:An,queryIdentifier:Dn,forceRestClient:Mn}),Ln=_n.ServerValue;function registerDatabase(e){setSDKVersion(e.SDK_VERSION);var t=e.INTERNAL.registerService("database",function(e,t,r){return gn.getInstance().databaseFromApp(e,r)},{Reference:hn,Query:ft,Database:_n,DataSnapshot:lt,enableLogging:g,INTERNAL:On,ServerValue:Ln,TEST_ACCESS:jn},null,!0);i.isNodeSdk()&&(module.exports=t)}registerDatabase(r),exports.DataSnapshot=lt,exports.Database=_n,exports.OnDisconnect=Ee,exports.Query=ft,exports.Reference=hn,exports.ServerValue=Ln,exports.enableLogging=g,exports.registerDatabase=registerDatabase}).call(this,e("8oxB"))},OxBf:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("17x9"),o=t.n(i),a=t("MnCE"),s=t("CsdX"),l=t("cwau");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var u=["xs","sm","md","lg","xl","xxl"],c={sm:["xs"],md:["sm","xs"],lg:["md","sm","xs"],xl:["lg","md","sm","xs"],xxl:["xl","lg","md","sm","xs"]};function getClosestAttributesByBreakPoint(e){var t=e.breakPoint,r=e.responsiveConfig;if("xs"===t||-1===u.indexOf(t))return{};for(var n=c[t],i=0;i<n.length;i+=1){var o=r[n[i]];if(o)return o}return{}}var h=function withResponsiveConfig(e){var t=function HOC(t){var n=t.breakPoint,i=t.responsiveConfig,o=void 0===i?{}:i,a=_objectWithoutProperties(t,["breakPoint","responsiveConfig"]),s=o[n];return s||(s=getClosestAttributesByBreakPoint({breakPoint:n,responsiveConfig:o})),r.createElement(e,_extends({},s,a))};t.propTypes={breakPoint:o.a.oneOf(Object.keys(s.a)),responsiveConfig:o.a.object};var n=e.displayName||e.name;return t.displayName="HOC(".concat(n,")"),Object(a.hoistStatics)(e,t),Object(l.a)(t)};e.a=h},PTN7:function(module,exports,e){
/**
 * @license
 * Video.js 6.12.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=_interopDefault(e("vgmO")),r=_interopDefault(e("7zRj")),n=_interopDefault(e("G43f")),i=_interopDefault(e("jBAH")),o=_interopDefault(e("7sdD")),a=_interopDefault(e("K4wu")),s="6.12.1",l=t.navigator&&t.navigator.userAgent||"",u=/AppleWebKit\/([\d.]+)/i.exec(l),c=u?parseFloat(u.pop()):null,h=/iPad/i.test(l),p=/iPhone/i.test(l)&&!h,d=/iPod/i.test(l),f=p||h||d,y=function(){var e=l.match(/OS (\d+)_/i);if(e&&e[1])return e[1];return null}(),v=/Android/i.test(l),m=function(){var e=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);if(t&&r)return parseFloat(e[1]+"."+e[2]);if(t)return t;return null}(),g=v&&/webkit/i.test(l)&&m<2.3,b=v&&m<5&&c<537,C=/Firefox/i.test(l),T=/Edge/i.test(l),S=!T&&(/Chrome/i.test(l)||/CriOS/i.test(l)),E=function(){var e=l.match(/(Chrome|CriOS)\/(\d+)/);if(e&&e[2])return parseFloat(e[2]);return null}(),w=/MSIE\s8\.0/.test(l),k=function(){var e=/MSIE\s(\d+)\.\d/.exec(l),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(l)&&/rv:11.0/.test(l)&&(t=11),t}(),P=/Safari/i.test(l)&&!S&&!v&&!T,x=(P||f)&&!S,O=isReal()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),N=isReal()&&"backgroundSize"in t.document.createElement("video").style,R=(Object.freeze||Object)({IS_IPAD:h,IS_IPHONE:p,IS_IPOD:d,IS_IOS:f,IOS_VERSION:y,IS_ANDROID:v,ANDROID_VERSION:m,IS_OLD_ANDROID:g,IS_NATIVE_ANDROID:b,IS_FIREFOX:C,IS_EDGE:T,IS_CHROME:S,CHROME_VERSION:E,IS_IE8:w,IE_VERSION:k,IS_SAFARI:P,IS_ANY_SAFARI:x,TOUCH_ENABLED:O,BACKGROUND_SIZE_SUPPORTED:N}),I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},D=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},M=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},j=function(e,t){return e.raw=t,e},L=Object.prototype.toString,F=function keys(e){return isObject(e)?Object.keys(e):[]};function each(e,t){F(e).forEach(function(r){return t(e[r],r)})}function reduce(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return F(e).reduce(function(r,n){return t(r,e[n],n)},r)}function assign(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Object.assign)return Object.assign.apply(Object,[e].concat(r));return r.forEach(function(t){if(!t)return;each(t,function(t,r){e[r]=t})}),e}function isObject(e){return!!e&&"object"===(void 0===e?"undefined":I(e))}function isPlain(e){return isObject(e)&&"[object Object]"===L.call(e)&&e.constructor===Object}var B=void 0,W="info",H=[],V=function logByType(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!k&&k<11,i=B.levels[W],o=new RegExp("^("+i+")$");if("log"!==e&&r.unshift(e.toUpperCase()+":"),H&&H.push([].concat(r)),r.unshift("VIDEOJS:"),!t.console)return;var a=t.console[e];if(a||"debug"!==e||(a=t.console.info||t.console.log),!a||!i||!o.test(e))return;n&&(r=r.map(function(e){if(isObject(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),a.apply?a[Array.isArray(r)?"apply":"call"](t.console,r):a(r)};(B=function log(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];V("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:W},B.level=function(e){if("string"==typeof e){if(!B.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');W=e}return W},B.history=function(){return H?[].concat(H):[]},B.history.clear=function(){H&&(H.length=0)},B.history.disable=function(){null!==H&&(H.length=0,H=null)},B.history.enable=function(){null===H&&(H=[])},B.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return V("error",t)},B.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return V("warn",t)},B.debug=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return V("debug",t)};var q=B;function computedStyle(e,r){if(!e||!r)return"";if("function"==typeof t.getComputedStyle){var n=t.getComputedStyle(e);return n?n[r]:""}return e.currentStyle[r]||""}var U=j(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function isNonBlankString(e){return"string"==typeof e&&/\S/.test(e)}function throwIfWhitespace(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function classRegExp(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function isReal(){return r===t.document&&void 0!==r.createElement}function isEl(e){return isObject(e)&&1===e.nodeType}function isInFrame(){try{return t.parent!==t.self}catch(e){return!0}}function createQuerier(e){return function(t,n){if(!isNonBlankString(t))return r[e](null);isNonBlankString(n)&&(n=r.querySelector(n));var i=isEl(n)?n:r;return i[e]&&i[e](t)}}function createEl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],a=r.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(q.warn(n(U,e,r)),a.setAttribute(e,r)):"textContent"===e?textContent(a,r):a[e]=r}),Object.getOwnPropertyNames(i).forEach(function(e){a.setAttribute(e,i[e])}),o&&appendContent(a,o),a}function textContent(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function prependTo(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function hasClass(e,t){if(throwIfWhitespace(t),e.classList)return e.classList.contains(t);return classRegExp(t).test(e.className)}function addClass(e,t){return e.classList?e.classList.add(t):hasClass(e,t)||(e.className=(e.className+" "+t).trim()),e}function removeClass(e,t){return e.classList?e.classList.remove(t):(throwIfWhitespace(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function toggleClass(e,t,r){var n=hasClass(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r===n)return;return r?addClass(e,t):removeClass(e,t),e}function setAttributes(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];null===n||void 0===n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)})}function getAttributes(e){var t={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,a=n[i].value;"boolean"!=typeof e[o]&&-1===r.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function getAttribute(e,t){return e.getAttribute(t)}function setAttribute(e,t,r){e.setAttribute(t,r)}function removeAttribute(e,t){e.removeAttribute(t)}function blockTextSelection(){r.body.focus(),r.onselectstart=function(){return!1}}function unblockTextSelection(){r.onselectstart=function(){return!0}}function getBoundingClientRect(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),r.height||(r.height=parseFloat(computedStyle(e,"height"))),r.width||(r.width=parseFloat(computedStyle(e,"width"))),r}}function findPosition(e){var n=void 0;if(e.getBoundingClientRect&&e.parentNode&&(n=e.getBoundingClientRect()),!n)return{left:0,top:0};var i=r.documentElement,o=r.body,a=i.clientLeft||o.clientLeft||0,s=t.pageXOffset||o.scrollLeft,l=n.left+s-a,u=i.clientTop||o.clientTop||0,c=t.pageYOffset||o.scrollTop,h=n.top+c-u;return{left:Math.round(l),top:Math.round(h)}}function getPointerPosition(e,t){var r={},n=findPosition(e),i=e.offsetWidth,o=e.offsetHeight,a=n.top,s=n.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-l+o)/o)),r.x=Math.max(0,Math.min(1,(u-s)/i)),r}function isTextNode(e){return isObject(e)&&3===e.nodeType}function emptyEl(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function normalizeContent(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){if("function"==typeof e&&(e=e()),isEl(e)||isTextNode(e))return e;if("string"==typeof e&&/\S/.test(e))return r.createTextNode(e)}).filter(function(e){return e})}function appendContent(e,t){return normalizeContent(t).forEach(function(t){return e.appendChild(t)}),e}function insertContent(e,t){return appendContent(emptyEl(e),t)}function isSingleLeftClick(e){if(void 0===e.button&&void 0===e.buttons)return!0;if(0===e.button&&void 0===e.buttons)return!0;if(9===k)return!0;if(0!==e.button||1!==e.buttons)return!1;return!0}var $=createQuerier("querySelector"),Q=createQuerier("querySelectorAll"),z=(Object.freeze||Object)({isReal:isReal,isEl:isEl,isInFrame:isInFrame,createEl:createEl,textContent:textContent,prependTo:prependTo,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,isSingleLeftClick:isSingleLeftClick,$:$,$$:Q}),G=1;function newGUID(){return G++}var K={},X="vdata"+(new Date).getTime();function getData(e){var t=e[X];return t||(t=e[X]=newGUID()),K[t]||(K[t]={}),K[t]}function hasData(e){var t=e[X];if(!t)return!1;return!!Object.getOwnPropertyNames(K[t]).length}function removeData(e){var t=e[X];if(!t)return;delete K[t];try{delete e[X]}catch(t){e.removeAttribute?e.removeAttribute(X):e[X]=null}}function _cleanUpEvents(e,t){var r=getData(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&removeData(e)}function _handleMultipleEvents(e,t,r,n){r.forEach(function(r){e(t,r,n)})}function fixEvent(e){function returnTrue(){return!0}function returnFalse(){return!1}if(!e||!e.isPropagationStopped){var n=e||t.event;for(var i in e={},n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||r),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=returnTrue},e.isPropagationStopped=returnFalse,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=returnTrue,e.stopPropagation()},e.isImmediatePropagationStopped=returnFalse,null!==e.clientX&&void 0!==e.clientX){var o=r.documentElement,a=r.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var Y=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function get(){Y=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(e){}}();var J=["touchstart","touchmove"];function on(e,t,r){if(Array.isArray(t))return _handleMultipleEvents(on,e,t,r);var n=getData(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=newGUID()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(n.disabled)return;t=fixEvent(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,r)}catch(e){q.error(e)}}),1===n.handlers[t].length)if(e.addEventListener){var i=!1;Y&&J.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function off(e,t,r){if(!hasData(e))return;var n=getData(e);if(!n.handlers)return;if(Array.isArray(t))return _handleMultipleEvents(off,e,t,r);var i=function removeType(e,t){n.handlers[t]=[],_cleanUpEvents(e,t)};if(void 0===t){for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&i(e,o);return}var a=n.handlers[t];if(!a)return;if(!r)return void i(e,t);if(r.guid)for(var s=0;s<a.length;s++)a[s].guid===r.guid&&a.splice(s--,1);_cleanUpEvents(e,t)}function trigger(e,t,r){var n=hasData(e)?getData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=fixEvent(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)trigger.call(null,i,t,r);else if(!i&&!t.defaultPrevented){var o=getData(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function one(e,t,r){if(Array.isArray(t))return _handleMultipleEvents(one,e,t,r);var n=function func(){off(e,t,func),r.apply(this,arguments)};n.guid=r.guid=r.guid||newGUID(),on(e,t,n)}var Z=(Object.freeze||Object)({fixEvent:fixEvent,on:on,off:off,trigger:trigger,one:one}),ee=!1,te=void 0,re=function autoSetup(){if(!isReal()||!1===te.options.autoSetup)return;var e=r.getElementsByTagName("video"),t=r.getElementsByTagName("audio"),n=r.getElementsByTagName("video-js"),i=[];if(e&&e.length>0)for(var o=0,a=e.length;o<a;o++)i.push(e[o]);if(t&&t.length>0)for(var s=0,l=t.length;s<l;s++)i.push(t[s]);if(n&&n.length>0)for(var u=0,c=n.length;u<c;u++)i.push(n[u]);if(i&&i.length>0)for(var h=0,p=i.length;h<p;h++){var d=i[h],f;if(!d||!d.getAttribute){autoSetupTimeout(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&te(d)}else ee||autoSetupTimeout(1)};function autoSetupTimeout(e,r){r&&(te=r),t.setTimeout(re,e)}isReal()&&"complete"===r.readyState?ee=!0:one(t,"load",function(){ee=!0});var ne=function createStyleElement(e){var t=r.createElement("style");return t.className=e,t},ie=function setTextContent(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},oe=function bind(e,t,r){t.guid||(t.guid=newGUID());var n=function bound(){return t.apply(e,arguments)};return n.guid=r?r+"_"+t.guid:t.guid,n},ae=function throttle(e,t){var r=Date.now(),n;return function throttled(){var n=Date.now();n-r>=t&&(e.apply(void 0,arguments),r=n)}},se=function debounce(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=void 0;return function(){var t=this,a=arguments,s=function later(){o=null,s=null,n||e.apply(t,a)};!o&&n&&e.apply(t,a),i.clearTimeout(o),o=i.setTimeout(s,r)}},le=function EventTarget(){};le.prototype.allowedEvents_={},le.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},on(this,e,t),this.addEventListener=r},le.prototype.addEventListener=le.prototype.on,le.prototype.off=function(e,t){off(this,e,t)},le.prototype.removeEventListener=le.prototype.off,le.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},one(this,e,t),this.addEventListener=r},le.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),trigger(this,e)},le.prototype.dispatchEvent=le.prototype.trigger;var ue=function isEvented(e){return e instanceof le||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},ce=function isValidEventType(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},he=function validateTarget(e){if(!e.nodeName&&!ue(e))throw new Error("Invalid target; must be a DOM node or evented object.")},pe=function validateEventType(e){if(!ce(e))throw new Error("Invalid event type; must be a non-empty string or array.")},de=function validateListener(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},fe=function normalizeListenArgs(e,t){var r=t.length<3||t[0]===e||t[0]===e.eventBusEl_,n=void 0,i=void 0,o=void 0;return r?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(n=t[0],i=t[1],o=t[2]),he(n),pe(i),de(o),{isTargetingSelf:r,target:n,type:i,listener:o=oe(e,o)}},ye=function listen(e,t,r,n){he(e),e.nodeName?Z[t](e,r,n):e[t](r,n)},ve={on:function on$$1(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=fe(this,r),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(ye(a,"on",s,l),!o){var u=function removeListenerOnDispose(){return e.off(a,s,l)};u.guid=l.guid;var c=function removeRemoverOnTargetDispose(){return e.off("dispose",u)};c.guid=l.guid,ye(this,"on","dispose",u),ye(a,"on","dispose",c)}},one:function one$$1(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=fe(this,r),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(o)ye(a,"one",s,l);else{var u=function wrapper(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.off(a,s,wrapper),l.apply(null,r)};u.guid=l.guid,ye(a,"one",s,u)}},off:function off$$1(e,t,r){if(!e||ce(e))off(this.eventBusEl_,e,t);else{var n=e,i=t;he(n),pe(i),de(r),r=oe(this,r),this.off("dispose",r),n.nodeName?(off(n,i,r),off(n,"dispose",r)):ue(n)&&(n.off(i,r),n.off("dispose",r))}},trigger:function trigger$$1(e,t){return trigger(this.eventBusEl_,e,t)}};function evented(e){var r,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=createEl("span",{className:"vjs-event-bus"});return assign(e,ve),e.on("dispose",function(){e.off(),t.setTimeout(function(){e.eventBusEl_=null},0)}),e}var me={state:{},setState:function setState(e){var t=this;"function"==typeof e&&(e=e());var r=void 0;return each(e,function(e,n){t.state[n]!==e&&((r=r||{})[n]={from:t.state[n],to:e}),t.state[n]=e}),r&&ue(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function stateful(e,t){return assign(e,me),e.state=assign({},e.state,t),"function"==typeof e.handleStateChanged&&ue(e)&&e.on("statechanged",e.handleStateChanged),e}function toTitleCase(e){if("string"!=typeof e)return e;return e.charAt(0).toUpperCase()+e.slice(1)}function titleCaseEquals(e,t){return toTitleCase(e)===toTitleCase(t)}function mergeOptions(){for(var e={},t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){if(!t)return;each(t,function(t,r){if(!isPlain(t))return void(e[r]=t);isPlain(e[r])||(e[r]={}),e[r]=mergeOptions(e[r],t)})}),e}var ge=function(){function Component(e,t,r){if(A(this,Component),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=mergeOptions({},this.options_),t=this.options_=mergeOptions(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+newGUID()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&evented(this,{eventBusKey:this.el_?"el_":null}),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==t.initChildren&&this.initChildren(),this.ready(r),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return Component.prototype.dispose=function dispose(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),removeData(this.el_),this.el_=null),this.player_=null},Component.prototype.player=function player(){return this.player_},Component.prototype.options=function options(e){if(q.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),!e)return this.options_;return this.options_=mergeOptions(this.options_,e),this.options_},Component.prototype.el=function el(){return this.el_},Component.prototype.createEl=function createEl$$1(e,t,r){return createEl(e,t,r)},Component.prototype.localize=function localize(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],l=r;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,r){var n=t[r-1],i=n;return void 0===n&&(i=e),i})),l},Component.prototype.contentEl=function contentEl(){return this.contentEl_||this.el_},Component.prototype.id=function id(){return this.id_},Component.prototype.name=function name(){return this.name_},Component.prototype.children=function children(){return this.children_},Component.prototype.getChildById=function getChildById(e){return this.childIndex_[e]},Component.prototype.getChild=function getChild(e){if(!e)return;return e=toTitleCase(e),this.childNameIndex_[e]},Component.prototype.addChild=function addChild(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,n=void 0,i=void 0;if("string"==typeof e){i=toTitleCase(e);var o=t.componentClass||i;t.name=i;var a=Component.getComponent(o);if(!a)throw new Error("Component "+o+" does not exist");if("function"!=typeof a)return null;n=new a(this.player_||this,t)}else n=e;if(this.children_.splice(r,0,n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(i=i||n.name&&toTitleCase(n.name()))&&(this.childNameIndex_[i]=n),"function"==typeof n.el&&n.el()){var s,l=this.contentEl().children[r]||null;this.contentEl().insertBefore(n.el(),l)}return n},Component.prototype.removeChild=function removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(!t)return;this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())},Component.prototype.initChildren=function initChildren(){var e=this,t=this.options_.children;if(t){var r=this.options_,n=function handleAdd(t){var n=t.name,i=t.opts;if(void 0!==r[n]&&(i=r[n]),!1===i)return;!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var o=e.addChild(n,i);o&&(e[n]=o)},i=void 0,o=Component.getComponent("Tech");(i=Array.isArray(t)?t:Object.keys(t)).concat(Object.keys(this.options_).filter(function(e){return!i.some(function(t){if("string"==typeof t)return e===t;return e===t.name})})).map(function(r){var n=void 0,i=void 0;return"string"==typeof r?i=t[n=r]||e.options_[n]||{}:(n=r.name,i=r),{name:n,opts:i}}).filter(function(e){var t=Component.getComponent(e.opts.componentClass||toTitleCase(e.name));return t&&!o.isTech(t)}).forEach(n)}},Component.prototype.buildCSSClass=function buildCSSClass(){return""},Component.prototype.ready=function ready(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return;if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e);t?e.call(this):this.setTimeout(e,1)},Component.prototype.triggerReady=function triggerReady(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},Component.prototype.$=function $$$1(e,t){return $(e,t||this.contentEl())},Component.prototype.$$=function $$$$1(e,t){return Q(e,t||this.contentEl())},Component.prototype.hasClass=function hasClass$$1(e){return hasClass(this.el_,e)},Component.prototype.addClass=function addClass$$1(e){addClass(this.el_,e)},Component.prototype.removeClass=function removeClass$$1(e){removeClass(this.el_,e)},Component.prototype.toggleClass=function toggleClass$$1(e,t){toggleClass(this.el_,e,t)},Component.prototype.show=function show(){this.removeClass("vjs-hidden")},Component.prototype.hide=function hide(){this.addClass("vjs-hidden")},Component.prototype.lockShowing=function lockShowing(){this.addClass("vjs-lock-showing")},Component.prototype.unlockShowing=function unlockShowing(){this.removeClass("vjs-lock-showing")},Component.prototype.getAttribute=function getAttribute$$1(e){return getAttribute(this.el_,e)},Component.prototype.setAttribute=function setAttribute$$1(e,t){setAttribute(this.el_,e,t)},Component.prototype.removeAttribute=function removeAttribute$$1(e){removeAttribute(this.el_,e)},Component.prototype.width=function width(e,t){return this.dimension("width",e,t)},Component.prototype.height=function height(e,t){return this.dimension("height",e,t)},Component.prototype.dimensions=function dimensions(e,t){this.width(e,!0),this.height(t)},Component.prototype.dimension=function dimension(e,t,r){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");if(-1!==i)return parseInt(n.slice(0,i),10);return parseInt(this.el_["offset"+toTitleCase(e)],10)},Component.prototype.currentDimension=function currentDimension(e){var r=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof t.getComputedStyle){var n=t.getComputedStyle(this.el_);r=n.getPropertyValue(e)||n[e]}if(0===(r=parseFloat(r))){var i="offset"+toTitleCase(e);r=this.el_[i]}return r},Component.prototype.currentDimensions=function currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},Component.prototype.currentWidth=function currentWidth(){return this.currentDimension("width")},Component.prototype.currentHeight=function currentHeight(){return this.currentDimension("height")},Component.prototype.focus=function focus(){this.el_.focus()},Component.prototype.blur=function blur(){this.el_.blur()},Component.prototype.emitTapEvents=function emitTapEvents(){var e=0,t=null,r=10,n=200,i=void 0;this.on("touchstart",function(r){1===r.touches.length&&(t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,n=e.touches[0].pageY-t.pageY,o;Math.sqrt(r*r+n*n)>10&&(i=!1)}});var o=function noTap(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(r){var n;(t=null,!0===i)&&((new Date).getTime()-e<200&&(r.preventDefault(),this.trigger("tap")))})},Component.prototype.enableTouchActivity=function enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;var e=oe(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var r=function touchEnd(r){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)},Component.prototype.setTimeout=function setTimeout(e,r){var n=this,i,o;return e=oe(this,e),i=t.setTimeout(function(){n.off("dispose",o),e()},r),(o=function disposeFn(){return n.clearTimeout(i)}).guid="vjs-timeout-"+i,this.on("dispose",o),i},Component.prototype.clearTimeout=function clearTimeout(e){t.clearTimeout(e);var r=function disposeFn(){};return r.guid="vjs-timeout-"+e,this.off("dispose",r),e},Component.prototype.setInterval=function setInterval(e,r){var n=this;e=oe(this,e);var i=t.setInterval(e,r),o=function disposeFn(){return n.clearInterval(i)};return o.guid="vjs-interval-"+i,this.on("dispose",o),i},Component.prototype.clearInterval=function clearInterval(e){t.clearInterval(e);var r=function disposeFn(){};return r.guid="vjs-interval-"+e,this.off("dispose",r),e},Component.prototype.requestAnimationFrame=function requestAnimationFrame(e){var r=this,n,i;if(this.supportsRaf_)return e=oe(this,e),n=t.requestAnimationFrame(function(){r.off("dispose",i),e()}),(i=function disposeFn(){return r.cancelAnimationFrame(n)}).guid="vjs-raf-"+n,this.on("dispose",i),n;return this.setTimeout(e,1e3/60)},Component.prototype.cancelAnimationFrame=function cancelAnimationFrame(e){if(this.supportsRaf_){t.cancelAnimationFrame(e);var r=function disposeFn(){};return r.guid="vjs-raf-"+e,this.off("dispose",r),e}return this.clearTimeout(e)},Component.registerComponent=function registerComponent(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var r=Component.getComponent("Tech"),n=r&&r.isTech(t),i=Component===t||Component.prototype.isPrototypeOf(t.prototype);if(n||!i){var o=void 0;throw o=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+o+".")}e=toTitleCase(e),Component.components_||(Component.components_={});var a=Component.getComponent("Player");if("Player"===e&&a&&a.players){var s=a.players,l=Object.keys(s);if(s&&l.length>0&&l.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Component.components_[e]=t,t},Component.getComponent=function getComponent(e){if(!e)return;if(e=toTitleCase(e),Component.components_&&Component.components_[e])return Component.components_[e]},Component}();function rangeCheck(e,t,r){if("number"!=typeof t||t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}function getRange(e,t,r,n){return rangeCheck(e,n,r.length-1),r[n][t]}function createTimeRangesObj(e){if(void 0===e||0===e.length)return{length:0,start:function start(){throw new Error("This TimeRanges object is empty")},end:function end(){throw new Error("This TimeRanges object is empty")}};return{length:e.length,start:getRange.bind(null,"start",0,e),end:getRange.bind(null,"end",1,e)}}function createTimeRanges(e,t){if(Array.isArray(e))return createTimeRangesObj(e);if(void 0===e||void 0===t)return createTimeRangesObj();return createTimeRangesObj([[e,t]])}function bufferedPercent(e,t){var r=0,n=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=createTimeRanges(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(i=e.end(o))>t&&(i=t),r+=i-n;return r/t}ge.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,ge.registerComponent("Component",ge);for(var _e={},be=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ce=be[0],Te=void 0,Se=0;Se<be.length;Se++)if(be[Se][1]in r){Te=be[Se];break}if(Te)for(var Ee=0;Ee<Te.length;Ee++)_e[Ce[Ee]]=Te[Ee];function MediaError(e){if(e instanceof MediaError)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:isObject(e)&&("number"==typeof e.code&&(this.code=e.code),assign(this,e)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var we=0;we<MediaError.errorTypes.length;we++)MediaError[MediaError.errorTypes[we]]=we,MediaError.prototype[MediaError.errorTypes[we]]=we;function isPromise(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function silencePromise(e){isPromise(e)&&e.then(null,function(e){})}var ke=function trackToJson_(e){var t;return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,r,n){return e[r]&&(t[r]=e[r]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},Pe,xe,Oe=function textTracksToJson(e){var t=e.$$("track"),r=Array.prototype.map.call(t,function(e){return e.track}),n;return Array.prototype.map.call(t,function(e){var t=ke(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===r.indexOf(e)}).map(ke))},Ne=function jsonToTextTracks(e,t){return e.forEach(function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return r.addCue(e)})}),t.textTracks()},Re=ke,Ie="vjs-modal-dialog",Ae=27,De=function(e){function ModalDialog(t,r){A(this,ModalDialog);var n=M(this,e.call(this,t,r));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=createEl("div",{className:Ie+"-content"},{role:"document"}),n.descEl_=createEl("p",{className:Ie+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),textContent(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return D(ModalDialog,e),ModalDialog.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},ModalDialog.prototype.dispose=function dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},ModalDialog.prototype.buildCSSClass=function buildCSSClass(){return Ie+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},ModalDialog.prototype.handleKeyPress=function handleKeyPress(e){27===e.which&&this.closeable()&&this.close()},ModalDialog.prototype.label=function label(){return this.localize(this.options_.label||"Modal Window")},ModalDialog.prototype.description=function description(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},ModalDialog.prototype.open=function open(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",oe(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},ModalDialog.prototype.opened=function opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},ModalDialog.prototype.close=function close(){if(!this.opened_)return;var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",oe(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()},ModalDialog.prototype.closeable=function closeable(e){if("boolean"==typeof e){var closeable=this.closeable_=!!e,t=this.getChild("closeButton");if(closeable&&!t){var r=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)}!closeable&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},ModalDialog.prototype.fill=function fill(){this.fillWith(this.content())},ModalDialog.prototype.fillWith=function fillWith(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),insertContent(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);var i=this.getChild("closeButton");i&&r.appendChild(i.el_)},ModalDialog.prototype.empty=function empty(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},ModalDialog.prototype.content=function content(e){return void 0!==e&&(this.content_=e),this.content_},ModalDialog.prototype.conditionalFocus_=function conditionalFocus_(){var e=r.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(r,"keydown",this.handleKeyDown))},ModalDialog.prototype.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(r,"keydown",this.handleKeyDown)},ModalDialog.prototype.handleKeyDown=function handleKeyDown(e){if(9!==e.which)return;for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,o=0;o<t.length;o++)if(n===t[o]){i=o;break}r.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())},ModalDialog.prototype.focusableEls_=function focusableEls_(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},ModalDialog}(ge);De.prototype.options_={pauseOnOpen:!0,temporary:!0},ge.registerComponent("ModalDialog",De);var Me=function(e){function TrackList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;A(this,TrackList);var o=M(this,e.call(this));if(!i&&(i=o,w))for(var a in i=r.createElement("custom"),TrackList.prototype)"constructor"!==a&&(i[a]=TrackList.prototype[a]);i.tracks_=[],Object.defineProperty(i,"length",{get:function get$$1(){return this.tracks_.length}});for(var s=0;s<t.length;s++)i.addTrack(t[s]);return M(o,n=i)}return D(TrackList,e),TrackList.prototype.addTrack=function addTrack(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function get$$1(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},TrackList.prototype.removeTrack=function removeTrack(e){for(var t=void 0,r=0,n=this.length;r<n;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}if(!t)return;this.trigger({track:t,type:"removetrack"})},TrackList.prototype.getTrackById=function getTrackById(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},TrackList}(le);for(var je in Me.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Me.prototype.allowedEvents_)Me.prototype["on"+je]=null;var Le=function disableOthers(e,t){for(var r=0;r<e.length;r++){if(!Object.keys(e[r]).length||t.id===e[r].id)continue;e[r].enabled=!1}},Fe=function(e){function AudioTrackList(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A(this,AudioTrackList);for(var o=void 0,a=i.length-1;a>=0;a--)if(i[a].enabled){Le(i,i[a]);break}if(w){for(var s in o=r.createElement("custom"),Me.prototype)"constructor"!==s&&(o[s]=Me.prototype[s]);for(var l in AudioTrackList.prototype)"constructor"!==l&&(o[l]=AudioTrackList.prototype[l])}return(o=t=M(this,e.call(this,i,o))).changing_=!1,M(t,n=o)}return D(AudioTrackList,e),AudioTrackList.prototype.addTrack=function addTrack(t){var r=this;if(t.enabled&&Le(this,t),e.prototype.addTrack.call(this,t),!t.addEventListener)return;t.addEventListener("enabledchange",function(){if(r.changing_)return;r.changing_=!0,Le(r,t),r.changing_=!1,r.trigger("change")})},AudioTrackList}(Me),Be=function disableOthers(e,t){for(var r=0;r<e.length;r++){if(!Object.keys(e[r]).length||t.id===e[r].id)continue;e[r].selected=!1}},We=function(e){function VideoTrackList(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A(this,VideoTrackList);for(var o=void 0,a=i.length-1;a>=0;a--)if(i[a].selected){Be(i,i[a]);break}if(w){for(var s in o=r.createElement("custom"),Me.prototype)"constructor"!==s&&(o[s]=Me.prototype[s]);for(var l in VideoTrackList.prototype)"constructor"!==l&&(o[l]=VideoTrackList.prototype[l])}return(o=t=M(this,e.call(this,i,o))).changing_=!1,Object.defineProperty(o,"selectedIndex",{get:function get$$1(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function set$$1(){}}),M(t,n=o)}return D(VideoTrackList,e),VideoTrackList.prototype.addTrack=function addTrack(t){var r=this;if(t.selected&&Be(this,t),e.prototype.addTrack.call(this,t),!t.addEventListener)return;t.addEventListener("selectedchange",function(){if(r.changing_)return;r.changing_=!0,Be(r,t),r.changing_=!1,r.trigger("change")})},VideoTrackList}(Me),He=function(e){function TextTrackList(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A(this,TextTrackList);var o=void 0;if(w){for(var a in o=r.createElement("custom"),Me.prototype)"constructor"!==a&&(o[a]=Me.prototype[a]);for(var s in TextTrackList.prototype)"constructor"!==s&&(o[s]=TextTrackList.prototype[s])}return t=M(this,e.call(this,i,o)),M(t,n=o=t)}return D(TextTrackList,e),TextTrackList.prototype.addTrack=function addTrack(t){var r;e.prototype.addTrack.call(this,t),t.addEventListener("modechange",oe(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",oe(this,function(){this.trigger("selectedlanguagechange")}))},TextTrackList}(Me),Ve=function(){function HtmlTrackElementList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A(this,HtmlTrackElementList);var t=this;if(w)for(var n in t=r.createElement("custom"),HtmlTrackElementList.prototype)"constructor"!==n&&(t[n]=HtmlTrackElementList.prototype[n]);t.trackElements_=[],Object.defineProperty(t,"length",{get:function get$$1(){return this.trackElements_.length}});for(var i=0,o=e.length;i<o;i++)t.addTrackElement_(e[i]);if(w)return t}return HtmlTrackElementList.prototype.addTrackElement_=function addTrackElement_(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function get$$1(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},HtmlTrackElementList.prototype.getTrackElementByTrack_=function getTrackElementByTrack_(e){for(var t=void 0,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},HtmlTrackElementList.prototype.removeTrackElement_=function removeTrackElement_(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},HtmlTrackElementList}(),qe=function(){function TextTrackCueList(e){A(this,TextTrackCueList);var t=this;if(w)for(var n in t=r.createElement("custom"),TextTrackCueList.prototype)"constructor"!==n&&(t[n]=TextTrackCueList.prototype[n]);if(TextTrackCueList.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function get$$1(){return this.length_}}),w)return t}return TextTrackCueList.prototype.setCues_=function setCues_(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function defineProp(e){""+e in this||Object.defineProperty(this,""+e,{get:function get$$1(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},TextTrackCueList.prototype.getCueById=function getCueById(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},TextTrackCueList}(),Ue={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Qe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ze={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},$e={disabled:"disabled",hidden:"hidden",showing:"showing"},Ge=function(e){function Track(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,Track);var i=M(this,e.call(this)),o=i;if(w)for(var a in o=r.createElement("custom"),Track.prototype)"constructor"!==a&&(o[a]=Track.prototype[a]);var s={id:n.id||"vjs_track_"+newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},l=function _loop(e){Object.defineProperty(o,e,{get:function get$$1(){return s[e]},set:function set$$1(){}})};for(var u in s)l(u);return M(i,t=o)}return D(Track,e),Track}(le),Ke=function parseUrl(e){var n=["protocol","hostname","port","pathname","search","hash","host"],i=r.createElement("a");i.href=e;var o=""===i.host&&"file:"!==i.protocol,a=void 0;o&&((a=r.createElement("div")).innerHTML='<a href="'+e+'"></a>',i=a.firstChild,a.setAttribute("style","display:none; position:absolute;"),r.body.appendChild(a));for(var s={},l=0;l<n.length;l++)s[n[l]]=i[n[l]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=t.location.protocol),o&&r.body.removeChild(a),s},Xe=function getAbsoluteURL(e){if(!e.match(/^https?:\/\//)){var t=r.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Ye=function getFileExtension(e){if("string"==typeof e){var t,r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(r)return r.pop().toLowerCase()}return""},Je=function isCrossOrigin(e){var r=t.location,n=Ke(e),i,o;return(":"===n.protocol?r.protocol:n.protocol)+n.host!==r.protocol+r.host},Ze=(Object.freeze||Object)({parseUrl:Ke,getAbsoluteURL:Xe,getFileExtension:Ye,isCrossOrigin:Je}),et=function parseCues(e,r){var n=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),i=[];n.oncue=function(e){r.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){r.trigger({type:"loadeddata",target:r})},n.parse(e),i.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+r.src),i.forEach(function(e){return q.error(e)}),t.console&&t.console.groupEnd&&t.console.groupEnd()),n.flush()},tt=function loadTrack(e,r){var n={uri:e},i=Je(e);i&&(n.cors=i),o(n,oe(this,function(e,n,i){if(e)return q.error(e,n);if(r.loaded_=!0,"function"!=typeof t.WebVTT){if(r.tech_){var o=function loadHandler(){return et(i,r)};r.tech_.on("vttjsloaded",o),r.tech_.on("vttjserror",function(){q.error("vttjs failed to load, stopping trying to process "+r.src),r.tech_.off("vttjsloaded",o)})}}else et(i,r)}))},rt=function(e){function TextTrack(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(A(this,TextTrack),!n.tech)throw new Error("A tech was not provided.");var i=mergeOptions(n,{kind:ze[n.kind]||"subtitles",language:n.language||n.srclang||""}),o=$e[i.mode]||"disabled",a=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden");var s=t=M(this,e.call(this,i));if(s.tech_=i.tech,w)for(var l in TextTrack.prototype)"constructor"!==l&&(s[l]=TextTrack.prototype[l]);s.cues_=[],s.activeCues_=[];var u=new qe(s.cues_),c=new qe(s.activeCues_),h=!1,p=oe(s,function(){this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==o&&s.tech_.ready(function(){s.tech_.on("timeupdate",p)},!0),Object.defineProperty(s,"default",{get:function get$$1(){return a},set:function set$$1(){}}),Object.defineProperty(s,"mode",{get:function get$$1(){return o},set:function set$$1(e){var t=this;if(!$e[e])return;"showing"===(o=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",p)},!0),this.trigger("modechange")}}),Object.defineProperty(s,"cues",{get:function get$$1(){if(!this.loaded_)return null;return u},set:function set$$1(){}}),Object.defineProperty(s,"activeCues",{get:function get$$1(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(h=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function set$$1(){}}),i.src?(s.src=i.src,tt(i.src,s)):s.loaded_=!0,M(t,r=s)}return D(TextTrack,e),TextTrack.prototype.addCue=function addCue(e){var r=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var n in r=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in r||(r[n]=e[n]);r.id=e.id,r.originalCue_=e}for(var i=this.tech_.textTracks(),o=0;o<i.length;o++)i[o]!==this&&i[o].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)},TextTrack.prototype.removeCue=function removeCue(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},TextTrack}(Ge);rt.prototype.allowedEvents_={cuechange:"cuechange"};var nt=function(e){function AudioTrack(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,AudioTrack);var i=mergeOptions(n,{kind:Qe[n.kind]||""}),o=t=M(this,e.call(this,i)),a=!1;if(w)for(var s in AudioTrack.prototype)"constructor"!==s&&(o[s]=AudioTrack.prototype[s]);return Object.defineProperty(o,"enabled",{get:function get$$1(){return a},set:function set$$1(e){if("boolean"!=typeof e||e===a)return;a=e,this.trigger("enabledchange")}}),i.enabled&&(o.enabled=i.enabled),o.loaded_=!0,M(t,r=o)}return D(AudioTrack,e),AudioTrack}(Ge),it=function(e){function VideoTrack(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,VideoTrack);var i=mergeOptions(n,{kind:Ue[n.kind]||""}),o=t=M(this,e.call(this,i)),a=!1;if(w)for(var s in VideoTrack.prototype)"constructor"!==s&&(o[s]=VideoTrack.prototype[s]);return Object.defineProperty(o,"selected",{get:function get$$1(){return a},set:function set$$1(e){if("boolean"!=typeof e||e===a)return;a=e,this.trigger("selectedchange")}}),i.selected&&(o.selected=i.selected),M(t,r=o)}return D(VideoTrack,e),VideoTrack}(Ge),ot=0,at=1,st=2,lt=3,ut=function(e){function HTMLTrackElement(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,HTMLTrackElement);var n=M(this,e.call(this)),i=void 0,o=n;if(w)for(var a in o=r.createElement("custom"),HTMLTrackElement.prototype)"constructor"!==a&&(o[a]=HTMLTrackElement.prototype[a]);var s=new rt(t),l;if(o.kind=s.kind,o.src=s.src,o.srclang=s.language,o.label=s.label,o.default=s.default,Object.defineProperty(o,"readyState",{get:function get$$1(){return i}}),Object.defineProperty(o,"track",{get:function get$$1(){return s}}),i=ot,s.addEventListener("loadeddata",function(){i=st,o.trigger({type:"load",target:o})}),w)return M(n,l=o);return n}return D(HTMLTrackElement,e),HTMLTrackElement}(le);ut.prototype.allowedEvents_={load:"load"},ut.NONE=ot,ut.LOADING=1,ut.LOADED=st,ut.ERROR=3;var ct={audio:{ListClass:Fe,TrackClass:nt,capitalName:"Audio"},video:{ListClass:We,TrackClass:it,capitalName:"Video"},text:{ListClass:He,TrackClass:rt,capitalName:"Text"}};Object.keys(ct).forEach(function(e){ct[e].getterName=e+"Tracks",ct[e].privateName=e+"Tracks_"});var ht={remoteText:{ListClass:He,TrackClass:rt,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ve,TrackClass:ut,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},pt=mergeOptions(ct,ht);function createTrackHelper(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var a=new pt.text.TrackClass(i);return o.addTrack(a),a}ht.names=Object.keys(ht),ct.names=Object.keys(ct),pt.names=[].concat(ht.names).concat(ct.names);var dt=function(e){function Tech(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};A(this,Tech),t.reportTouchActivity=!1;var n=M(this,e.call(this,null,t,r));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),pt.names.forEach(function(e){var r=pt[e];t&&t[r.getterName]&&(n[r.privateName]=t[r.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new pt.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}return D(Tech,e),Tech.prototype.triggerSourceset=function triggerSourceset(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},Tech.prototype.manualProgressOn=function manualProgressOn(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Tech.prototype.manualProgressOff=function manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Tech.prototype.trackProgress=function trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(oe(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},Tech.prototype.onDurationChange=function onDurationChange(e){this.duration_=this.duration()},Tech.prototype.buffered=function buffered(){return createTimeRanges(0,0)},Tech.prototype.bufferedPercent=function bufferedPercent$$1(){return bufferedPercent(this.buffered(),this.duration_)},Tech.prototype.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval)},Tech.prototype.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Tech.prototype.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Tech.prototype.trackCurrentTime=function trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},Tech.prototype.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.dispose=function dispose(){this.clearTracks(ct.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},Tech.prototype.clearTracks=function clearTracks(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack(i)}})},Tech.prototype.cleanupAutoTextTracks=function cleanupAutoTextTracks(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},Tech.prototype.reset=function reset(){},Tech.prototype.error=function error(e){return void 0!==e&&(this.error_=new MediaError(e),this.trigger("error")),this.error_},Tech.prototype.played=function played(){if(this.hasStarted_)return createTimeRanges(0,0);return createTimeRanges()},Tech.prototype.setCurrentTime=function setCurrentTime(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.initTrackListeners=function initTrackListeners(){var e=this;ct.names.forEach(function(t){var r=ct[t],n=function trackListChanges(){e.trigger(t+"trackchange")},i=e[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},Tech.prototype.addWebVttScript_=function addWebVttScript_(){var e=this;if(t.WebVTT)return;if(r.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(a)&&Object.keys(a).length>0)return void this.trigger("vttjsloaded");var n=r.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){e.trigger("vttjsloaded")},n.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),t.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},Tech.prototype.emulateTextTracks=function emulateTextTracks(){var e=this,t=this.textTracks(),r=this.remoteTextTracks(),n=function handleAddTrack(e){return t.addTrack(e.track)},i=function handleRemoveTrack(e){return t.removeTrack(e.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var o=function updateDisplay(){return e.trigger("texttrackchange")},a=function textTracksChanges(){o();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",o),"showing"===r.mode&&r.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){var s;t[e].removeEventListener("cuechange",o)}})},Tech.prototype.addTextTrack=function addTextTrack(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,e,t,r)},Tech.prototype.createRemoteTextTrack=function createRemoteTextTrack(e){var t=mergeOptions(e,{tech:this});return new ht.remoteTextEl.TrackClass(t)},Tech.prototype.addRemoteTextTrack=function addRemoteTextTrack(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=this.createRemoteTextTrack(t);return!0!==r&&!1!==r&&(q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==r&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(n.track)}),n},Tech.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},Tech.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{}},Tech.prototype.setPoster=function setPoster(){},Tech.prototype.playsinline=function playsinline(){},Tech.prototype.setPlaysinline=function setPlaysinline(){},Tech.prototype.canPlayType=function canPlayType(){return""},Tech.canPlayType=function canPlayType(){return""},Tech.canPlaySource=function canPlaySource(e,t){return Tech.canPlayType(e.type)},Tech.isTech=function isTech(e){return e.prototype instanceof Tech||e instanceof Tech||e===Tech},Tech.registerTech=function registerTech(e,t){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!Tech.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Tech.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=toTitleCase(e),Tech.techs_[e]=t,"Tech"!==e&&Tech.defaultTechOrder_.push(e),t},Tech.getTech=function getTech(e){if(!e)return;if(e=toTitleCase(e),Tech.techs_&&Tech.techs_[e])return Tech.techs_[e];if(t&&t.videojs&&t.videojs[e])return q.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]},Tech}(ge);pt.names.forEach(function(e){var t=pt[e];dt.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),dt.prototype.featuresVolumeControl=!0,dt.prototype.featuresMuteControl=!0,dt.prototype.featuresFullscreenResize=!1,dt.prototype.featuresPlaybackRate=!1,dt.prototype.featuresProgressEvents=!1,dt.prototype.featuresSourceset=!1,dt.prototype.featuresTimeupdateEvents=!1,dt.prototype.featuresNativeTextTracks=!1,dt.withSourceHandlers=function(e){var t;e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r=e.sourceHandlers||[],n=void 0,i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=void 0,o=0;o<n.length;o++)if(i=n[o].canHandleSource(t,r))return n[o];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);if(n)return n.canHandleSource(t,r);return""},["seekable","seeking","duration"].forEach(function(e){var t=this[e];if("function"!=typeof t)return;this[e]=function(){if(this.sourceHandler_&&this.sourceHandler_[e])return this.sourceHandler_[e].apply(this.sourceHandler_,arguments);return t.apply(this,arguments)}},e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:q.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ge.registerComponent("Tech",dt),dt.registerTech("Tech",dt),dt.defaultTechOrder_=[];var ft={},yt={},vt={};function use(e,t){ft[e]=ft[e]||[],ft[e].push(t)}function setSource(e,t,r){e.setTimeout(function(){return setSourceHelper(t,ft[t.type],r,e)},1)}function setTech(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function get$1(e,t,r){return e.reduceRight(middlewareIterator(r),t[r]())}function set$1(e,t,r,n){return t[r](e.reduce(middlewareIterator(r),n))}function mediate(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+toTitleCase(r),o=e.reduce(middlewareIterator(i),n),a=o===vt,s=a?null:t[r](o);return executeRight(e,r,s,a),s}var mt={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},gt={setCurrentTime:1},_t={play:1,pause:1};function middlewareIterator(e){return function(t,r){if(t===vt)return vt;if(r[e])return r[e](t);return t}}function executeRight(e,t,r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](n,r)}}function clearCacheForPlayer(e){yt[e.id()]=null}function getOrCreateFactory(e,t){var r=yt[e.id()],n=null;if(void 0===r||null===r)return n=t(e),yt[e.id()]=[[t,n]],n;for(var i=0;i<r.length;i++){var o=r[i],a=o[0],s=o[1];if(a!==t)continue;n=s}return null===n&&(n=t(e),r.push([t,n])),n}function setSourceHelper(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],n=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=t[0],s=t.slice(1);if("string"==typeof a)setSourceHelper(e,ft[a],r,n,i,o);else if(a){var l=getOrCreateFactory(n,a);if(!l.setSource)return i.push(l),setSourceHelper(e,s,r,n,i,o);l.setSource(assign({},e),function(t,a){if(t)return setSourceHelper(e,s,r,n,i,o);i.push(l),setSourceHelper(a,e.type===a.type?s:ft[a.type],r,n,i,o)})}else s.length?setSourceHelper(e,s,r,n,i,o):o?r(e,i):setSourceHelper(e,ft["*"],r,n,i,!0)}var bt={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Ct=function getMimetype(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Ye(e),r;return bt[t.toLowerCase()]||""},Tt=function findMimetype(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter(function(e){return e.src===t});if(r.length)return r[0].type;for(var n=e.$$("source"),i=0;i<n.length;i++){var o=n[i];if(o.type&&o.src&&o.src===t)return o.type}return Ct(t)},St=function filterSource(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){e=filterSource(e),Array.isArray(e)?t=t.concat(e):isObject(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[fixSource({src:e})]:isObject(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[fixSource(e)]:[];return e};function fixSource(e){var t=Ct(e.src);return!e.type&&t&&(e.type=t),e}var Et=function(e){function MediaLoader(t,r,n){A(this,MediaLoader);var i=mergeOptions({createEl:!1},r),o=M(this,e.call(this,t,i,n));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)t.src(r.playerOptions.sources);else for(var a=0,s=r.playerOptions.techOrder;a<s.length;a++){var l=toTitleCase(s[a]),u=dt.getTech(l);if(l||(u=ge.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return o}return D(MediaLoader,e),MediaLoader}(ge);ge.registerComponent("MediaLoader",Et);var wt=function(e){function ClickableComponent(t,r){A(this,ClickableComponent);var n=M(this,e.call(this,t,r));return n.emitTapEvents(),n.enable(),n}return D(ClickableComponent,e),ClickableComponent.prototype.createEl=function createEl$$1(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&q.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=assign({role:"button"},n),this.tabIndex_=r.tabIndex;var i=e.prototype.createEl.call(this,t,r,n);return this.createControlTextEl(i),i},ClickableComponent.prototype.dispose=function dispose(){this.controlTextEl_=null,e.prototype.dispose.call(this)},ClickableComponent.prototype.createControlTextEl=function createControlTextEl(e){return this.controlTextEl_=createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},ClickableComponent.prototype.controlText=function controlText(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,textContent(this.controlTextEl_,r),this.nonIconControl||t.setAttribute("title",r)},ClickableComponent.prototype.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},ClickableComponent.prototype.enable=function enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},ClickableComponent.prototype.disable=function disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},ClickableComponent.prototype.handleClick=function handleClick(e){},ClickableComponent.prototype.handleFocus=function handleFocus(e){on(r,"keydown",oe(this,this.handleKeyPress))},ClickableComponent.prototype.handleKeyPress=function handleKeyPress(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},ClickableComponent.prototype.handleBlur=function handleBlur(e){off(r,"keydown",oe(this,this.handleKeyPress))},ClickableComponent}(ge);ge.registerComponent("ClickableComponent",wt);var kt=function(e){function PosterImage(t,r){A(this,PosterImage);var n=M(this,e.call(this,t,r));return n.update(),t.on("posterchange",oe(n,n.update)),n}return D(PosterImage,e),PosterImage.prototype.dispose=function dispose(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},PosterImage.prototype.createEl=function createEl$$1(){var e=createEl("div",{className:"vjs-poster",tabIndex:-1});return N||(this.fallbackImg_=createEl("img"),e.appendChild(this.fallbackImg_)),e},PosterImage.prototype.update=function update(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},PosterImage.prototype.setSrc=function setSrc(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},PosterImage.prototype.handleClick=function handleClick(e){if(!this.player_.controls())return;this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()},PosterImage}(wt);ge.registerComponent("PosterImage",kt);var Pt="#222",xt="#ccc",Ot={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(e,t){var r=void 0;if(4===e.length)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");r=e.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function tryUpdateStyle(e,t,r){try{e.style[t]=r}catch(e){return}}var Nt=function(e){function TextTrackDisplay(t,r,n){A(this,TextTrackDisplay);var i=M(this,e.call(this,t,r,n));return t.on("loadstart",oe(i,i.toggleDisplay)),t.on("texttrackchange",oe(i,i.updateDisplay)),t.on("loadstart",oe(i,i.preselectTrack)),t.ready(oe(i,function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)return void this.hide();t.on("fullscreenchange",oe(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],r=0;r<e.length;r++)this.player_.addRemoteTextTrack(e[r],!0);this.preselectTrack()})),i}return D(TextTrackDisplay,e),TextTrackDisplay.prototype.preselectTrack=function preselectTrack(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,n=void 0,i=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];r&&r.enabled&&r.language===s.language?s.kind===r.kind?o=s:o||(o=s):r&&!r.enabled?(o=null,n=null,i=null):s.default&&("descriptions"!==s.kind||n?s.kind in e&&!i&&(i=s):n=s)}o?o.mode="showing":i?i.mode="showing":n&&(n.mode="showing")},TextTrackDisplay.prototype.toggleDisplay=function toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},TextTrackDisplay.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},TextTrackDisplay.prototype.clearDisplay=function clearDisplay(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},TextTrackDisplay.prototype.updateDisplay=function updateDisplay(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,r=null,n=e.length;n--;){var i=e[n];"showing"===i.mode&&("descriptions"===i.kind?t=i:r=i)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},TextTrackDisplay.prototype.updateForTrack=function updateForTrack(e){if("function"!=typeof t.WebVTT||!e.activeCues)return;for(var r=[],n=0;n<e.activeCues.length;n++)r.push(e.activeCues[n]);if(t.WebVTT.processCues(t,r,this.el_),!this.player_.textTrackSettings)return;for(var i=this.player_.textTrackSettings.getValues(),o=r.length;o--;){var a=r[o];if(!a)continue;var s=a.displayState;if(i.color&&(s.firstChild.style.color=i.color),i.textOpacity&&tryUpdateStyle(s.firstChild,"color",constructColor(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(s.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&tryUpdateStyle(s.firstChild,"backgroundColor",constructColor(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?tryUpdateStyle(s,"backgroundColor",constructColor(i.windowColor,i.windowOpacity)):s.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var l=t.parseFloat(s.style.fontSize);s.style.fontSize=l*i.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Ot[i.fontFamily])}},TextTrackDisplay}(ge);ge.registerComponent("TextTrackDisplay",Nt);var Rt=function(e){function LoadingSpinner(){return A(this,LoadingSpinner),M(this,e.apply(this,arguments))}return D(LoadingSpinner,e),LoadingSpinner.prototype.createEl=function createEl$$1(){var t=this.player_.isAudio(),r=this.localize(t?"Audio Player":"Video Player"),n=createEl("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},LoadingSpinner}(ge);ge.registerComponent("LoadingSpinner",Rt);var It=function(e){function Button(){return A(this,Button),M(this,e.apply(this,arguments))}return D(Button,e),Button.prototype.createEl=function createEl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e="button",t=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),r=assign({type:"button"},r);var n=ge.prototype.createEl.call(this,e,t,r);return this.createControlTextEl(n),n},Button.prototype.addChild=function addChild(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.name;return q.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),ge.prototype.addChild.call(this,e,t)},Button.prototype.enable=function enable(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},Button.prototype.disable=function disable(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},Button.prototype.handleKeyPress=function handleKeyPress(t){if(32===t.which||13===t.which)return;e.prototype.handleKeyPress.call(this,t)},Button}(wt);ge.registerComponent("Button",It);var At=function(e){function BigPlayButton(t,r){A(this,BigPlayButton);var n=M(this,e.call(this,t,r));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}return D(BigPlayButton,e),BigPlayButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-big-play-button"},BigPlayButton.prototype.handleClick=function handleClick(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return void silencePromise(t);var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n)return void this.player_.focus();var i=function playFocus(){return n.focus()};isPromise(t)?t.then(i,function(){}):this.setTimeout(i,1)},BigPlayButton.prototype.handleKeyPress=function handleKeyPress(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},BigPlayButton.prototype.handleMouseDown=function handleMouseDown(e){this.mouseused_=!0},BigPlayButton}(It);At.prototype.controlText_="Play Video",ge.registerComponent("BigPlayButton",At);var Dt=function(e){function CloseButton(t,r){A(this,CloseButton);var n=M(this,e.call(this,t,r));return n.controlText(r&&r.controlText||n.localize("Close")),n}return D(CloseButton,e),CloseButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},CloseButton.prototype.handleClick=function handleClick(e){this.trigger({type:"close",bubbles:!1})},CloseButton}(It);ge.registerComponent("CloseButton",Dt);var Mt=function(e){function PlayToggle(t,r){A(this,PlayToggle);var n=M(this,e.call(this,t,r));return n.on(t,"play",n.handlePlay),n.on(t,"pause",n.handlePause),n.on(t,"ended",n.handleEnded),n}return D(PlayToggle,e),PlayToggle.prototype.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},PlayToggle.prototype.handleClick=function handleClick(e){this.player_.paused()?this.player_.play():this.player_.pause()},PlayToggle.prototype.handleSeeked=function handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},PlayToggle.prototype.handlePlay=function handlePlay(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},PlayToggle.prototype.handlePause=function handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},PlayToggle.prototype.handleEnded=function handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},PlayToggle}(It);Mt.prototype.controlText_="Play",ge.registerComponent("PlayToggle",Mt);var jt=function defaultImplementation(e,t){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),(i=i>0||a>0?i+":":"")+(n=((i||o>=10)&&n<10?"0"+n:n)+":")+(r=r<10?"0"+r:r)},Lt=jt;function setFormatTime(e){Lt=e}function resetFormatTime(){Lt=jt}var Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Lt(e,t)},Bt=function(e){function TimeDisplay(t,r){A(this,TimeDisplay);var n=M(this,e.call(this,t,r));return n.throttledUpdateContent=ae(oe(n,n.updateContent),25),n.on(t,"timeupdate",n.throttledUpdateContent),n}return D(TimeDisplay,e),TimeDisplay.prototype.createEl=function createEl$$1(t){var r=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=createEl("span",{className:r+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},TimeDisplay.prototype.dispose=function dispose(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},TimeDisplay.prototype.updateTextNode_=function updateTextNode_(){if(!this.contentEl_)return;for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=r.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)},TimeDisplay.prototype.formatTime_=function formatTime_(e){return Ft(e)},TimeDisplay.prototype.updateFormattedTime_=function updateFormattedTime_(e){var t=this.formatTime_(e);if(t===this.formattedTime_)return;this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_)},TimeDisplay.prototype.updateContent=function updateContent(e){},TimeDisplay}(ge);Bt.prototype.labelText_="Time",Bt.prototype.controlText_="Time",ge.registerComponent("TimeDisplay",Bt);var Wt=function(e){function CurrentTimeDisplay(t,r){A(this,CurrentTimeDisplay);var n=M(this,e.call(this,t,r));return n.on(t,"ended",n.handleEnded),n}return D(CurrentTimeDisplay,e),CurrentTimeDisplay.prototype.buildCSSClass=function buildCSSClass(){return"vjs-current-time"},CurrentTimeDisplay.prototype.updateContent=function updateContent(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},CurrentTimeDisplay.prototype.handleEnded=function handleEnded(e){if(!this.player_.duration())return;this.updateFormattedTime_(this.player_.duration())},CurrentTimeDisplay}(Bt);Wt.prototype.labelText_="Current Time",Wt.prototype.controlText_="Current Time",ge.registerComponent("CurrentTimeDisplay",Wt);var Ht=function(e){function DurationDisplay(t,r){A(this,DurationDisplay);var n=M(this,e.call(this,t,r));return n.on(t,"durationchange",n.updateContent),n.on(t,"loadedmetadata",n.throttledUpdateContent),n}return D(DurationDisplay,e),DurationDisplay.prototype.buildCSSClass=function buildCSSClass(){return"vjs-duration"},DurationDisplay.prototype.updateContent=function updateContent(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},DurationDisplay}(Bt);Ht.prototype.labelText_="Duration",Ht.prototype.controlText_="Duration",ge.registerComponent("DurationDisplay",Ht);var Vt=function(e){function TimeDivider(){return A(this,TimeDivider),M(this,e.apply(this,arguments))}return D(TimeDivider,e),TimeDivider.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},TimeDivider}(ge);ge.registerComponent("TimeDivider",Vt);var qt=function(e){function RemainingTimeDisplay(t,r){A(this,RemainingTimeDisplay);var n=M(this,e.call(this,t,r));return n.on(t,"durationchange",n.throttledUpdateContent),n.on(t,"ended",n.handleEnded),n}return D(RemainingTimeDisplay,e),RemainingTimeDisplay.prototype.buildCSSClass=function buildCSSClass(){return"vjs-remaining-time"},RemainingTimeDisplay.prototype.formatTime_=function formatTime_(t){return"-"+e.prototype.formatTime_.call(this,t)},RemainingTimeDisplay.prototype.updateContent=function updateContent(e){if(!this.player_.duration())return;this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime())},RemainingTimeDisplay.prototype.handleEnded=function handleEnded(e){if(!this.player_.duration())return;this.updateFormattedTime_(0)},RemainingTimeDisplay}(Bt);qt.prototype.labelText_="Remaining Time",qt.prototype.controlText_="Remaining Time",ge.registerComponent("RemainingTimeDisplay",qt);var Ut=function(e){function LiveDisplay(t,r){A(this,LiveDisplay);var n=M(this,e.call(this,t,r));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return D(LiveDisplay,e),LiveDisplay.prototype.createEl=function createEl$$1(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},LiveDisplay.prototype.dispose=function dispose(){this.contentEl_=null,e.prototype.dispose.call(this)},LiveDisplay.prototype.updateShowing=function updateShowing(e){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(ge);ge.registerComponent("LiveDisplay",Ut);var Qt=function(e){function Slider(t,r){A(this,Slider);var n=M(this,e.call(this,t,r));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}return D(Slider,e),Slider.prototype.enabled=function enabled(){return this.enabled_},Slider.prototype.enable=function enable(){if(this.enabled())return;this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0},Slider.prototype.disable=function disable(){if(!this.enabled())return;var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1},Slider.prototype.createEl=function createEl$$1(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.className=r.className+" vjs-slider",r=assign({tabIndex:0},r),n=assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},Slider.prototype.handleMouseDown=function handleMouseDown(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||S||e.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},Slider.prototype.handleMouseMove=function handleMouseMove(e){},Slider.prototype.handleMouseUp=function handleMouseUp(){var e=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},Slider.prototype.update=function update(){if(!this.el_)return;var e=this.getPercent(),t=this.bar;if(!t)return;("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var r=(100*e).toFixed(2)+"%",n=t.el().style;return this.vertical()?n.height=r:n.width=r,e},Slider.prototype.calculateDistance=function calculateDistance(e){var t=getPointerPosition(this.el_,e);if(this.vertical())return t.y;return t.x},Slider.prototype.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Slider.prototype.handleKeyPress=function handleKeyPress(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},Slider.prototype.handleBlur=function handleBlur(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Slider.prototype.handleClick=function handleClick(e){e.stopImmediatePropagation(),e.preventDefault()},Slider.prototype.vertical=function vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},Slider}(ge);ge.registerComponent("Slider",Qt);var zt=function(e){function LoadProgressBar(t,r){A(this,LoadProgressBar);var n=M(this,e.call(this,t,r));return n.partEls_=[],n.on(t,"progress",n.update),n}return D(LoadProgressBar,e),LoadProgressBar.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},LoadProgressBar.prototype.dispose=function dispose(){this.partEls_=null,e.prototype.dispose.call(this)},LoadProgressBar.prototype.update=function update(e){var t=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.partEls_,o=function percentify(e,t){var r=e/t||0;return 100*(r>=1?1:r)+"%"};this.el_.style.width=o(n,r);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),u=i[a];u||(u=this.el_.appendChild(createEl()),i[a]=u),u.style.left=o(s,n),u.style.width=o(l-s,n)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},LoadProgressBar}(ge);ge.registerComponent("LoadProgressBar",zt);var $t=function(e){function TimeTooltip(){return A(this,TimeTooltip),M(this,e.apply(this,arguments))}return D(TimeTooltip,e),TimeTooltip.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},TimeTooltip.prototype.update=function update(e,t,r){var n=getBoundingClientRect(this.el_),i=getBoundingClientRect(this.player_.el()),o=e.width*t;if(!i||!n)return;var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),l=n.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",textContent(this.el_,r)},TimeTooltip}(ge);ge.registerComponent("TimeTooltip",$t);var Gt=function(e){function PlayProgressBar(){return A(this,PlayProgressBar),M(this,e.apply(this,arguments))}return D(PlayProgressBar,e),PlayProgressBar.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},PlayProgressBar.prototype.update=function update(e,t){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),i=Ft(n,r.player_.duration()),o=r.getChild("timeTooltip");o&&o.update(e,t,i)})},PlayProgressBar}(ge);Gt.prototype.options_={children:[]},k&&!(k>8)||f||v||Gt.prototype.options_.children.push("timeTooltip"),ge.registerComponent("PlayProgressBar",Gt);var Kt=function(e){function MouseTimeDisplay(t,r){A(this,MouseTimeDisplay);var n=M(this,e.call(this,t,r));return n.update=ae(oe(n,n.update),25),n}return D(MouseTimeDisplay,e),MouseTimeDisplay.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},MouseTimeDisplay.prototype.update=function update(e,t){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=r.player_.duration(),i=Ft(t*n,n);r.el_.style.left=e.width*t+"px",r.getChild("timeTooltip").update(e,t,i)})},MouseTimeDisplay}(ge);Kt.prototype.options_={children:["timeTooltip"]},ge.registerComponent("MouseTimeDisplay",Kt);var Xt=5,Yt=30,Jt=function(e){function SeekBar(t,r){A(this,SeekBar);var n=M(this,e.call(this,t,r));return n.setEventHandlers_(),n}return D(SeekBar,e),SeekBar.prototype.setEventHandlers_=function setEventHandlers_(){var e=this;this.update=ae(oe(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},SeekBar.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},SeekBar.prototype.update_=function update_(e,t){var r=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ft(e,r),Ft(r,r)],"{1} of {2}")),this.bar.update(getBoundingClientRect(this.el_),t)},SeekBar.prototype.update=function update(t){var r=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),r),r},SeekBar.prototype.getCurrentTime_=function getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},SeekBar.prototype.handleEnded=function handleEnded(e){this.update_(this.player_.duration(),1)},SeekBar.prototype.getPercent=function getPercent(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e},SeekBar.prototype.handleMouseDown=function handleMouseDown(t){if(!isSingleLeftClick(t))return;t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},SeekBar.prototype.handleMouseMove=function handleMouseMove(e){if(!isSingleLeftClick(e))return;var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},SeekBar.prototype.enable=function enable(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");if(!t)return;t.show()},SeekBar.prototype.disable=function disable(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");if(!t)return;t.hide()},SeekBar.prototype.handleMouseUp=function handleMouseUp(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&silencePromise(this.player_.play())},SeekBar.prototype.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+5)},SeekBar.prototype.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-5)},SeekBar.prototype.handleAction=function handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()},SeekBar.prototype.handleKeyPress=function handleKeyPress(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},SeekBar}(Qt);Jt.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},k&&!(k>8)||f||v||Jt.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Jt.prototype.playerEvent="timeupdate",ge.registerComponent("SeekBar",Jt);var Zt=function(e){function ProgressControl(t,r){A(this,ProgressControl);var n=M(this,e.call(this,t,r));return n.handleMouseMove=ae(oe(n,n.handleMouseMove),25),n.throttledHandleMouseSeek=ae(oe(n,n.handleMouseSeek),25),n.enable(),n}return D(ProgressControl,e),ProgressControl.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},ProgressControl.prototype.handleMouseMove=function handleMouseMove(e){var t=this.getChild("seekBar");if(t){var r=t.getChild("mouseTimeDisplay"),n=t.el(),i=getBoundingClientRect(n),o=getPointerPosition(n,e).x;o>1?o=1:o<0&&(o=0),r&&r.update(i,o)}},ProgressControl.prototype.handleMouseSeek=function handleMouseSeek(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},ProgressControl.prototype.enabled=function enabled(){return this.enabled_},ProgressControl.prototype.disable=function disable(){if(this.children().forEach(function(e){return e.disable&&e.disable()}),!this.enabled())return;this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1},ProgressControl.prototype.enable=function enable(){if(this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled())return;this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0},ProgressControl.prototype.handleMouseDown=function handleMouseDown(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},ProgressControl.prototype.handleMouseUp=function handleMouseUp(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},ProgressControl}(ge);Zt.prototype.options_={children:["seekBar"]},ge.registerComponent("ProgressControl",Zt);var er=function(e){function FullscreenToggle(t,n){A(this,FullscreenToggle);var i=M(this,e.call(this,t,n));return i.on(t,"fullscreenchange",i.handleFullscreenChange),!1===r[_e.fullscreenEnabled]&&i.disable(),i}return D(FullscreenToggle,e),FullscreenToggle.prototype.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},FullscreenToggle.prototype.handleFullscreenChange=function handleFullscreenChange(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},FullscreenToggle.prototype.handleClick=function handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},FullscreenToggle}(It);er.prototype.controlText_="Fullscreen",ge.registerComponent("FullscreenToggle",er);var tr=function checkVolumeSupport(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},rr=function(e){function VolumeLevel(){return A(this,VolumeLevel),M(this,e.apply(this,arguments))}return D(VolumeLevel,e),VolumeLevel.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},VolumeLevel}(ge);ge.registerComponent("VolumeLevel",rr);var nr=function(e){function VolumeBar(t,r){A(this,VolumeBar);var n=M(this,e.call(this,t,r));return n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready(function(){return n.updateARIAAttributes()}),n}return D(VolumeBar,e),VolumeBar.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},VolumeBar.prototype.handleMouseDown=function handleMouseDown(t){if(!isSingleLeftClick(t))return;e.prototype.handleMouseDown.call(this,t)},VolumeBar.prototype.handleMouseMove=function handleMouseMove(e){if(!isSingleLeftClick(e))return;this.checkMuted(),this.player_.volume(this.calculateDistance(e))},VolumeBar.prototype.checkMuted=function checkMuted(){this.player_.muted()&&this.player_.muted(!1)},VolumeBar.prototype.getPercent=function getPercent(){if(this.player_.muted())return 0;return this.player_.volume()},VolumeBar.prototype.stepForward=function stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},VolumeBar.prototype.stepBack=function stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},VolumeBar.prototype.updateARIAAttributes=function updateARIAAttributes(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},VolumeBar.prototype.volumeAsPercentage_=function volumeAsPercentage_(){return Math.round(100*this.player_.volume())},VolumeBar.prototype.updateLastVolume_=function updateLastVolume_(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},VolumeBar}(Qt);nr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},nr.prototype.playerEvent="volumechange",ge.registerComponent("VolumeBar",nr);var ir=function(e){function VolumeControl(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,VolumeControl),r.vertical=r.vertical||!1,(void 0===r.volumeBar||isPlain(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var n=M(this,e.call(this,t,r));return tr(n,t),n.throttledHandleMouseMove=ae(oe(n,n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}return D(VolumeControl,e),VolumeControl.prototype.createEl=function createEl(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},VolumeControl.prototype.handleMouseDown=function handleMouseDown(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},VolumeControl.prototype.handleMouseUp=function handleMouseUp(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},VolumeControl.prototype.handleMouseMove=function handleMouseMove(e){this.volumeBar.handleMouseMove(e)},VolumeControl}(ge);ir.prototype.options_={children:["volumeBar"]},ge.registerComponent("VolumeControl",ir);var or=function checkMuteSupport(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},ar=function(e){function MuteToggle(t,r){A(this,MuteToggle);var n=M(this,e.call(this,t,r));return or(n,t),n.on(t,["loadstart","volumechange"],n.update),n}return D(MuteToggle,e),MuteToggle.prototype.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},MuteToggle.prototype.handleClick=function handleClick(e){var t=this.player_.volume(),r=this.player_.lastVolume_();if(0===t){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},MuteToggle.prototype.update=function update(e){this.updateIcon_(),this.updateControlText_()},MuteToggle.prototype.updateIcon_=function updateIcon_(){var e=this.player_.volume(),t=3;f&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var r=0;r<4;r++)removeClass(this.el_,"vjs-vol-"+r);addClass(this.el_,"vjs-vol-"+t)},MuteToggle.prototype.updateControlText_=function updateControlText_(){var e,t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},MuteToggle}(It);ar.prototype.controlText_="Mute",ge.registerComponent("MuteToggle",ar);var sr=function(e){function VolumePanel(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,VolumePanel),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||isPlain(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var n=M(this,e.call(this,t,r));return n.on(t,["loadstart"],n.volumePanelState_),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}return D(VolumePanel,e),VolumePanel.prototype.sliderActive_=function sliderActive_(){this.addClass("vjs-slider-active")},VolumePanel.prototype.sliderInactive_=function sliderInactive_(){this.removeClass("vjs-slider-active")},VolumePanel.prototype.volumePanelState_=function volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},VolumePanel.prototype.createEl=function createEl(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},VolumePanel}(ge);sr.prototype.options_={children:["muteToggle","volumeControl"]},ge.registerComponent("VolumePanel",sr);var lr=function(e){function Menu(t,r){A(this,Menu);var n=M(this,e.call(this,t,r));return r&&(n.menuButton_=r.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return D(Menu,e),Menu.prototype.addItem=function addItem(e){this.addChild(e),e.on("click",oe(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},Menu.prototype.createEl=function createEl$$1(){var t=this.options_.contentElType||"ul";this.contentEl_=createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},Menu.prototype.dispose=function dispose(){this.contentEl_=null,e.prototype.dispose.call(this)},Menu.prototype.handleKeyPress=function handleKeyPress(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},Menu.prototype.stepForward=function stepForward(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},Menu.prototype.stepBack=function stepBack(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},Menu.prototype.focus=function focus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),r;t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},Menu}(ge);ge.registerComponent("Menu",lr);var ur=function(e){function MenuButton(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,MenuButton);var n=M(this,e.call(this,t,r));n.menuButton_=new It(t,r),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=It.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}return D(MenuButton,e),MenuButton.prototype.update=function update(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},MenuButton.prototype.createMenu=function createMenu(){var e=new lr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=createEl("li",{className:"vjs-menu-title",innerHTML:toTitleCase(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),prependTo(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},MenuButton.prototype.createItems=function createItems(){},MenuButton.prototype.createEl=function createEl$$1(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},MenuButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){var t="vjs-menu-button",r;return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+It.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},MenuButton.prototype.buildCSSClass=function buildCSSClass(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},MenuButton.prototype.controlText=function controlText(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},MenuButton.prototype.handleClick=function handleClick(e){this.one(this.menu.contentEl(),"mouseleave",oe(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},MenuButton.prototype.focus=function focus(){this.menuButton_.focus()},MenuButton.prototype.blur=function blur(){this.menuButton_.blur()},MenuButton.prototype.handleFocus=function handleFocus(){on(r,"keydown",oe(this,this.handleKeyPress))},MenuButton.prototype.handleBlur=function handleBlur(){off(r,"keydown",oe(this,this.handleKeyPress))},MenuButton.prototype.handleKeyPress=function handleKeyPress(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},MenuButton.prototype.handleSubmenuKeyPress=function handleSubmenuKeyPress(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},MenuButton.prototype.pressButton=function pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),f&&isInFrame())return;this.menu.focus()}},MenuButton.prototype.unpressButton=function unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},MenuButton.prototype.disable=function disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},MenuButton.prototype.enable=function enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},MenuButton}(ge);ge.registerComponent("MenuButton",ur);var cr=function(e){function TrackButton(t,r){A(this,TrackButton);var n=r.tracks,i=M(this,e.call(this,t,r));if(i.items.length<=1&&i.hide(),!n)return M(i);var o=oe(i,i.update);return n.addEventListener("removetrack",o),n.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",function(){n.removeEventListener("removetrack",o),n.removeEventListener("addtrack",o)}),i}return D(TrackButton,e),TrackButton}(ur);ge.registerComponent("TrackButton",cr);var hr=function(e){function MenuItem(t,r){A(this,MenuItem);var n=M(this,e.call(this,t,r));return n.selectable=r.selectable,n.isSelected_=r.selected||!1,n.multiSelectable=r.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}return D(MenuItem,e),MenuItem.prototype.createEl=function createEl(t,r,n){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",assign({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),n)},MenuItem.prototype.handleClick=function handleClick(e){this.selected(!0)},MenuItem.prototype.selected=function selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},MenuItem}(wt);ge.registerComponent("MenuItem",hr);var pr=function(e){function TextTrackMenuItem(n,i){A(this,TextTrackMenuItem);var o=i.track,a=n.textTracks();i.label=o.label||o.language||"Unknown",i.selected="showing"===o.mode;var s=M(this,e.call(this,n,i));s.track=o;var l=function changeHandler(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.handleTracksChange.apply(s,t)},u=function selectedLanguageChangeHandler(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.handleSelectedLanguageChange.apply(s,t)};if(n.on(["loadstart","texttrackchange"],l),a.addEventListener("change",l),a.addEventListener("selectedlanguagechange",u),s.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),a.removeEventListener("change",l),a.removeEventListener("selectedlanguagechange",u)}),void 0===a.onchange){var c=void 0;s.on(["tap","click"],function(){if("object"!==I(t.Event))try{c=new t.Event("change")}catch(e){}c||(c=r.createEvent("Event")).initEvent("change",!0,!0),a.dispatchEvent(c)})}return s.handleTracksChange(),s}return D(TextTrackMenuItem,e),TextTrackMenuItem.prototype.handleClick=function handleClick(t){var r=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[r]),e.prototype.handleClick.call(this,t),!i)return;for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&n.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},TextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},TextTrackMenuItem.prototype.handleSelectedLanguageChange=function handleSelectedLanguageChange(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},TextTrackMenuItem.prototype.dispose=function dispose(){this.track=null,e.prototype.dispose.call(this)},TextTrackMenuItem}(hr);ge.registerComponent("TextTrackMenuItem",pr);var dr=function(e){function OffTextTrackMenuItem(t,r){return A(this,OffTextTrackMenuItem),r.track={player:t,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,M(this,e.call(this,t,r))}return D(OffTextTrackMenuItem,e),OffTextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},OffTextTrackMenuItem.prototype.handleSelectedLanguageChange=function handleSelectedLanguageChange(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},OffTextTrackMenuItem}(pr);ge.registerComponent("OffTextTrackMenuItem",dr);var fr=function(e){function TextTrackButton(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(this,TextTrackButton),r.tracks=t.textTracks(),M(this,e.call(this,t,r))}return D(TextTrackButton,e),TextTrackButton.prototype.createItems=function createItems(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr,r=void 0;this.label_&&(r=this.label_+" off"),e.push(new dr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<n.length;i++){var o=n[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},TextTrackButton}(cr);ge.registerComponent("TextTrackButton",fr);var yr=function(e){function ChaptersTrackMenuItem(t,r){A(this,ChaptersTrackMenuItem);var n=r.track,i=r.cue,o=t.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=o&&o<i.endTime;var a=M(this,e.call(this,t,r));return a.track=n,a.cue=i,n.addEventListener("cuechange",oe(a,a.update)),a}return D(ChaptersTrackMenuItem,e),ChaptersTrackMenuItem.prototype.handleClick=function handleClick(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ChaptersTrackMenuItem.prototype.update=function update(e){var t=this.cue,r=this.player_.currentTime();this.selected(t.startTime<=r&&r<t.endTime)},ChaptersTrackMenuItem}(hr);ge.registerComponent("ChaptersTrackMenuItem",yr);var vr=function(e){function ChaptersButton(t,r,n){return A(this,ChaptersButton),M(this,e.call(this,t,r,n))}return D(ChaptersButton,e),ChaptersButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},ChaptersButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},ChaptersButton.prototype.update=function update(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},ChaptersButton.prototype.setTrack=function setTrack(e){if(this.track_===e)return;if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}},ChaptersButton.prototype.findChaptersTrack=function findChaptersTrack(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},ChaptersButton.prototype.getMenuCaption=function getMenuCaption(){if(this.track_&&this.track_.label)return this.track_.label;return this.localize(toTitleCase(this.kind_))},ChaptersButton.prototype.createMenu=function createMenu(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},ChaptersButton.prototype.createItems=function createItems(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],o=new yr(this.player_,{track:this.track_,cue:i});e.push(o)}return e},ChaptersButton}(fr);vr.prototype.kind_="chapters",vr.prototype.controlText_="Chapters",ge.registerComponent("ChaptersButton",vr);var mr=function(e){function DescriptionsButton(t,r,n){A(this,DescriptionsButton);var i=M(this,e.call(this,t,r,n)),o=t.textTracks(),a=oe(i,i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",function(){o.removeEventListener("change",a)}),i}return D(DescriptionsButton,e),DescriptionsButton.prototype.handleTracksChange=function handleTracksChange(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},DescriptionsButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},DescriptionsButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},DescriptionsButton}(fr);mr.prototype.kind_="descriptions",mr.prototype.controlText_="Descriptions",ge.registerComponent("DescriptionsButton",mr);var gr=function(e){function SubtitlesButton(t,r,n){return A(this,SubtitlesButton),M(this,e.call(this,t,r,n))}return D(SubtitlesButton,e),SubtitlesButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},SubtitlesButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},SubtitlesButton}(fr);gr.prototype.kind_="subtitles",gr.prototype.controlText_="Subtitles",ge.registerComponent("SubtitlesButton",gr);var _r=function(e){function CaptionSettingsMenuItem(t,r){A(this,CaptionSettingsMenuItem),r.track={player:t,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var n=M(this,e.call(this,t,r));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+r.kind+" settings dialog"),n}return D(CaptionSettingsMenuItem,e),CaptionSettingsMenuItem.prototype.handleClick=function handleClick(e){this.player().getChild("textTrackSettings").open()},CaptionSettingsMenuItem}(pr);ge.registerComponent("CaptionSettingsMenuItem",_r);var br=function(e){function CaptionsButton(t,r,n){return A(this,CaptionsButton),M(this,e.call(this,t,r,n))}return D(CaptionsButton,e),CaptionsButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},CaptionsButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},CaptionsButton.prototype.createItems=function createItems(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new _r(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},CaptionsButton}(fr);br.prototype.kind_="captions",br.prototype.controlText_="Captions",ge.registerComponent("CaptionsButton",br);var Cr=function(e){function SubsCapsMenuItem(){return A(this,SubsCapsMenuItem),M(this,e.apply(this,arguments))}return D(SubsCapsMenuItem,e),SubsCapsMenuItem.prototype.createEl=function createEl(t,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label),o;return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,assign({innerHTML:i},r),n)},SubsCapsMenuItem}(pr);ge.registerComponent("SubsCapsMenuItem",Cr);var Tr=function(e){function SubsCapsButton(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,SubsCapsButton);var n=M(this,e.call(this,t,r));return n.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(toTitleCase(n.label_)),n}return D(SubsCapsButton,e),SubsCapsButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},SubsCapsButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},SubsCapsButton.prototype.createItems=function createItems(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new _r(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Cr)},SubsCapsButton}(fr);Tr.prototype.kinds_=["captions","subtitles"],Tr.prototype.controlText_="Subtitles",ge.registerComponent("SubsCapsButton",Tr);var Sr=function(e){function AudioTrackMenuItem(t,r){A(this,AudioTrackMenuItem);var n=r.track,i=t.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled;var o=M(this,e.call(this,t,r));o.track=n,o.addClass("vjs-"+n.kind+"-menu-item");var a=function changeHandler(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.handleTracksChange.apply(o,t)};return i.addEventListener("change",a),o.on("dispose",function(){i.removeEventListener("change",a)}),o}return D(AudioTrackMenuItem,e),AudioTrackMenuItem.prototype.createEl=function createEl(t,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label),o;return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,assign({innerHTML:i},r),n)},AudioTrackMenuItem.prototype.handleClick=function handleClick(t){var r=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var n=0;n<r.length;n++){var i=r[n];i.enabled=i===this.track}},AudioTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(e){this.selected(this.track.enabled)},AudioTrackMenuItem}(hr);ge.registerComponent("AudioTrackMenuItem",Sr);var Er=function(e){function AudioTrackButton(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(this,AudioTrackButton),r.tracks=t.audioTracks(),M(this,e.call(this,t,r))}return D(AudioTrackButton,e),AudioTrackButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},AudioTrackButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},AudioTrackButton.prototype.createItems=function createItems(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),r=0;r<t.length;r++){var n=t[r];e.push(new Sr(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},AudioTrackButton}(cr);Er.prototype.controlText_="Audio Track",ge.registerComponent("AudioTrackButton",Er);var wr=function(e){function PlaybackRateMenuItem(t,r){A(this,PlaybackRateMenuItem);var n=r.rate,i=parseFloat(n,10);r.label=n,r.selected=1===i,r.selectable=!0,r.multiSelectable=!1;var o=M(this,e.call(this,t,r));return o.label=n,o.rate=i,o.on(t,"ratechange",o.update),o}return D(PlaybackRateMenuItem,e),PlaybackRateMenuItem.prototype.handleClick=function handleClick(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},PlaybackRateMenuItem.prototype.update=function update(e){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(hr);wr.prototype.contentElType="button",ge.registerComponent("PlaybackRateMenuItem",wr);var kr=function(e){function PlaybackRateMenuButton(t,r){A(this,PlaybackRateMenuButton);var n=M(this,e.call(this,t,r));return n.updateVisibility(),n.updateLabel(),n.on(t,"loadstart",n.updateVisibility),n.on(t,"ratechange",n.updateLabel),n}return D(PlaybackRateMenuButton,e),PlaybackRateMenuButton.prototype.createEl=function createEl$$1(){var t=e.prototype.createEl.call(this);return this.labelEl_=createEl("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},PlaybackRateMenuButton.prototype.dispose=function dispose(){this.labelEl_=null,e.prototype.dispose.call(this)},PlaybackRateMenuButton.prototype.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},PlaybackRateMenuButton.prototype.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},PlaybackRateMenuButton.prototype.createMenu=function createMenu(){var e=new lr(this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;r>=0;r--)e.addChild(new wr(this.player(),{rate:t[r]+"x"}));return e},PlaybackRateMenuButton.prototype.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},PlaybackRateMenuButton.prototype.handleClick=function handleClick(e){for(var t=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>t){n=r[i];break}this.player().playbackRate(n)},PlaybackRateMenuButton.prototype.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},PlaybackRateMenuButton.prototype.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},PlaybackRateMenuButton.prototype.updateVisibility=function updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},PlaybackRateMenuButton.prototype.updateLabel=function updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(ur);kr.prototype.controlText_="Playback Rate",ge.registerComponent("PlaybackRateMenuButton",kr);var Pr=function(e){function Spacer(){return A(this,Spacer),M(this,e.apply(this,arguments))}return D(Spacer,e),Spacer.prototype.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},Spacer.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},Spacer}(ge);ge.registerComponent("Spacer",Pr);var xr=function(e){function CustomControlSpacer(){return A(this,CustomControlSpacer),M(this,e.apply(this,arguments))}return D(CustomControlSpacer,e),CustomControlSpacer.prototype.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},CustomControlSpacer.prototype.createEl=function createEl(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},CustomControlSpacer}(Pr);ge.registerComponent("CustomControlSpacer",xr);var Or=function(e){function ControlBar(){return A(this,ControlBar),M(this,e.apply(this,arguments))}return D(ControlBar,e),ControlBar.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},ControlBar}(ge);Or.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ge.registerComponent("ControlBar",Or);var Nr=function(e){function ErrorDisplay(t,r){A(this,ErrorDisplay);var n=M(this,e.call(this,t,r));return n.on(t,"error",n.open),n}return D(ErrorDisplay,e),ErrorDisplay.prototype.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},ErrorDisplay.prototype.content=function content(){var e=this.player().error();return e?this.localize(e.message):""},ErrorDisplay}(De);Nr.prototype.options_=mergeOptions(De.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ge.registerComponent("ErrorDisplay",Nr);var Rr="vjs-text-track-settings",Ir=["#000","Black"],Ar=["#00F","Blue"],Dr=["#0FF","Cyan"],Mr=["#0F0","Green"],jr=["#F0F","Magenta"],Lr=["#F00","Red"],Fr=["#FFF","White"],Br=["#FF0","Yellow"],Wr=["1","Opaque"],Hr=["0.5","Semi-Transparent"],Vr=["0","Transparent"],qr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ir,Fr,Lr,Mr,Ar,Br,jr,Dr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Wr,Hr,Vr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Fr,Ir,Lr,Mr,Ar,Br,jr,Dr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function parser(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Wr,Hr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Vr,Hr,Wr]}};function parseOptionValue(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function getSelectedOptionValue(e,t){var r;return parseOptionValue(e.options[e.options.selectedIndex].value,t)}function setSelectedOption(e,t,r){if(!t)return;for(var n=0;n<e.options.length;n++)if(parseOptionValue(e.options[n].value,r)===t){e.selectedIndex=n;break}}qr.windowColor.options=qr.backgroundColor.options;var Ur=function(e){function TextTrackSettings(t,r){A(this,TextTrackSettings),r.temporary=!1;var n=M(this,e.call(this,t,r));return n.updateDisplay=oe(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=createEl("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===r.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),each(qr,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return D(TextTrackSettings,e),TextTrackSettings.prototype.dispose=function dispose(){this.endDialog=null,e.prototype.dispose.call(this)},TextTrackSettings.prototype.createElSelect_=function createElSelect_(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=qr[e],o=i.id.replace("%s",this.id_),a=[r,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map(function(e){var r=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+r+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+r+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},TextTrackSettings.prototype.createElFgColor_=function createElFgColor_(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},TextTrackSettings.prototype.createElBgColor_=function createElBgColor_(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},TextTrackSettings.prototype.createElWinColor_=function createElWinColor_(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},TextTrackSettings.prototype.createElColors_=function createElColors_(){return createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},TextTrackSettings.prototype.createElFont_=function createElFont_(){return createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},TextTrackSettings.prototype.createElControls_=function createElControls_(){var e=this.localize("restore all settings to the default values");return createEl("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},TextTrackSettings.prototype.content=function content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},TextTrackSettings.prototype.label=function label(){return this.localize("Caption Settings Dialog")},TextTrackSettings.prototype.description=function description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},TextTrackSettings.prototype.buildCSSClass=function buildCSSClass(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},TextTrackSettings.prototype.getValues=function getValues(){var e=this;return reduce(qr,function(t,r,n){var i=getSelectedOptionValue(e.$(r.selector),r.parser);return void 0!==i&&(t[n]=i),t},{})},TextTrackSettings.prototype.setValues=function setValues(e){var t=this;each(qr,function(r,n){setSelectedOption(t.$(r.selector),e[n],r.parser)})},TextTrackSettings.prototype.setDefaults=function setDefaults(){var e=this;each(qr,function(t){var r=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=r})},TextTrackSettings.prototype.restoreSettings=function restoreSettings(){var e=void 0;try{e=JSON.parse(t.localStorage.getItem(Rr))}catch(e){q.warn(e)}e&&this.setValues(e)},TextTrackSettings.prototype.saveSettings=function saveSettings(){if(!this.options_.persistTextTrackSettings)return;var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem(Rr,JSON.stringify(e)):t.localStorage.removeItem(Rr)}catch(e){q.warn(e)}},TextTrackSettings.prototype.updateDisplay=function updateDisplay(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},TextTrackSettings.prototype.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_=null,this.off(r,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},TextTrackSettings}(De);ge.registerComponent("TextTrackSettings",Ur);var Qr=function(e){function ResizeManager(r,n){A(this,ResizeManager);var i=n.ResizeObserver||t.ResizeObserver;null===n.ResizeObserver&&(i=!1);var o=mergeOptions({createEl:!i},n),a=M(this,e.call(this,r,o));return a.ResizeObserver=n.ResizeObserver||t.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=se(function(){a.resizeHandler()},100,!1,r),i?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(r.el())):(a.loadListener_=function(){a.el_.contentWindow&&on(a.el_.contentWindow,"resize",a.debouncedHandler_),a.off("load",a.loadListener_)},a.on("load",a.loadListener_)),a}return D(ResizeManager,e),ResizeManager.prototype.createEl=function createEl(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},ResizeManager.prototype.resizeHandler=function resizeHandler(){this.player_.trigger("playerresize")},ResizeManager.prototype.dispose=function dispose(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&off(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},ResizeManager}(ge);ge.registerComponent("ResizeManager",Qr);var zr=function sourcesetLoad(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var r=e.$$("source"),n=[],i="";if(!r.length)return!1;for(var o=0;o<r.length;o++){var a=r[o].src;a&&-1===n.indexOf(a)&&n.push(a)}if(!n.length)return!1;return 1===n.length&&(i=n[0]),e.triggerSourceset(i),!0},$r={};w||($r=Object.defineProperty({},"innerHTML",{get:function get(){return this.cloneNode(!0).innerHTML},set:function set(e){var n=r.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var i=r.createDocumentFragment();n.childNodes.length;)i.appendChild(n.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,i),this.innerHTML}}));var Gr=function getDescriptor(e,t){for(var r={},n=0;n<e.length&&!((r=Object.getOwnPropertyDescriptor(e[n],t))&&r.set&&r.get);n++);return r.enumerable=!0,r.configurable=!0,r},Kr=function getInnerHTMLDescriptor(e){return Gr([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,$r],"innerHTML")},Xr=function firstSourceWatch(e){var t=e.el();if(t.resetSourceWatch_)return;var r={},n=Kr(e),i=function appendWrapper(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(t,i);return zr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){if(!t[e])return;r[e]=t[e],t[e]=i(r[e])}),Object.defineProperty(t,"innerHTML",mergeOptions(n,{set:i(n.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(r).forEach(function(e){t[e]=r[e]}),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)},Yr={};w||(Yr=Object.defineProperty({},"src",{get:function get(){if(this.hasAttribute("src"))return Xe(t.Element.prototype.getAttribute.call(this,"src"));return""},set:function set(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}));var Jr=function getSrcDescriptor(e){return Gr([e.el(),t.HTMLMediaElement.prototype,Yr],"src")},Zr=function setupSourceset(e){if(!e.featuresSourceset)return;var t=e.el();if(t.resetSourceset_)return;var r=Jr(e),n=t.setAttribute,i=t.load;Object.defineProperty(t,"src",mergeOptions(r,{set:function set(n){var i=r.set.call(t,n);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(r,i){var o=n.call(t,r,i);return/src/i.test(r)&&e.triggerSourceset(t.src),o},t.load=function(){var r=i.call(t);return zr(e)||(e.triggerSourceset(""),Xr(e)),r},t.currentSrc?e.triggerSourceset(t.currentSrc):zr(e)||Xr(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=n,Object.defineProperty(t,"src",r),t.resetSourceWatch_&&t.resetSourceWatch_()}},en=j(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),tn=function(e){function Html5(t,r){A(this,Html5);var i=M(this,e.call(this,t,r)),o=t.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,l=s.length,u=[];l--;){var c=s[l],h;"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!Je(c.src)||(a=!0)):u.push(c))}for(var d=0;d<u.length;d++)i.el_.removeChild(u[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&q.warn(n(en)),i.restoreMetadataTracksInIOSNativePlayer_(),(O||p||b)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return D(Html5,e),Html5.prototype.dispose=function dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Html5.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},Html5.prototype.setupSourcesetHandling_=function setupSourcesetHandling_(){Zr(this)},Html5.prototype.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var e=this.textTracks(),t=void 0,r=function takeMetadataTrackSnapshot(){t=[];for(var r=0;r<e.length;r++){var n=e[r];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};r(),e.addEventListener("change",r),this.on("dispose",function(){return e.removeEventListener("change",r)});var n=function restoreTrackMode(){for(var r=0;r<t.length;r++){var n=t[r];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",restoreTrackMode)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",r),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",n)})},Html5.prototype.proxyNativeTracks_=function proxyNativeTracks_(){var e=this;ct.names.forEach(function(t){var r=ct[t],n=e.el()[r.getterName],i=e[r.getterName]();if(!e["featuresNative"+r.capitalName+"Tracks"]||!n||!n.addEventListener)return;var o={change:function change(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function addtrack(e){i.addTrack(e.track)},removetrack:function removetrack(e){i.removeTrack(e.track)}},a=function removeOldTracks(){for(var e=[],t=0;t<i.length;t++){for(var r=!1,o=0;o<n.length;o++)if(n[o]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};Object.keys(o).forEach(function(t){var r=o[t];n.addEventListener(t,r),e.on("dispose",function(e){return n.removeEventListener(t,r)})}),e.on("loadstart",a),e.on("dispose",function(t){return e.off("loadstart",a)})})},Html5.prototype.createEl=function createEl$$1(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),Html5.disposeMediaElement(e),e=t}else{e=r.createElement("video");var n,i=mergeOptions({},this.options_.tag&&getAttributes(this.options_.tag));O&&!0===this.options_.nativeControlsForTouch||delete i.controls,setAttributes(e,assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&setAttribute(e,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],l=this.options_[s];void 0!==l&&(l?setAttribute(e,s,s):removeAttribute(e,s),e[s]=l)}return e},Html5.prototype.handleLateInit_=function handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){var t=!1,r=function setLoadstartFired(){t=!0};this.on("loadstart",r);var n=function triggerLoadstart(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})},Html5.prototype.setCurrentTime=function setCurrentTime(e){try{this.el_.currentTime=e}catch(e){q(e,"Video is not ready. (Video.js)")}},Html5.prototype.duration=function duration(){var e=this;if(this.el_.duration===1/0&&v&&S&&0===this.el_.currentTime){var t=function checkProgress(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",checkProgress))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},Html5.prototype.width=function width(){return this.el_.offsetWidth},Html5.prototype.height=function height(){return this.el_.offsetHeight},Html5.prototype.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var e=this;if(!("webkitDisplayingFullscreen"in this.el_))return;var t=function endFn(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function beginFn(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)})},Html5.prototype.supportsFullScreen=function supportsFullScreen(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},Html5.prototype.enterFullScreen=function enterFullScreen(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},Html5.prototype.exitFullScreen=function exitFullScreen(){this.el_.webkitExitFullScreen()},Html5.prototype.src=function src(e){if(void 0===e)return this.el_.src;this.setSrc(e)},Html5.prototype.reset=function reset(){Html5.resetMediaElement(this.el_)},Html5.prototype.currentSrc=function currentSrc(){if(this.currentSource_)return this.currentSource_.src;return this.el_.currentSrc},Html5.prototype.setControls=function setControls(e){this.el_.controls=!!e},Html5.prototype.addTextTrack=function addTextTrack(t,r,n){if(!this.featuresNativeTextTracks)return e.prototype.addTextTrack.call(this,t,r,n);return this.el_.addTextTrack(t,r,n)},Html5.prototype.createRemoteTextTrack=function createRemoteTextTrack(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=r.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},Html5.prototype.addRemoteTextTrack=function addRemoteTextTrack(t,r){var n=e.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},Html5.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)t!==r[n]&&t!==r[n].track||this.el().removeChild(r[n])},Html5.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},Html5}(dt);if(isReal()){tn.TEST_VID=r.createElement("video");var rn=r.createElement("track");rn.kind="captions",rn.srclang="en",rn.label="English",tn.TEST_VID.appendChild(rn)}tn.isSupported=function(){try{tn.TEST_VID.volume=.5}catch(e){return!1}return!(!tn.TEST_VID||!tn.TEST_VID.canPlayType)},tn.canPlayType=function(e){return tn.TEST_VID.canPlayType(e)},tn.canPlaySource=function(e,t){return tn.canPlayType(e.type)},tn.canControlVolume=function(){try{var e=tn.TEST_VID.volume;return tn.TEST_VID.volume=e/2+.1,e!==tn.TEST_VID.volume}catch(e){return!1}},tn.canMuteVolume=function(){try{var e=tn.TEST_VID.muted;return tn.TEST_VID.muted=!e,tn.TEST_VID.muted?setAttribute(tn.TEST_VID,"muted","muted"):removeAttribute(tn.TEST_VID,"muted","muted"),e!==tn.TEST_VID.muted}catch(e){return!1}},tn.canControlPlaybackRate=function(){if(v&&S&&E<58)return!1;try{var e=tn.TEST_VID.playbackRate;return tn.TEST_VID.playbackRate=e/2+.1,e!==tn.TEST_VID.playbackRate}catch(e){return!1}},tn.canOverrideAttributes=function(){if(w)return!1;try{var e=function noop(){};Object.defineProperty(r.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(r.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(r.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(r.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},tn.supportsNativeTextTracks=function(){return x||f&&S},tn.supportsNativeVideoTracks=function(){return!(!tn.TEST_VID||!tn.TEST_VID.videoTracks)},tn.supportsNativeAudioTracks=function(){return!(!tn.TEST_VID||!tn.TEST_VID.audioTracks)},tn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],tn.prototype.featuresVolumeControl=tn.canControlVolume(),tn.prototype.featuresMuteControl=tn.canMuteVolume(),tn.prototype.featuresPlaybackRate=tn.canControlPlaybackRate(),tn.prototype.featuresSourceset=tn.canOverrideAttributes(),tn.prototype.movingMediaElementInDOM=!f,tn.prototype.featuresFullscreenResize=!0,tn.prototype.featuresProgressEvents=!0,tn.prototype.featuresTimeupdateEvents=!0,tn.prototype.featuresNativeTextTracks=tn.supportsNativeTextTracks(),tn.prototype.featuresNativeVideoTracks=tn.supportsNativeVideoTracks(),tn.prototype.featuresNativeAudioTracks=tn.supportsNativeAudioTracks();var nn=tn.TEST_VID&&tn.TEST_VID.constructor.prototype.canPlayType,an=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,sn=/^video\/mp4/i;tn.patchCanPlayType=function(){m>=4&&!C&&!S?tn.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&an.test(e))return"maybe";return nn.call(this,e)}:g&&(tn.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&sn.test(e))return"maybe";return nn.call(this,e)})},tn.unpatchCanPlayType=function(){var e=tn.TEST_VID.constructor.prototype.canPlayType;return tn.TEST_VID.constructor.prototype.canPlayType=nn,e},tn.patchCanPlayType(),tn.disposeMediaElement=function(e){if(!e)return;for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()},tn.resetMediaElement=function(e){if(!e)return;for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){tn.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){tn.prototype["set"+toTitleCase(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){tn.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){tn.prototype["set"+toTitleCase(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){tn.prototype[e]=function(){return this.el_[e]()}}),dt.withSourceHandlers(tn),tn.nativeSourceHandler={},tn.nativeSourceHandler.canPlayType=function(e){try{return tn.TEST_VID.canPlayType(e)}catch(e){return""}},tn.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return tn.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=Ye(e.src);return tn.nativeSourceHandler.canPlayType("video/"+r)}return""},tn.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},tn.nativeSourceHandler.dispose=function(){},tn.registerSourceHandler(tn.nativeSourceHandler),dt.registerTech("Html5",tn);var ln=j(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),un=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],cn={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},hn=function(e){function Player(t,r,n){if(A(this,Player),t.id=t.id||r.id||"vjs_video_"+newGUID(),(r=assign(Player.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof t.closest){var i=t.closest("[lang]");i&&i.getAttribute&&(r.language=i.getAttribute("lang"))}else for(var o=t;o&&1===o.nodeType;){if(getAttributes(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}var a=M(this,e.call(this,null,r,n));if(a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=t,a.tagAttributes=t&&getAttributes(t),a.language(a.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach(function(e){l[e.toLowerCase()]=r.languages[e]}),a.languages_=l}else a.languages_=Player.prototype.options_.languages;a.cache_={},a.poster_=r.poster||"",a.controls_=!!r.controls,a.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?a.options_.autoplay=!0:a.autoplay(a.options_.autoplay),a.scrubbing_=!1,a.el_=a.createEl(),a.cache_.lastPlaybackRate=a.defaultPlaybackRate(),evented(a,{eventBusKey:"el_"});var u=mergeOptions(a.options_);if(r.plugins){var c=r.plugins;Object.keys(c).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](c[e])},a)}a.options_.playerOptions=u,a.middleware_=[],a.initChildren(),a.isAudio("audio"===t.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),f||a.addClass("vjs-workinghover"),Player.players[a.id_]=a;var h=s.split(".")[0];return a.addClass("vjs-v"+h),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.changingSrc_=!1,a.playWaitingForReady_=!1,a.playOnLoadstart_=null,a}return D(Player,e),Player.prototype.dispose=function dispose(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),clearCacheForPlayer(this),e.prototype.dispose.call(this)},Player.prototype.createEl=function createEl$$1(){var n=this.tag,i=void 0,o=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?i=this.el_=n.parentNode:a||(i=this.el_=e.prototype.createEl.call(this,"div"));var s=getAttributes(n);if(a){for(i=this.el_=n,n=this.tag=r.createElement("video");i.children.length;)n.appendChild(i.firstChild);hasClass(i,"video-js")||addClass(i,"video-js"),i.appendChild(n),o=this.playerElIngest_=i,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(e){void 0!==i[e]&&(n[e]=i[e])})}if(n.setAttribute("tabindex","-1"),k&&n.setAttribute("role","application"),n.removeAttribute("width"),n.removeAttribute("height"),Object.getOwnPropertyNames(s).forEach(function(e){"class"===e?(i.className+=" "+s[e],a&&(n.className+=" "+s[e])):(i.setAttribute(e,s[e]),a&&n.setAttribute(e,s[e]))}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ne("vjs-styles-dimensions");var l=$(".vjs-styles-defaults"),u=$("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=n.getElementsByTagName("a"),h=0;h<c.length;h++){var p=c.item(h);addClass(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!o&&n.parentNode.insertBefore(i,n),prependTo(n,i),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=i,i},Player.prototype.width=function width(e){return this.dimension("width",e)},Player.prototype.height=function height(e){return this.dimension("height",e)},Player.prototype.dimension=function dimension(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(t);if(isNaN(n))return void q.error('Improper value "'+t+'" supplied for for '+e);this[r]=n,this.updateStyleEl_()},Player.prototype.fluid=function fluid(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},Player.prototype.aspectRatio=function aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},Player.prototype.updateStyleEl_=function updateStyleEl_(){if(!0===t.VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,r="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),r>=0&&(n.height=r)))}var i=void 0,o=void 0,a=void 0,s=void 0,l=(a=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),u=l[1]/l[0];i=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/u:this.videoWidth()||300,o=void 0!==this.height_?this.height_:i*u,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),ie(this.styleEl_,"\n      ."+s+" {\n        width: "+i+"px;\n        height: "+o+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},Player.prototype.loadTech_=function loadTech_(e,t){var r=this;this.tech_&&this.unloadTech_();var n=toTitleCase(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(dt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o,a={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};pt.names.forEach(function(e){var t=pt[e];a[t.getterName]=r[t.privateName]}),assign(a,this.options_[n]),assign(a,this.options_[i]),assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=dt.getTech(e);if(!s)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(oe(this,this.handleTechReady_),!0),Ne(this.textTracksJson_||[],this.tech_),un.forEach(function(e){r.on(r.tech_,e,r["handleTech"+toTitleCase(e)+"_"])}),Object.keys(cn).forEach(function(e){r.on(r.tech_,e,function(t){if(0===r.tech_.playbackRate()&&r.tech_.seeking())return void r.queuedCallbacks_.push({callback:r["handleTech"+cn[e]+"_"].bind(r),event:t});r["handleTech"+cn[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Player.prototype.unloadTech_=function unloadTech_(){var e=this;pt.names.forEach(function(t){var r=pt[t];e[r.privateName]=e[r.getterName]()}),this.textTracksJson_=Oe(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},Player.prototype.tech=function tech(e){return void 0===e&&q.warn(n(ln)),this.tech_},Player.prototype.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Player.prototype.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},Player.prototype.handleTechReady_=function handleTechReady_(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){q("deleting tag.poster throws in some browsers",e)}},Player.prototype.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},Player.prototype.manualAutoplay_=function manualAutoplay_(e){var t=this;if(!this.tech_||"string"!=typeof e)return;var r=function muted(){var e=t.muted();t.muted(!0);var r=t.play();if(!r||!r.then||!r.catch)return;return r.catch(function(r){t.muted(e)})},n=void 0;if("any"===e?(n=this.play())&&n.then&&n.catch&&n.catch(function(){return r()}):n="muted"===e?r():this.play(),!n||!n.then||!n.catch)return;return n.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(r){t.trigger({type:"autoplay-failure",autoplay:e})})},Player.prototype.updateSourceCaches_=function updateSourceCaches_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,r="";if("string"!=typeof t&&(t=e.src,r=e.type),/^blob:/.test(t))return;this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!r&&(r=Tt(this,t)),this.cache_.source=mergeOptions({},e,{src:t,type:r});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=getAttributes(o[s]);i.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},Player.prototype.handleTechSourceset_=function handleTechSourceset_(e){var t=this;if(!this.changingSrc_&&(this.updateSourceCaches_(e.src),!e.src)){var r=function updateCache(e){"sourceset"!==e.type&&t.updateSourceCaches_(t.techGet_("currentSrc")),t.tech_.off(["sourceset","loadstart"],updateCache)};this.tech_.one(["sourceset","loadstart"],r)}this.trigger({src:e.src,type:"sourceset"})},Player.prototype.hasStarted=function hasStarted(e){if(void 0===e)return this.hasStarted_;if(e===this.hasStarted_)return;this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")},Player.prototype.handleTechPlay_=function handleTechPlay_(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Player.prototype.handleTechRateChange_=function handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},Player.prototype.handleTechWaiting_=function handleTechWaiting_(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},Player.prototype.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Player.prototype.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Player.prototype.handleTechPlaying_=function handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")},Player.prototype.handleTechSeeking_=function handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")},Player.prototype.handleTechSeeked_=function handleTechSeeked_(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Player.prototype.handleTechFirstPlay_=function handleTechFirstPlay_(){this.options_.starttime&&(q.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},Player.prototype.handleTechPause_=function handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Player.prototype.handleTechEnded_=function handleTechEnded_(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Player.prototype.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_("duration"))},Player.prototype.handleTechClick_=function handleTechClick_(e){if(!isSingleLeftClick(e))return;if(!this.controls_)return;this.paused()?silencePromise(this.play()):this.pause()},Player.prototype.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive())},Player.prototype.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive()},Player.prototype.handleTechTouchMove_=function handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()},Player.prototype.handleTechTouchEnd_=function handleTechTouchEnd_(e){e.preventDefault()},Player.prototype.handleFullscreenChange_=function handleFullscreenChange_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Player.prototype.handleStageClick_=function handleStageClick_(){this.reportUserActivity()},Player.prototype.handleTechFullscreenChange_=function handleTechFullscreenChange_(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},Player.prototype.handleTechError_=function handleTechError_(){var e=this.tech_.error();this.error(e)},Player.prototype.handleTechTextData_=function handleTechTextData_(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},Player.prototype.getCache=function getCache(){return this.cache_},Player.prototype.techCall_=function techCall_(e,t){this.ready(function(){if(e in gt)return set$1(this.middleware_,this.tech_,e,t);if(e in _t)return mediate(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw q(e),e}},!0)},Player.prototype.techGet_=function techGet_(e){if(!this.tech_||!this.tech_.isReady_)return;if(e in mt)return get$1(this.middleware_,this.tech_,e);if(e in _t)return mediate(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw q("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw q("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw q(t),t}},Player.prototype.play=function play(){var e=this,r=this.options_.Promise||t.Promise;if(r)return new r(function(t){e.play_(t)});return this.play_()},Player.prototype.play_=function play_(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:silencePromise;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},Player.prototype.pause=function pause(){this.techCall_("pause")},Player.prototype.paused=function paused(){return!1!==this.techGet_("paused")},Player.prototype.played=function played(){return this.techGet_("played")||createTimeRanges(0,0)},Player.prototype.scrubbing=function scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},Player.prototype.currentTime=function currentTime(e){if(void 0!==e)return e<0&&(e=0),void this.techCall_("setCurrentTime",e);return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},Player.prototype.duration=function duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},Player.prototype.remainingTime=function remainingTime(){return this.duration()-this.currentTime()},Player.prototype.remainingTimeDisplay=function remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())},Player.prototype.buffered=function buffered(){var buffered=this.techGet_("buffered");return buffered&&buffered.length||(buffered=createTimeRanges(0,0)),buffered},Player.prototype.bufferedPercent=function bufferedPercent$$1(){return bufferedPercent(this.buffered(),this.duration())},Player.prototype.bufferedEnd=function bufferedEnd(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},Player.prototype.volume=function volume(e){var t=void 0;if(void 0!==e)return t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t));return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t},Player.prototype.muted=function muted(e){if(void 0!==e)return void this.techCall_("setMuted",e);return this.techGet_("muted")||!1},Player.prototype.defaultMuted=function defaultMuted(e){if(void 0!==e)return this.techCall_("setDefaultMuted",e);return this.techGet_("defaultMuted")||!1},Player.prototype.lastVolume_=function lastVolume_(e){if(void 0!==e&&0!==e)return void(this.cache_.lastVolume=e);return this.cache_.lastVolume},Player.prototype.supportsFullScreen=function supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1},Player.prototype.isFullscreen=function isFullscreen(e){if(void 0!==e)return void(this.isFullscreen_=!!e);return!!this.isFullscreen_},Player.prototype.requestFullscreen=function requestFullscreen(){var e=_e;this.isFullscreen(!0),e.requestFullscreen?(on(r,e.fullscreenchange,oe(this,function documentFullscreenChange(t){this.isFullscreen(r[e.fullscreenElement]),!1===this.isFullscreen()&&off(r,e.fullscreenchange,documentFullscreenChange),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},Player.prototype.exitFullscreen=function exitFullscreen(){var e=_e;this.isFullscreen(!1),e.requestFullscreen?r[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},Player.prototype.enterFullWindow=function enterFullWindow(){this.isFullWindow=!0,this.docOrigOverflow=r.documentElement.style.overflow,on(r,"keydown",oe(this,this.fullWindowOnEscKey)),r.documentElement.style.overflow="hidden",addClass(r.body,"vjs-full-window"),this.trigger("enterFullWindow")},Player.prototype.fullWindowOnEscKey=function fullWindowOnEscKey(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},Player.prototype.exitFullWindow=function exitFullWindow(){this.isFullWindow=!1,off(r,"keydown",this.fullWindowOnEscKey),r.documentElement.style.overflow=this.docOrigOverflow,removeClass(r.body,"vjs-full-window"),this.trigger("exitFullWindow")},Player.prototype.canPlayType=function canPlayType(e){for(var t=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var i=n[r],o=dt.getTech(i);if(o||(o=ge.getComponent(i)),!o){q.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.');continue}if(o.isSupported()&&(t=o.canPlayType(e)))return t}return""},Player.prototype.selectSource=function selectSource(e){var t=this,r=this.options_.techOrder.map(function(e){return[e,dt.getTech(e)]}).filter(function(e){var t=e[0],r=e[1];if(r)return r.isSupported();return q.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1}),n=function findFirstPassingTechSourcePair(e,t,r){var n=void 0;return e.some(function(e){return t.some(function(t){if(n=r(e,t))return!0})}),n},i=void 0,o=function flip(e){return function(t,r){return e(r,t)}},a=function finder(e,r){var n=e[0],i;if(e[1].canPlaySource(r,t.options_[n.toLowerCase()]))return{source:r,tech:n}};return(i=this.options_.sourceOrder?n(e,r,o(a)):n(r,e,a))||!1},Player.prototype.src=function src(e){var t=this;if(void 0===e)return this.cache_.src||"";var r=St(e);if(!r.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),setSource(this,r[0],function(e,n){var i;if(t.middleware_=n,t.cache_.sources=r,t.updateSourceCaches_(e),t.src_(e)){if(r.length>1)return t.src(r.slice(1));return t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady()}setTech(n,t.tech_)})},Player.prototype.src_=function src_(e){var t=this,r=this.selectSource([e]);if(!r)return!0;if(!titleCaseEquals(r.tech,this.techName_))return this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1;return this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1},Player.prototype.load=function load(){this.techCall_("load")},Player.prototype.reset=function reset(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},Player.prototype.currentSources=function currentSources(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},Player.prototype.currentSource=function currentSource(){return this.cache_.source||{}},Player.prototype.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||""},Player.prototype.currentType=function currentType(){return this.currentSource()&&this.currentSource().type||""},Player.prototype.preload=function preload(e){if(void 0!==e)return this.techCall_("setPreload",e),void(this.options_.preload=e);return this.techGet_("preload")},Player.prototype.autoplay=function autoplay(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},Player.prototype.playsinline=function playsinline(e){if(void 0!==e)return this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this;return this.techGet_("playsinline")},Player.prototype.loop=function loop(e){if(void 0!==e)return this.techCall_("setLoop",e),void(this.options_.loop=e);return this.techGet_("loop")},Player.prototype.poster=function poster(e){if(void 0===e)return this.poster_;if(e||(e=""),e===this.poster_)return;this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange")},Player.prototype.handleTechPosterChange_=function handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},Player.prototype.controls=function controls(e){if(void 0===e)return!!this.controls_;if(e=!!e,this.controls_===e)return;this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())},Player.prototype.usingNativeControls=function usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;if(e=!!e,this.usingNativeControls_===e)return;this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))},Player.prototype.error=function error(e){if(void 0===e)return this.error_||null;if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());return this.error_=new MediaError(e),this.addClass("vjs-error"),q.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error")},Player.prototype.reportUserActivity=function reportUserActivity(e){this.userActivity_=!0},Player.prototype.userActive=function userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)===this.userActive_)return;if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")},Player.prototype.listenForUserActivity_=function listenForUserActivity_(){var e=void 0,t=void 0,r=void 0,n=oe(this,this.reportUserActivity),i=function handleMouseMove(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())},o=function handleMouseDown(){n(),this.clearInterval(e),e=this.setInterval(n,250)},a=function handleMouseUp(t){n(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",n),this.on("keyup",n);var s=void 0;this.setInterval(function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;if(e<=0)return;s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)},250)},Player.prototype.playbackRate=function playbackRate(e){if(void 0!==e)return void this.techCall_("setPlaybackRate",e);if(this.tech_&&this.tech_.featuresPlaybackRate)return this.cache_.lastPlaybackRate||this.techGet_("playbackRate");return 1},Player.prototype.defaultPlaybackRate=function defaultPlaybackRate(e){if(void 0!==e)return this.techCall_("setDefaultPlaybackRate",e);if(this.tech_&&this.tech_.featuresPlaybackRate)return this.techGet_("defaultPlaybackRate");return 1},Player.prototype.isAudio=function isAudio(e){if(void 0!==e)return void(this.isAudio_=!!e);return!!this.isAudio_},Player.prototype.addTextTrack=function addTextTrack(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},Player.prototype.addRemoteTextTrack=function addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},Player.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,r=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},Player.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")},Player.prototype.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Player.prototype.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Player.prototype.language=function language(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},Player.prototype.languages=function languages(){return mergeOptions(Player.prototype.options_.languages,this.languages_)},Player.prototype.toJSON=function toJSON(){var e=mergeOptions(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];(n=mergeOptions(n)).player=void 0,e.tracks[r]=n}return e},Player.prototype.createModal=function createModal(e,t){var r=this;(t=t||{}).content=e||"";var n=new De(this,t);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open(),n},Player.getTagSettings=function getTagSettings(e){var t={sources:[],tracks:[]},r=getAttributes(e),n=r["data-setup"];if(hasClass(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var o=i(n||"{}"),a=o[0],s=o[1];a&&q.error(a),assign(r,s)}if(assign(t,r),e.hasChildNodes())for(var l=e.childNodes,u=0,c=l.length;u<c;u++){var h=l[u],p=h.nodeName.toLowerCase();"source"===p?t.sources.push(getAttributes(h)):"track"===p&&t.tracks.push(getAttributes(h))}return t},Player.prototype.flexNotSupported_=function flexNotSupported_(){var e=r.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},Player}(ge);pt.names.forEach(function(e){var t=pt[e];hn.prototype[t.getterName]=function(){if(this.tech_)return this.tech_[t.getterName]();return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),hn.players={};var pn=t.navigator;hn.prototype.options_={techOrder:dt.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:pn&&(pn.languages&&pn.languages[0]||pn.userLanguage||pn.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},w||hn.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){hn.prototype[e]=function(){return this.techGet_(e)}}),un.forEach(function(e){hn.prototype["handleTech"+toTitleCase(e)+"_"]=function(){return this.trigger(e)}}),ge.registerComponent("Player",hn);var dn="plugin",fn="activePlugins_",yn={},vn=function pluginExists(e){return yn.hasOwnProperty(e)},mn=function getPlugin(e){return vn(e)?yn[e]:void 0},gn=function markPluginAsActive(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},_n=function triggerSetupEvent(e,t,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},bn=function createBasicPlugin(e,t){var r=function basicPluginWrapper(){_n(this,{name:e,plugin:t,instance:null},!0);var r=t.apply(this,arguments);return gn(this,e),_n(this,{name:e,plugin:t,instance:r}),r};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r},Cn=function createPluginFactory(e,t){return t.prototype.name=e,function(){_n(this,{name:e,plugin:t,instance:null},!0);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=new(Function.prototype.bind.apply(t,[null].concat([this].concat(n))));return this[e]=function(){return o},_n(this,o.getEventHash()),o}},Tn=function(){function Plugin(e){if(A(this,Plugin),this.constructor===Plugin)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),gn(e,this.name),this.dispose=oe(this,this.dispose),e.on("dispose",this.dispose)}return Plugin.prototype.version=function version(){return this.constructor.VERSION},Plugin.prototype.getEventHash=function getEventHash(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},Plugin.prototype.trigger=function trigger$$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return trigger(this.eventBusEl_,e,this.getEventHash(t))},Plugin.prototype.handleStateChanged=function handleStateChanged(e){},Plugin.prototype.dispose=function dispose(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Cn(e,yn[e])},Plugin.isBasic=function isBasic(e){var t="string"==typeof e?mn(e):e;return"function"==typeof t&&!Plugin.prototype.isPrototypeOf(t.prototype)},Plugin.registerPlugin=function registerPlugin(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":I(e))+".");if(vn(e))q.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(hn.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":I(t))+".");return yn[e]=t,"plugin"!==e&&(Plugin.isBasic(t)?hn.prototype[e]=bn(e,t):hn.prototype[e]=Cn(e,t)),t},Plugin.deregisterPlugin=function deregisterPlugin(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");vn(e)&&(delete yn[e],delete hn.prototype[e])},Plugin.getPlugins=function getPlugins(){var e,t=void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(yn)).forEach(function(e){var r=mn(e);r&&((t=t||{})[e]=r)}),t},Plugin.getPluginVersion=function getPluginVersion(e){var t=mn(e);return t&&t.VERSION||""},Plugin}();Tn.getPlugin=mn,Tn.BASE_PLUGIN_NAME="plugin",Tn.registerPlugin("plugin",Tn),hn.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},hn.prototype.hasPlugin=function(e){return!!vn(e)};var Sn=function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":I(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},En=function extendFn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function subClass(){e.apply(this,arguments)},n={};for(var i in"object"===(void 0===t?"undefined":I(t))?(t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),Sn(r,e),n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r};"undefined"==typeof HTMLVideoElement&&isReal()&&(r.createElement("video"),r.createElement("audio"),r.createElement("track"),r.createElement("video-js"));var wn=function normalizeId(e){return 0===e.indexOf("#")?e.slice(1):e};function videojs(e,t,n){var i=videojs.getPlayer(e);if(i)return t&&q.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof e?$("#"+wn(e)):e;if(!isEl(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.body.contains(o)||q.warn("The element supplied is not included in the DOM"),t=t||{},videojs.hooks("beforesetup").forEach(function(e){var r=e(o,mergeOptions(t));if(!isObject(r)||Array.isArray(r))return void q.error("please return an object in beforesetup hooks");t=mergeOptions(t,r)});var a=ge.getComponent("Player");return i=new a(o,t,n),videojs.hooks("setup").forEach(function(e){return e(i)}),i}if(videojs.hooks_={},videojs.hooks=function(e,t){return videojs.hooks_[e]=videojs.hooks_[e]||[],t&&(videojs.hooks_[e]=videojs.hooks_[e].concat(t)),videojs.hooks_[e]},videojs.hook=function(e,t){videojs.hooks(e,t)},videojs.hookOnce=function(e,t){videojs.hooks(e,[].concat(t).map(function(t){var r;return function wrapper(){return videojs.removeHook(e,wrapper),t.apply(void 0,arguments)}}))},videojs.removeHook=function(e,t){var r=videojs.hooks(e).indexOf(t);if(r<=-1)return!1;return videojs.hooks_[e]=videojs.hooks_[e].slice(),videojs.hooks_[e].splice(r,1),!0},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&isReal()){var kn=$(".vjs-styles-defaults");if(!kn){kn=ne("vjs-styles-defaults");var Pn=$("head");Pn&&Pn.insertBefore(kn,Pn.firstChild),ie(kn,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}autoSetupTimeout(1,videojs),videojs.VERSION=s,videojs.options=hn.prototype.options_,videojs.getPlayers=function(){return hn.players},videojs.getPlayer=function(e){var t=hn.players,r=void 0;if("string"==typeof e){var n=wn(e),i=t[n];if(i)return i;r=$("#"+n)}else r=e;if(isEl(r)){var o=r,a=o.player,s=o.playerId;if(a||t[s])return a||t[s]}},videojs.getAllPlayers=function(){return Object.keys(hn.players).map(function(e){return hn.players[e]}).filter(Boolean)},videojs.players=hn.players,videojs.getComponent=ge.getComponent,videojs.registerComponent=function(e,t){dt.isTech(t)&&q.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ge.registerComponent.call(ge,e,t)},videojs.getTech=dt.getTech,videojs.registerTech=dt.registerTech,videojs.use=use,!w&&Object.defineProperty?(Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(videojs.middleware,"TERMINATOR",{value:vt,writeable:!1,enumerable:!0})):videojs.middleware={TERMINATOR:vt},videojs.browser=R,videojs.TOUCH_ENABLED=O,videojs.extend=En,videojs.mergeOptions=mergeOptions,videojs.bind=oe,videojs.registerPlugin=Tn.registerPlugin,videojs.deregisterPlugin=Tn.deregisterPlugin,videojs.plugin=function(e,t){return q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Tn.registerPlugin(e,t)},videojs.getPlugins=Tn.getPlugins,videojs.getPlugin=Tn.getPlugin,videojs.getPluginVersion=Tn.getPluginVersion,videojs.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),videojs.options.languages=mergeOptions(videojs.options.languages,((r={})[e]=t,r)),videojs.options.languages[e]},videojs.log=q,videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges,videojs.formatTime=Ft,videojs.setFormatTime=setFormatTime,videojs.resetFormatTime=resetFormatTime,videojs.parseUrl=Ke,videojs.isCrossOrigin=Je,videojs.EventTarget=le,videojs.on=on,videojs.one=one,videojs.off=off,videojs.trigger=trigger,videojs.xhr=o,videojs.TextTrack=rt,videojs.AudioTrack=nt,videojs.VideoTrack=it,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){videojs[e]=function(){return q.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),z[e].apply(null,arguments)}}),videojs.computedStyle=computedStyle,videojs.dom=z,videojs.url=Ze,module.exports=videojs},RW8N:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgEye(e){var t=e.title,n=void 0===t?"Eye":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("g",{transform:"translate(0.000000, 9.000000)"},r.createElement("path",{d:"M2.45946122,15 C4.52737959,17.618 13.3868082,28 23.7459918,28 C34.1061551,28 42.9655837,17.618 45.033502,15 C42.9655837,12.382 34.1061551,2 23.7459918,2 C13.3868082,2 4.52737959,12.382 2.45946122,15 M23.7459918,30 C10.9554612,30 0.849991837,16.181 0.426808163,15.593 L-0.000293877551,15 L0.426808163,14.407 C0.849991837,13.819 10.9554612,0 23.7459918,0 C36.537502,0 46.6429714,13.819 47.0661551,14.407 L47.4932571,15 L47.0661551,15.593 C46.6429714,16.181 36.537502,30 23.7459918,30"}),r.createElement("path",{d:"M23.7464816,9 C20.5050122,9 17.8689306,11.692 17.8689306,15 C17.8689306,18.308 20.5050122,21 23.7464816,21 C26.987951,21 29.6240327,18.308 29.6240327,15 C29.6240327,11.692 26.987951,9 23.7464816,9 M23.7464816,23 C19.425502,23 15.9097469,19.411 15.9097469,15 C15.9097469,10.589 19.425502,7 23.7464816,7 C28.0674612,7 31.5832163,10.589 31.5832163,15 C31.5832163,19.411 28.0674612,23 23.7464816,23"})))};(a=Object(i.pure)(a)).displayName="SvgEye",e.a=a},RsFJ:function(module,exports){function trim(e){return e.replace(/^\s*|\s*$/g,"")}(exports=module.exports=trim).left=function(e){return e.replace(/^\s*/,"")},exports.right=function(e){return e.replace(/\s*$/,"")}},SZ0Z:function(module,e,t){"use strict";var r=t("NSPt"),n=t.n(r)},TsXf:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgStarHalfFilled(e){var t=e.title,n=void 0===t?"Half Filled Star":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("g",{fillRule:"nonzero"},r.createElement("path",{d:"M24 0l-5.724 19.168L0 19.15l14.747 10.664L9.307 48 24 36.891 38.692 48l-5.438-18.186L48 19.15l-18.276.018L24 0zm0 6.954l4.274 14.309 13.318-.015-10.67 7.715 4.09 13.683L24 34.318l-11.012 8.328 4.091-13.683-10.67-7.715 13.318.015L24 6.953z"}),r.createElement("path",{d:"M23.163 4L18.28 20.177 0 19l14.756 11.43L9 48l15-11V4z"})))};(a=Object(i.pure)(a)).displayName="SvgStarHalfFilled",e.a=a},ULai:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgThumbsUp(e){var t=e.title,n=void 0===t?"Thumbs Up":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("path",{d:"M4.358,22.274 L6.749,36.715 C7.472,42.179 12.039,46.274 17.378,46.274 L35.43,46.274 C36.741,46.101 43.819,40.689 44.18,32.232 C44.33,28.705 43.587,26.061 41.97,24.374 C40.153,22.479 37.665,22.274 36.679,22.274 L28.179,22.274 C26.538,22.311 25.251,21.716 24.556,20.618 C23.842,19.489 23.876,18.01 24.65,16.452 L26.349,13.401 C27.652,11.144 28.03,8.678 27.394,6.624 C26.88,4.966 25.716,3.58 24.005,2.578 L10.71,22.274 L4.358,22.274 Z M35.43,48.274 L17.378,48.274 C11.04,48.274 5.62,43.431 4.772,37.01 L2,20.274 L9.648,20.274 L23.333,0 L24.11,0.372 C26.753,1.637 28.549,3.594 29.304,6.032 C30.105,8.617 29.662,11.663 28.089,14.388 L26.419,17.384 C25.996,18.237 25.925,19.041 26.247,19.549 C26.553,20.034 27.245,20.274 28.16,20.274 L36.679,20.274 C37.921,20.274 41.065,20.539 43.414,22.991 C45.422,25.086 46.352,28.224 46.178,32.316 C45.78,41.653 37.863,48.274 35.43,48.274 L35.43,48.274 Z"}))};(a=Object(i.pure)(a)).displayName="SvgThumbsUp",e.a=a},WG1l:function(module,exports,e){module.exports=function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var module=t[r]={exports:{},id:r,loaded:!1};return e[r].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,e){module.exports=e(1)},function(module,exports,e){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t,r=_interopRequireDefault(e(2));exports.default=r.default,module.exports=exports.default},function(module,exports,e){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Highlighter;var t=e(3),r,n=_interopRequireDefault(e(4)),i,o=_interopRequireDefault(e(14)),a,s=_interopRequireDefault(e(15));function Highlighter(e){var r=e.activeClassName,n=void 0===r?"":r,i=e.activeIndex,a=void 0===i?-1:i,l=e.activeStyle,u=e.autoEscape,c=e.caseSensitive,h=void 0!==c&&c,p=e.className,d=e.findChunks,f=e.highlightClassName,y=void 0===f?"":f,v=e.highlightStyle,m=void 0===v?{}:v,g=e.highlightTag,b=void 0===g?"mark":g,C=e.sanitize,T=e.searchWords,S=e.textToHighlight,E=e.unhighlightClassName,w=void 0===E?"":E,k=e.unhighlightStyle,P=(0,t.findAll)({autoEscape:u,caseSensitive:h,findChunks:d,sanitize:C,searchWords:T,textToHighlight:S}),x=b,O=-1,N="",R=void 0,I=function lowercaseProps(e){var t={};for(var r in e)t[r.toLowerCase()]=e[r];return t},A=(0,s.default)(I);return o.default.createElement("span",{className:p},P.map(function(e,t){var r=S.substr(e.start,e.end-e.start);if(e.highlight){O++;var i=void 0;i="object"==typeof y?h?y[r]:(y=A(y))[r.toLowerCase()]:y;var s=O===+a;return N=i+" "+(s?n:""),R=!0===s&&null!=l?Object.assign({},m,l):m,o.default.createElement(x,{className:N,key:t,style:R},r)}return o.default.createElement("span",{className:w,key:t,style:k},r)}))}Highlighter.propTypes={activeClassName:n.default.string,activeIndex:n.default.number,activeStyle:n.default.object,autoEscape:n.default.bool,className:n.default.string,findChunks:n.default.func,highlightClassName:n.default.oneOfType([n.default.object,n.default.string]),highlightStyle:n.default.object,highlightTag:n.default.oneOfType([n.default.node,n.default.func,n.default.string]),sanitize:n.default.func,searchWords:n.default.arrayOf(n.default.oneOfType([n.default.string,n.default.instanceOf(RegExp)])).isRequired,textToHighlight:n.default.string.isRequired,unhighlightClassName:n.default.string,unhighlightStyle:n.default.object},module.exports=exports.default},function(module,exports){module.exports=function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var module=t[r]={exports:{},id:r,loaded:!1};return e[r].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,e){module.exports=e(1)},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=e(2);Object.defineProperty(exports,"combineChunks",{enumerable:!0,get:function get(){return t.combineChunks}}),Object.defineProperty(exports,"fillInChunks",{enumerable:!0,get:function get(){return t.fillInChunks}}),Object.defineProperty(exports,"findAll",{enumerable:!0,get:function get(){return t.findAll}}),Object.defineProperty(exports,"findChunks",{enumerable:!0,get:function get(){return t.findChunks}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.findAll=function findAll(e){var i=e.autoEscape,o=e.caseSensitive,a=void 0!==o&&o,s=e.findChunks,l=void 0===s?r:s,u=e.sanitize,c=e.searchWords,h=e.textToHighlight;return n({chunksToHighlight:t({chunks:l({autoEscape:i,caseSensitive:a,sanitize:u,searchWords:c,textToHighlight:h})}),totalLength:h?h.length:0})},t=exports.combineChunks=function combineChunks(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var r=e.pop();if(t.start<=r.end){var n=Math.max(r.end,t.end);e.push({start:r.start,end:n})}else e.push(r,t);return e},[])},r=function defaultFindChunks(e){var t=e.autoEscape,r=e.caseSensitive,n=e.sanitize,i=void 0===n?identity:n,o=e.searchWords,a=e.textToHighlight;return a=i(a),o.filter(function(e){return e}).reduce(function(e,n){n=i(n),t&&(n=escapeRegExpFn(n));for(var o=new RegExp(n,r?"g":"gi"),s=void 0;s=o.exec(a);){var l=s.index,u=o.lastIndex;u>l&&e.push({start:l,end:u}),s.index==o.lastIndex&&o.lastIndex++}return e},[])};exports.findChunks=r;var n=exports.fillInChunks=function fillInChunks(e){var t=e.chunksToHighlight,r=e.totalLength,n=[],i=function append(e,t,r){t-e>0&&n.push({start:e,end:t,highlight:r})};if(0===t.length)i(0,r,!1);else{var o=0;t.forEach(function(e){i(o,e.start,!1),i(e.start,e.end,!0),o=e.end}),i(o,r,!1)}return n};function identity(e){return e}function escapeRegExpFn(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(module,exports,e){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},i=!0;module.exports=e(6)(n,!0)}else module.exports=e(13)()}).call(exports,e(5))},function(module,exports){var e=module.exports={},t,r;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var n=[],i=!1,o,a=-1;function cleanUpNextTick(){if(!i||!o)return;i=!1,o.length?n=o.concat(n):a=-1,n.length&&drainQueue()}function drainQueue(){if(i)return;var e=runTimeout(cleanUpNextTick);i=!0;for(var t=n.length;t;){for(o=n,n=[];++a<t;)o&&o[a].run();a=-1,t=n.length}o=null,i=!1,runClearTimeout(e)}function Item(e,t){this.fun=e,this.array=t}function noop(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.push(new Item(e,t)),1!==n.length||i||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=noop,e.addListener=noop,e.once=noop,e.off=noop,e.removeListener=noop,e.removeAllListeners=noop,e.emit=noop,e.prependListener=noop,e.prependOnceListener=noop,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(module,exports,e){(function(t){"use strict";var r=e(7),n=e(8),i=e(9),o=e(10),a=e(11),s=e(12);module.exports=function(e,l){var u="function"==typeof Symbol&&Symbol.iterator,c="@@iterator";function getIteratorFn(e){var t=e&&(u&&e[u]||e[c]);if("function"==typeof t)return t}var h="<<anonymous>>",p={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){if("production"!==t.env.NODE_ENV)var r={},o=0;function checkType(s,u,c,p,d,f,y){if(p=p||h,f=f||c,y!==a)if(l)n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=p+":"+c;!r[v]&&o<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,p),r[v]=!0,o++)}if(null==u[c]){if(s){if(null===u[c])return new PropTypeError("The "+d+" `"+f+"` is marked as required in `"+p+"`, but its value is `null`.");return new PropTypeError("The "+d+" `"+f+"` is marked as required in `"+p+"`, but its value is `undefined`.")}return null}return e(u,c,p,d,f)}var s=checkType.bind(null,!1);return s.isRequired=checkType.bind(null,!0),s}function createPrimitiveTypeChecker(e){function validate(t,r,n,i,o,a){var s=t[r],l,u;if(getPropType(s)!==e)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPreciseType(s)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(r.thatReturnsNull)}function createArrayOfTypeChecker(e){function validate(t,r,n,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r],l;if(!Array.isArray(s))return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(s)+"` supplied to `"+n+"`, expected an array.");for(var u=0;u<s.length;u++){var c=e(s,u,n,i,o+"["+u+"]",a);if(c instanceof Error)return c}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(t,r,n,i,o){var a=t[r],s;if(!e(a))return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+n+"`, expected a single ReactElement.");return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,r,n,i,o){if(!(t[r]instanceof e)){var a=e.name||h,s;return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getClassName(t[r])+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull;function validate(t,r,n,i,o){for(var a=t[r],s=0;s<e.length;s++)if(is(a,e[s]))return null;var l;return new PropTypeError("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(e){function validate(t,r,n,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[r],l=getPropType(s);if("object"!==l)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,n,i,o+"."+u,a);if(c instanceof Error)return c}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",getPostfixForTypeWarning(o),n),r.thatReturnsNull}function validate(t,r,n,i,o){for(var s=0;s<e.length;s++){var l;if(null==(0,e[s])(t,r,n,i,o,a))return null}return new PropTypeError("Invalid "+i+" `"+o+"` supplied to `"+n+"`.")}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(e,t,r,n,i){if(!isNode(e[t]))return new PropTypeError("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.");return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(e){function validate(t,r,n,i,o){var s=t[r],l=getPropType(s);if("object"!==l)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var c=e[u];if(!c)continue;var h=c(s,u,n,i,o+"."+u,a);if(h)return h}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(e){function validate(t,r,n,i,s){var l=t[r],u=getPropType(l);if("object"!==u)return new PropTypeError("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");var c=o({},t[r],e);for(var h in c){var p=e[h];if(!p)return new PropTypeError("Invalid "+i+" `"+s+"` key `"+h+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=p(l,h,n,i,s+"."+h,a);if(d)return d}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var r=getIteratorFn(t);if(!r)return!1;var n=r.call(t),i;if(r!==t.entries){for(;!(i=n.next()).done;)if(!isNode(i.value))return!1}else for(;!(i=n.next()).done;){var o=i.value;if(o&&!isNode(o[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){if("symbol"===e)return!0;if("Symbol"===t["@@toStringTag"])return!0;if("function"==typeof Symbol&&t instanceof Symbol)return!0;return!1}function getPropType(e){var t=typeof e;if(Array.isArray(e))return"array";if(e instanceof RegExp)return"object";if(isSymbol(t,e))return"symbol";return t}function getPreciseType(e){if(void 0===e||null===e)return""+e;var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getPostfixForTypeWarning(e){var t=getPreciseType(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function getClassName(e){if(!e.constructor||!e.constructor.name)return h;return e.constructor.name}return PropTypeError.prototype=Error.prototype,p.checkPropTypes=s,p.PropTypes=p,p}}).call(exports,e(5))},function(module,exports){"use strict";function makeEmptyFunction(e){return function(){return e}}var e=function emptyFunction(){};e.thatReturns=makeEmptyFunction,e.thatReturnsFalse=makeEmptyFunction(!1),e.thatReturnsTrue=makeEmptyFunction(!0),e.thatReturnsNull=makeEmptyFunction(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(e){return e},module.exports=e},function(module,exports,e){(function(e){"use strict";var t=function validateFormat(e){};function invariant(e,r,n,i,o,a,s,l){if(t(r),!e){var u;if(void 0===r)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],h=0;(u=new Error(r.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}"production"!==e.env.NODE_ENV&&(t=function validateFormat(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),module.exports=invariant}).call(exports,e(5))},function(module,exports,e){(function(t){"use strict";var r,n=e(7);if("production"!==t.env.NODE_ENV){var i=function printWarning(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o="Warning: "+e.replace(/%s/g,function(){return r[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};n=function warning(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0===t.indexOf("Failed Composite propType: "))return;if(!e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];i.apply(void 0,[t].concat(n))}}}module.exports=n}).call(exports,e(5))},function(module,exports){
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}module.exports=shouldUseNative()?Object.assign:function(n,i){for(var o,a=toObject(n),s,l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))t.call(o,u)&&(a[u]=o[u]);if(e){s=e(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},function(module,exports){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=e},function(module,exports,e){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var r=e(8),n=e(9),i=e(11),o={};function checkPropTypes(e,a,s,l,u){if("production"!==t.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var h;try{r("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,c,typeof e[c]),h=e[c](a,c,l,s,null,i)}catch(e){h=e}if(n(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,c,typeof h),h instanceof Error&&!(h.message in o)){o[h.message]=!0;var p=u?u():"";n(!1,"Failed %s type: %s%s",s,h.message,null!=p?p:"")}}}module.exports=checkPropTypes}).call(exports,e(5))},function(module,exports,e){"use strict";var t=e(7),r=e(8),n=e(11);module.exports=function(){function shim(e,t,i,o,a,s){if(s===n)return;r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return e.checkPropTypes=t,e.PropTypes=e,e}},function(module,exports){module.exports=e("sbe7")},function(module,exports){"use strict";var e=function simpleIsEqual(e,t){return e===t};function index(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=void 0,i=[],o=void 0,a=!1,s=function isNewArgEqualToLast(e,t){return r(e,i[t])},l;return function result(){for(var e=arguments.length,r=Array(e),l=0;l<e;l++)r[l]=arguments[l];if(a&&n===this&&r.length===i.length&&r.every(s))return o;return a=!0,n=this,i=r,o=t.apply(this,r)}}module.exports=index}])},ZESv:function(module,exports,e){var t=e("RsFJ"),r=e("0CSc"),n=function(e){return"[object Array]"===Object.prototype.toString.call(e)};module.exports=function(e){if(!e)return{};var i={};return r(t(e).split("\n"),function(e){var r=e.indexOf(":"),o=t(e.slice(0,r)).toLowerCase(),a=t(e.slice(r+1));void 0===i[o]?i[o]=a:n(i[o])?i[o].push(a):i[o]=[i[o],a]}),i}},ZdEQ:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgStarFilled(e){var t=e.title,n=void 0===t?"Filled Star":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("polygon",{points:"24.236 1 18.455 19.323 0 19.305 14.892 29.499 9.399 46.883 24.236 36.264 39.072 46.883 33.58 29.499 48.471 19.305 30.016 19.323"}))};(a=Object(i.pure)(a)).displayName="SvgStarFilled",e.a=a},bN0A:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function Svga404(e){var t=e.size,n=e.width,i=e.style,a=void 0===i?{}:i,s=e.title,l=void 0===s?"404":s,u=_objectWithoutProperties(e,["size","width","style","title"]),c=n||t,h,p=_objectSpread({},a,{width:c,height:222*c/569});return r.createElement(o.a,_extends({title:l},u,{viewBox:"0 0 569 222",style:p}),r.createElement("defs",null,r.createElement("linearGradient",{x1:"0%",y1:"48.98%",x2:"99.191%",y2:"51.004%",id:"a"},r.createElement("stop",{stopColor:"#5D9CEC",offset:"0%"}),r.createElement("stop",{stopColor:"#967ADC",offset:"100%"})),r.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"b"},r.createElement("stop",{stopColor:"#ED5565",offset:"0%"}),r.createElement("stop",{stopColor:"#E9573F",offset:"100%"})),r.createElement("linearGradient",{x1:"0%",y1:"29.337%",y2:"70.663%",id:"c"},r.createElement("stop",{stopColor:"#FFD878",offset:"0%"}),r.createElement("stop",{stopColor:"#FFCE54",offset:"100%"})),r.createElement("linearGradient",{x1:"0%",y1:"37.5%",y2:"62.5%",id:"d"},r.createElement("stop",{stopColor:"#FC6E51",offset:"0%"}),r.createElement("stop",{stopColor:"#F6BB42",offset:"100%"})),r.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"99.191%",y2:"99.191%",id:"e"},r.createElement("stop",{stopColor:"#2D2F3C",offset:"0%"}),r.createElement("stop",{stopColor:"#394C65",offset:"100%"})),r.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"99.191%",y2:"99.191%",id:"f"},r.createElement("stop",{stopColor:"#2838A6",offset:"0%"}),r.createElement("stop",{stopColor:"#394C65",offset:"100%"})),r.createElement("linearGradient",{x1:"0%",y1:"0%",x2:"99.191%",y2:"99.191%",id:"g"},r.createElement("stop",{stopColor:"#A028A6",offset:"0%"}),r.createElement("stop",{stopColor:"#4F1C43",offset:"100%"}))),r.createElement("g",{fillRule:"nonzero",fill:"none"},r.createElement("path",{fill:"url(#a)",transform:"rotate(80 74.825 168.267)",d:"M64.825 98.267h20v140h-20z"}),r.createElement("path",{fill:"#0014BC",d:"M72.723 30l3.76 1.368-54.724 150.35L18 180.35z"}),r.createElement("circle",{fill:"url(#b)",cx:"256",cy:"106",r:"100"}),r.createElement("path",{fill:"url(#c)",transform:"rotate(5 326 106)",d:"M371 36v140h-90z"}),r.createElement("path",{fill:"#F9AEAE",d:"M86.086 121.346l3.984-.35 7.844 89.658-3.984.35z"}),r.createElement("path",{fill:"url(#d)",transform:"rotate(-5 366.558 182.193)",d:"M356.558 152.193h25v10h-20v50h-10v-60z"}),r.createElement("circle",{fill:"url(#e)",cx:"101",cy:"154",r:"15"}),r.createElement("circle",{fill:"url(#f)",opacity:".8",cx:"451",cy:"142",r:"5"}),r.createElement("circle",{fill:"url(#g)",opacity:".3",cx:"495",cy:"112",r:"3"}),r.createElement("path",{fill:"#EB9393",d:"M514.553 121.674l49.24 8.682-.346 1.97-49.24-8.682z"}),r.createElement("path",{d:"M324.626 92.115l-7.511 14.127 14.127 7.511 7.511-14.127-14.127-7.511zm8.27 27.048l-21.191-11.267 11.267-21.191 21.19 11.267-11.266 21.19z",fill:"#FFF"})))};(a=Object(i.pure)(a)).displayName="Svga404",e.a=a},cwau:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("17x9"),o=t.n(i),a=t("CsdX"),s=t("MnCE"),l=t("lU33");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function getComponentHtml(e,t,n,i){var o={breakPoint:n};return i&&(o.breakPointNumber=a.a[n]),r.createElement(e,_extends({},t,o))}var u=function withBreakPoint(e){var t=e.displayName||e.name,n=function HOC(t){var n=t.showBreakPointNumber;return r.createElement(l.a,{query:{minWidth:a.a.xxl}},function(i){if(i)return getComponentHtml(e,t,"xxl",n);return r.createElement(l.a,{query:{minWidth:a.a.xl}},function(i){if(i)return getComponentHtml(e,t,"xl",n);return r.createElement(l.a,{query:{minWidth:a.a.lg}},function(i){if(i)return getComponentHtml(e,t,"lg",n);return r.createElement(l.a,{query:{minWidth:a.a.md}},function(i){if(i)return getComponentHtml(e,t,"md",n);return r.createElement(l.a,{query:{minWidth:a.a.sm}},function(r){if(r)return getComponentHtml(e,t,"sm",n);return getComponentHtml(e,t,"xs",n)})})})})})};return Object(s.hoistStatics)(e,n),n.propTypes={showBreakPointNumber:o.a.bool},n.displayName="withBreakPoint(".concat(t,")"),n};e.a=u},g2LC:function(module,exports){module.exports=isFunction;var e=Object.prototype.toString;function isFunction(t){var r=e.call(t);return"[object Function]"===r||"function"==typeof t&&"[object RegExp]"!==r||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},jBAH:function(module,exports){function SafeParseTuple(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}module.exports=SafeParseTuple},"jH/L":function(module,e,t){"use strict";t.d(e,"a",function(){return C});var r=t("sbe7"),n=t.n(r),i=t("17x9"),o=t.n(i),a=t("mrsT"),s=t.n(a),l=t("CsdX"),u=t("ZdEQ"),c=t("9kOe"),h=t("6qBw"),p=t("TsXf"),d=t("OVg0"),f=t("VYij"),y=t.n(f);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;return _assertThisInitialized(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=.4,m=18,g=6,b=a.StyleSheet.create({StarRating:{display:"inline-block",position:"relative"},nonEditable:{cursor:"not-allowed"},star:{cursor:"default"},starInteractive:{cursor:"pointer"}});function defaultRenderStarFn(e){var t=e.color,n=e.enableColorOpacity,i=e.hoverColor,o=e.index,a=e.isEmpty,s=e.isFull,l=e.isHalf,f=e.isInteractive,y=e.isThemeDark,g=e.rating,b=e.starSpacing,C=f?{hoverColor:i}:{},T=s?u.a:c.a;if(n){var S=a?Object(d.b)(t,v):t;return l&&(T=h.a),r.createElement(T,_extends({style:{marginRight:b,verticalAlign:"text-bottom"},size:m,color:S},C))}return l&&(T=p.a),r.createElement(T,_extends({style:{marginRight:b,verticalAlign:"text-bottom"},size:m,color:t},C))}var C=function(e){function StarRating(e,t){var n;return _classCallCheck(this,StarRating),_defineProperty(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(StarRating).call(this,e,t))),"onChange",function(e){return function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation());var r=n.props,i=r.onChange,o=r.isInteractive,a=r.name;n.props.isInteractive&&n.setState(function(){return{rating:e}}),o&&i&&i(e,a)}}),_defineProperty(_assertThisInitialized(n),"renderStars",function(){var e=n.props,t=e.name,i=e.limit,o=e.isInteractive,a=e.tabIndex,s=e.renderStar,u=e.isThemeDark,c=e.color,h=e.hoverColor,p=e.enableColorOpacity,d=e.starSpacing,f=n.state.rating,v=o?a:-1;return y()(i).range().reduce(function(e,i){var a=i+1,y="".concat(t,"_").concat(a),m=r.createElement("input",{key:y,id:y,className:"sr-only",type:"radio",name:t,value:a,checked:f===a,onChange:n.onChange(a),disabled:!o}),g=o?{onClick:n.onChange(a),onKeyPress:n.onChange(a),tabIndex:v}:{},C=Math.floor(f)===i&&f%1!=0,T=!C&&i<f,S=i>=f,E=r.createElement("label",_extends({key:"label~".concat(y)},Object(l.d)("d-inline-block",b.star,o&&b.starInteractive),g,{htmlFor:y}),m,s({index:i,rating:f,isThemeDark:u,isFull:T,isHalf:C,isEmpty:S,color:c,enableColorOpacity:p,isInteractive:o,hoverColor:h,starSpacing:d}));return e.push(E),e},[])}),n.state={rating:e.rating},n}return _inherits(StarRating,e),_createClass(StarRating,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){"rating"in e&&e.rating!==this.state.rating&&this.setState(function(){return{rating:e.rating}})}},{key:"render",value:function render(){var e=this.props,t=e.isInteractive,n=e.htmlAttributes,i=e.style,o=e.rootClassName;return r.createElement("div",_extends({},n,Object(l.d)(o,b.StarRating,!t&&b.nonEditable),{style:i}),this.renderStars())}}]),StarRating}(r.Component);_defineProperty(C,"propTypes",{rootClassName:o.a.oneOfType([o.a.string,o.a.object]),style:o.a.object,htmlAttributes:o.a.object,isThemeDark:o.a.bool,name:o.a.string,rating:o.a.number.isRequired,tabIndex:o.a.number,starSpacing:o.a.number,isInteractive:o.a.bool,enableColorOpacity:o.a.bool,limit:o.a.number,onChange:o.a.func,renderStar:o.a.func,color:o.a.string,hoverColor:o.a.string}),_defineProperty(C,"defaultProps",{rootClassName:"",style:{},htmlAttributes:{},name:"StarRating",limit:5,rating:0,tabIndex:0,color:l.b.warning,hoverColor:Object(d.a)(l.b.warning,.4),renderStar:defaultRenderStarFn,starSpacing:6})},lU33:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r);function createCommonjsModule(e,module){return e(module={exports:{}},module.exports),module.exports}function makeEmptyFunction(e){return function(){return e}}var i=function emptyFunction(){};i.thatReturns=makeEmptyFunction,i.thatReturnsFalse=makeEmptyFunction(!1),i.thatReturnsTrue=makeEmptyFunction(!0),i.thatReturnsNull=makeEmptyFunction(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function validateFormat(e){};function invariant(e,t,r,n,i,o,s,l){if(a(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,o,s,l],h=0;(u=new Error(t.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var s=invariant,l,u,c=o,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}var f=shouldUseNative()?Object.assign:function(e,t){for(var r,n=toObject(e),i,o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))p.call(r,a)&&(n[a]=r[a]);if(h){i=h(r);for(var s=0;s<i.length;s++)d.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n},y,v="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m,g,b,C;function checkPropTypes(e,t,r,n,i){var o,a,s}var T=checkPropTypes,S=function(e,t){var r="function"==typeof Symbol&&Symbol.iterator,n="@@iterator";function getIteratorFn(e){var t=e&&(r&&e[r]||e[n]);if("function"==typeof t)return t}var i="<<anonymous>>",a={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function PropTypeError(e){this.message=e,this.stack=""}function createChainableTypeChecker(e){var r,n;function checkType(r,n,o,a,l,u,c){var h;(a=a||i,u=u||o,c!==v)&&(t&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));if(null==n[o]){if(r){if(null===n[o])return new PropTypeError("The "+l+" `"+u+"` is marked as required in `"+a+"`, but its value is `null`.");return new PropTypeError("The "+l+" `"+u+"` is marked as required in `"+a+"`, but its value is `undefined`.")}return null}return e(n,o,a,l,u)}var o=checkType.bind(null,!1);return o.isRequired=checkType.bind(null,!0),o}function createPrimitiveTypeChecker(e){function validate(t,r,n,i,o,a){var s=t[r],l,u;if(getPropType(s)!==e)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPreciseType(s)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(o.thatReturnsNull)}function createArrayOfTypeChecker(e){function validate(t,r,n,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=t[r],s;if(!Array.isArray(a))return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<a.length;l++){var u=e(a,l,n,i,o+"["+l+"]",v);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(t,r,n,i,o){var a=t[r],s;if(!e(a))return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+getPropType(a)+"` supplied to `"+n+"`, expected a single ReactElement.");return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(e){function validate(t,r,n,o,a){if(!(t[r]instanceof e)){var s=e.name||i,l;return new PropTypeError("Invalid "+o+" `"+a+"` of type `"+getClassName(t[r])+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(e){if(!Array.isArray(e))return o.thatReturnsNull;function validate(t,r,n,i,o){for(var a=t[r],s=0;s<e.length;s++)if(is(a,e[s]))return null;var l;return new PropTypeError("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(e){function validate(t,r,n,i,o){if("function"!=typeof e)return new PropTypeError("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=t[r],s=getPropType(a);if("object"!==s)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var u=e(a,l,n,i,o+"."+l,v);if(u instanceof Error)return u}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(e){if(!Array.isArray(e))return o.thatReturnsNull;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return c(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",getPostfixForTypeWarning(r),t),o.thatReturnsNull}function validate(t,r,n,i,o){for(var a=0;a<e.length;a++){var s;if(null==(0,e[a])(t,r,n,i,o,v))return null}return new PropTypeError("Invalid "+i+" `"+o+"` supplied to `"+n+"`.")}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(e,t,r,n,i){if(!isNode(e[t]))return new PropTypeError("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.");return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(e){function validate(t,r,n,i,o){var a=t[r],s=getPropType(a);if("object"!==s)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var l in e){var u=e[l];if(!u)continue;var c=u(a,l,n,i,o+"."+l,v);if(c)return c}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(e){function validate(t,r,n,i,o){var a=t[r],s=getPropType(a);if("object"!==s)return new PropTypeError("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");var l=f({},t[r],e);for(var u in l){var c=e[u];if(!c)return new PropTypeError("Invalid "+i+" `"+o+"` key `"+u+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=c(a,u,n,i,o+"."+u,v);if(h)return h}return null}return createChainableTypeChecker(validate)}function isNode(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(isNode);if(null===t||e(t))return!0;var r=getIteratorFn(t);if(!r)return!1;var n=r.call(t),i;if(r!==t.entries){for(;!(i=n.next()).done;)if(!isNode(i.value))return!1}else for(;!(i=n.next()).done;){var o=i.value;if(o&&!isNode(o[1]))return!1}return!0;default:return!1}}function isSymbol(e,t){if("symbol"===e)return!0;if("Symbol"===t["@@toStringTag"])return!0;if("function"==typeof Symbol&&t instanceof Symbol)return!0;return!1}function getPropType(e){var t=typeof e;if(Array.isArray(e))return"array";if(e instanceof RegExp)return"object";if(isSymbol(t,e))return"symbol";return t}function getPreciseType(e){if(void 0===e||null===e)return""+e;var t=getPropType(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function getPostfixForTypeWarning(e){var t=getPreciseType(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function getClassName(e){if(!e.constructor||!e.constructor.name)return i;return e.constructor.name}return PropTypeError.prototype=Error.prototype,a.checkPropTypes=T,a.PropTypes=a,a},E=function(){function shim(e,t,r,n,i,o){if(o===v)return;s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return e.checkPropTypes=o,e.PropTypes=e,e},w=createCommonjsModule(function(module){var e,t,r;module.exports=E()}),k="production",P,x=function(e,t,r,n,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},O,N=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},R=function(e){var t;return/[height|width]$/.test(e)},I=function(e){var t="",r=Object.keys(e);return r.forEach(function(n,i){var o=e[n];n=N(n),R(n)&&"number"==typeof o&&(o+="px"),t+=!0===o?n:!1===o?"not "+n:"("+n+": "+o+")",i<r.length-1&&(t+=" and ")}),t},A,D=function(e){var t="";if("string"==typeof e)return e;if(e instanceof Array)return e.forEach(function(r,n){t+=I(r),n<e.length-1&&(t+=", ")}),t;return I(e)},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},L=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},F=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},B=function(e){function Media(){var t,r,n;j(this,Media);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=F(this,e.call.apply(e,[this].concat(o))),r.state={matches:r.props.defaultMatches},r.updateMatches=function(){return r.setState({matches:r.mediaQueryList.matches})},F(r,n=t)}return L(Media,e),Media.prototype.componentWillMount=function componentWillMount(){if("object"!==("undefined"==typeof window?"undefined":M(window)))return;var e=this.props.targetWindow||window;x("function"==typeof e.matchMedia,"<Media targetWindow> does not support `matchMedia`.");var t=this.props.query;"string"!=typeof t&&(t=D(t)),this.mediaQueryList=e.matchMedia(t),this.mediaQueryList.addListener(this.updateMatches),this.updateMatches()},Media.prototype.componentWillUnmount=function componentWillUnmount(){this.mediaQueryList.removeListener(this.updateMatches)},Media.prototype.render=function render(){var e=this.props,t=e.children,render=e.render,r=this.state.matches;return render?r?render():null:t?"function"==typeof t?t(r):(!Array.isArray(t)||t.length)&&r?n.a.Children.only(t):null:null},Media}(n.a.Component);B.propTypes={defaultMatches:w.bool,query:w.oneOfType([w.string,w.object,w.arrayOf(w.object.isRequired)]).isRequired,render:w.func,children:w.oneOfType([w.node,w.func]),targetWindow:w.object},B.defaultProps={defaultMatches:!0},e.a=B},m10x:function(module,e,t){"use strict";t.d(e,"a",function(){return H2}),t.d(e,"b",function(){return H3}),t.d(e,"c",function(){return H4});var r=t("sbe7"),n=t.n(r),i=t("mrsT"),o=t.n(i),a=t("CsdX");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var s=i.StyleSheet.create({fontHeadline:{fontFamily:a.f.headline},fontBody:{fontFamily:a.f.body},fontDisplay:{fontFamily:a.f.display},bold:{fontFamily:a.f.bold},displayBold:{fontFamily:a.f.displayBold},weightLighter:{fontWeight:"lighter"},weightNormal:{fontWeight:"normal"},weightBold:{fontWeight:"bold"},H1:{fontSize:"3rem",lineHeight:"3.75rem"},H1Xl:{fontSize:"3.75rem",lineHeight:"4.5rem"},H2:{fontSize:"2.125rem",lineHeight:"2.625rem"},H3:{fontSize:"1.5rem",lineHeight:"1.875rem"},H4:{fontSize:"1.25rem",lineHeight:"1.5rem"},P:{fontSize:"0.875rem",lineHeight:"1.5rem"},Strong:{fontSize:"0.875rem",lineHeight:"1.5rem"},Caption:{fontSize:"0.75rem",lineHeight:"1.125rem",color:a.b.textPrimary},Label:{fontSize:"0.75rem",lineHeight:"1.125rem",textTransform:"uppercase"}});function H1(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h1";return r.createElement(o,_extends({},Object(a.d)(t,s.H1,s.weightNormal,s.fontHeadline),i))}function H2(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h2";return r.createElement(o,_extends({},Object(a.d)(t,s.H2,s.weightNormal,s.fontHeadline),i))}function H3(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h3";return r.createElement(o,_extends({},Object(a.d)(t,s.H3,s.weightNormal,s.fontHeadline),i))}function H4Light(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h4";return r.createElement(o,_extends({},Object(a.d)(t,s.H4,s.weightLighter,s.fontHeadline),i))}function H4(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h4";return r.createElement(o,_extends({},Object(a.d)(t,s.H4,s.weightNormal,s.fontBody),i))}function H4Bold(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h4";return r.createElement(o,_extends({},Object(a.d)(t,s.H4,s.weightBold,s.bold),i))}function View(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"div";return r.createElement(o,_extends({},Object(a.d)(t,s.P,s.weightNormal,s.fontBody),i))}function P(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"p";return r.createElement(o,_extends({},Object(a.d)(t,s.P,s.weightNormal,s.fontBody),i))}function Strong(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"strong";return r.createElement(o,_extends({},Object(a.d)(t,s.Strong,s.weightBold,s.fontBody),i))}function Caption(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"div";return r.createElement(o,_extends({},Object(a.d)(t,s.Caption,s.weightNormal,s.fontBody),i))}function Label(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"label";return r.createElement(o,_extends({},Object(a.d)(t,s.Label,s.weightBold,s.bold),i))}function H1Xl(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h1";return r.createElement(o,_extends({},Object(a.d)(t,s.H1Xl,s.weightNormal,s.fontHeadline),i))}function H1BoldXl(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h1";return r.createElement(o,_extends({},Object(a.d)(t,s.H1Xl,s.weightBold,s.bold),i))}function H2Bold(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h2";return r.createElement(o,_extends({},Object(a.d)(t,s.H2,s.weightBold,s.bold),i))}function H1Display(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h1";return r.createElement(o,_extends({},Object(a.d)(t,s.H1,s.weightNormal,s.fontDisplay),i))}function H1DisplayBoldXl(e){var t=e.rootClassName,n=e.tag,i=_objectWithoutProperties(e,["rootClassName","tag"]),o=n||"h1";return r.createElement(o,_extends({},Object(a.d)(t,s.H1Xl,s.weightBold,s.displayBold),i))}},mAIw:function(module,e,t){"use strict";t.r(e),t.d(e,"__extends",function(){return __extends}),t.d(e,"__assign",function(){return n}),t.d(e,"__rest",function(){return __rest}),t.d(e,"__decorate",function(){return __decorate}),t.d(e,"__param",function(){return __param}),t.d(e,"__metadata",function(){return __metadata}),t.d(e,"__awaiter",function(){return __awaiter}),t.d(e,"__generator",function(){return __generator}),t.d(e,"__exportStar",function(){return __exportStar}),t.d(e,"__values",function(){return __values}),t.d(e,"__read",function(){return __read}),t.d(e,"__spread",function(){return __spread}),t.d(e,"__spreadArrays",function(){return __spreadArrays}),t.d(e,"__await",function(){return __await}),t.d(e,"__asyncGenerator",function(){return __asyncGenerator}),t.d(e,"__asyncDelegator",function(){return __asyncDelegator}),t.d(e,"__asyncValues",function(){return __asyncValues}),t.d(e,"__makeTemplateObject",function(){return __makeTemplateObject}),t.d(e,"__importStar",function(){return __importStar}),t.d(e,"__importDefault",function(){return __importDefault});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var n=function(){return(n=Object.assign||function __assign(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function __decorate(e,t,r,n){var i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})}function __generator(e,t){var _={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(o){if(r)throw new TypeError("Generator is already executing.");for(;_;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return _.label++,{value:o[1],done:!1};case 5:_.label++,n=o[1],o=[0];continue;case 7:o=_.ops.pop(),_.trys.pop();continue;default:if(!(i=(i=_.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){_=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){_.label=o[1];break}if(6===o[0]&&_.label<i[1]){_.label=i[1],i=o;break}if(i&&_.label<i[2]){_.label=i[2],_.ops.push(o);break}i[2]&&_.ops.pop(),_.trys.pop();continue}o=t.call(e,_)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function __exportStar(e,exports){for(var t in e)exports.hasOwnProperty(t)||(exports[t]=e[t])}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(e){n[e]&&(i[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||resume(e,t)})})}function resume(e,t){try{step(n[e](t))}catch(e){settle(o[0][3],e)}}function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(o[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),o.shift(),o.length&&resume(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,r;return t={},verb("next"),verb("throw",function(e){throw e}),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=__values(e),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise(function(n,i){settle(n,i,(r=e[t](r)).done,r.value)})}}function settle(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}},meBd:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgThumbsUpFilled(e){var t=e.title,n=void 0===t?"Thumbs Up":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("path",{d:"M35.28 48H17.309c-6.31 0-11.705-4.816-12.55-11.2L2 20.159h7.614L23.237 0l.774.37c2.63 1.258 4.419 3.204 5.17 5.628.798 2.57.357 5.599-1.21 8.308l-1.662 2.98c-.42.847-.491 1.647-.17 2.152.304.482.993.72 1.903.72h8.481c1.237 0 4.366.264 6.705 2.703 1.999 2.083 2.925 5.203 2.752 9.272C45.583 41.417 37.702 48 35.28 48z"}))};(a=Object(i.pure)(a)).displayName="SvgThumbsUpFilled",e.a=a},ozDq:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgThumbsDownFilled(e){var t=e.title,n=void 0===t?"Thumbs Down":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("path",{d:"M23.2371525 48L9.61363815 27.8410739H2l2.76352765-16.672826C5.60373563 4.81551146 10.999384 0 17.3089079 0h17.9698983C37.7018704 0 45.5833 6.58341965 45.9795118 15.8674235c.1732182 4.068774-.7526034 7.1879686-2.7515816 9.2720719-2.3384461 2.4380826-5.4683204 2.7015785-6.7047402 2.7015785h-8.4618101c-.9357767-.0149149-1.6186946.2386377-1.9233197.7208849-.3205533.5051166-.2498723 1.3045532.1931283 2.1934789l1.6475643 2.9511538c1.5589641 2.6966069 1.9999737 5.725318 1.2025725 8.2956457-.7516078 2.4241621-2.5395385 4.3700543-5.1706638 5.6278742L23.2371525 48z"}))};(a=Object(i.pure)(a)).displayName="SvgThumbsDownFilled",e.a=a},"q/0M":function(module,e,t){"use strict";t.r(e),t.d(e,"LogLevel",function(){return n}),t.d(e,"Logger",function(){return a}),t.d(e,"setLogLevel",function(){return setLogLevel});
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r=[],n;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(n||(n={}));var i=n.INFO,o=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t<e.logLevel)return;var o=(new Date).toISOString();switch(t){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},a=function(){function Logger(e){this.name=e,this._logLevel=i,this._logHandler=o,r.push(this)}return Object.defineProperty(Logger.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Logger.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Logger.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.DEBUG].concat(e))},Logger.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.VERBOSE].concat(e))},Logger.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.INFO].concat(e))},Logger.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.WARN].concat(e))},Logger.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.ERROR].concat(e))},Logger}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function setLogLevel(e){r.forEach(function(t){t.logLevel=e})}},rlmp:function(module,exports,e){var t=e("DJUO"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},i=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},sDzi:function(module,exports){var e="auto",t={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function findDirectionSetting(e){if("string"!=typeof e)return!1;var r;return!!t[e.toLowerCase()]&&e.toLowerCase()}function findAlignSetting(e){if("string"!=typeof e)return!1;var t;return!!r[e.toLowerCase()]&&e.toLowerCase()}function extend(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function VTTCue(t,r,n){var i=this,o=/MSIE\s8\.0/.test(navigator.userAgent),a={};o?i=document.createElement("custom"):a.enumerable=!0,i.hasBeenReset=!1;var s="",l=!1,u=t,c=r,h=n,p=null,d="",f=!0,y="auto",v="start",m=50,g="middle",b=50,C="middle";if(Object.defineProperty(i,"id",extend({},a,{get:function(){return s},set:function(e){s=""+e}})),Object.defineProperty(i,"pauseOnExit",extend({},a,{get:function(){return l},set:function(e){l=!!e}})),Object.defineProperty(i,"startTime",extend({},a,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",extend({},a,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",extend({},a,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",extend({},a,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",extend({},a,{get:function(){return d},set:function(e){var t=findDirectionSetting(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",extend({},a,{get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",extend({},a,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",extend({},a,{get:function(){return v},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",extend({},a,{get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",extend({},a,{get:function(){return g},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",extend({},a,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",extend({},a,{get:function(){return C},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),i.displayState=void 0,o)return i}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},module.exports=VTTCue},sgWw:function(module,exports,e){
/**
 * videojs-mux
 * @version 2.4.1
 * @copyright 2018 Mux, Inc.
 * @license
 */
!function(){var t=!1,r,n,i,o;r=this,n=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){!function(){var t,r;t=0,r=function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){function a(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function i(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function r(e,t){var r=A(e)||p(e)?i(e.length,String):[],n=r.length,o=!!n;for(var a in e)!t&&!P.call(e,a)||o&&("length"==a||l(a,n))||r.push(a);return r}function n(e,t,r){var n=e[t];P.call(e,t)&&f(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function o(e){if(!c(e))return N(e);var t=[];for(var r in Object(e))P.call(e,r)&&"constructor"!=r&&t.push(r);return t}function s(e,t){return t=R(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=R(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=o,a(e,this,s)}}function u(e,t,r,i){r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(r[s],e[s],s,r,e):void 0;n(r,s,void 0===l?e[s]:l)}return r}function l(e,t){return!!(t=null==t?C:t)&&("number"==typeof e||w.test(e))&&e>-1&&e%1==0&&e<t}function d(e,t,r){if(!y(r))return!1;var n=typeof t;return!!("number"==n?h(r)&&l(t,r.length):"string"==n&&t in r)&&f(r[t],e)}function c(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function f(e,t){return e===t||e!=e&&t!=t}function p(e){return _(e)&&P.call(e,"callee")&&(!O.call(e,"callee")||x.call(e)==T)}function h(e){return null!=e&&m(e.length)&&!v(e)}function _(e){return b(e)&&h(e)}function v(e){var t=y(e)?x.call(e):"";return t==S||t==E}function m(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=C}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function g(e){return h(e)?r(e):o(e)}var C=9007199254740991,T="[object Arguments]",S="[object Function]",E="[object GeneratorFunction]",w=/^(?:0|[1-9]\d*)$/,k=Object.prototype,P=k.hasOwnProperty,x=k.toString,O=k.propertyIsEnumerable,N=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),R=Math.max,I=!O.call({valueOf:1},"valueOf"),A=Array.isArray,D=function(e){return s(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&d(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s)}return t})}(function(e,t){if(I||c(t)||h(t))return void u(t,g(t),e);for(var r in t)P.call(t,r)&&n(e,r,t[r])});e.exports=D},function(e,t,r){"use strict";function i(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e){return e&&e.__esModule?e:{default:e}}(r(18)),o=i.default.methodFactory;i.default.methodFactory=function(e,t,r){var n=o(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},i.default.setLevel(i.default.getLevel()),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostnameAndDomain=void 0;var n,i=function(e){return e&&e.__esModule?e:{default:e}}(r(7)),o=function(e){var t=i.default.createElement("a");t.href=e;var r=t.hostname,n=r.match(/[^\.]+\.[^\.]+$/),o=void 0;return n&&n.length&&(o=n[0]),[r,o]};t.extractHostnameAndDomain=o},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},i=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};t.generateUUID=n,t.generateShortID=i},function(e,t,r){(function(t){var n,i=void 0!==t?t:"undefined"!=typeof window?window:{},o=r(20);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=n}).call(t,r(5))},function(e,t,r){"use strict";function i(e){e=(e=e||"").match(/[^\r\n]+/g)||[];for(var t={},r=0;r<e.length;r++){var n=e[r].split(/\s*:\s*(.+)/);3===n.length&&(t[n[0]]=n[1])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var n=r(6),i=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,n.generateShortID)()),e.muxId):e},o=function(e){var t=void 0;return e&&void 0!==e.nodeName?e=i(t=e):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]};t.getMuxPlayerId=i,t.findMediaElement=o},function(e,t,r){"use strict";function i(){return"1"===(o.default.doNotTrack||o.default.navigator.doNotTrack||o.default.navigator.msDoNotTrack)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(40),i=r(41),o=r(14);e.exports={formats:o,parse:i,stringify:n}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t};t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,o){n.call(e,o)?e[o]&&"object"==typeof e[o]?e[o]=t.merge(e[o],r,i):e.push(r):e[o]=r}),e):Object.keys(r).reduce(function(e,o){var a=r[o];return n.call(e,o)?e[o]=t.merge(e[o],a,i):e[o]=a,e},o)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var o=t.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=t.charAt(n):o<128?r+=i[o]:o<2048?r+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?r+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(n)),r+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var u=s[l],c=a[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:a,prop:u}),r.push(c))}return o(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function n(e){var t={},r={};return Object.keys(e).forEach(function(n){var i=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var o=n.split("_"),a=o[0],l=h[a];l||(s.default.info("Data key word `"+o[0]+"` not expected in "+n),l=a+"_"),o.splice(1).forEach(function(e){"url"===e&&(i=!0),d[e]?l+=d[e]:(s.default.info("Data key word `"+e+"` not expected in "+n),l+="_"+e+"_")}),i?r[l]=e[n]:t[l]=e[n]}}),(0,u.default)(t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a,s=i(o(3)),l,u=i(o(0)),c,h=r({a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),p,d=r({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",cn:"config",co:"count",ce:"counter",cp:"complete",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(e,t,r){"use strict";e.exports=r(17).default},function(t,r,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a,s=i(n(2)),l=n(9),u,c=i(n(3)),h,p=i(n(10)),d,f=i(n(19)),y,_=i(n(48)),v,m=i(n(49)),g={},b=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?s.default.setTimeout(function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)},0):c.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?s.default.setTimeout(function(){t(e)},0):c.default.warn("`"+t+"` is invalid.")};b.loaded=Date.now(),b.VERSION="2.5.0",b.API_VERSION="2.0",b.PLAYER_TRACKED=!1,b.monitor=function(e,t){return(0,_.default)(b,e,t)},b.destroyMonitor=function(e){var t=(0,l.findMediaElement)(e),r,n=o(t,1)[0];n&&n.mux&&"function"==typeof n.mux.destroy?n.mux.destroy():c.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},b.addHLSJS=function(e,t){var r=(0,l.getMuxPlayerId)(e);g[r]?g[r].addHLSJS(t):c.default.error("A monitor for `"+r+"` has not been initialized.")},b.addDashJS=function(e,t){var r=(0,l.getMuxPlayerId)(e);g[r]?g[r].addDashJS(t):c.default.error("A monitor for `"+r+"` has not been initialized.")},b.removeHLSJS=function(e){var t=(0,l.getMuxPlayerId)(e);g[t]?g[t].removeHLSJS():c.default.error("A monitor for `"+t+"` has not been initialized.")},b.removeDashJS=function(e,t){var r=(0,l.getMuxPlayerId)(e);g[r]?g[r].removeDashJS(t):c.default.error("A monitor for `"+r+"` has not been initialized.")},b.init=function(e,t){var r=(0,l.getMuxPlayerId)(e);g[r]=new f.default(b,r,t)},b.emit=function(e,t,r){var n=(0,l.getMuxPlayerId)(e);g[n]?(g[n].emit(t,r),"destroy"===t&&delete g[n]):c.default.error("A monitor for `"+n+"` has not been initialized.")},(0,p.default)()&&c.default.info("The browser's Do Not Track flag is enabled - Mux beaconing may be disabled."),s.default.addEventListener("unload",function(){b.WINDOW_UNLOADING=!0},!1),b.checkDoNotTrack=p.default,b.log=c.default,b.utils=m.default,r.default=b},function(e,t,r){var n,i;!function(o,a){"use strict";void 0!==(i="function"==typeof(n=a)?n.call(t,r,t,e):n)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==l&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):s)}function a(e,t){for(var r=0;r<u.length;r++){var n=u[r];this[n]=r<e?s:this.methodFactory(n,e,t)}this.log=this.debug}function i(e,t,r){return function(){typeof console!==l&&(a.call(this,t,r),this[e].apply(this,arguments))}}function r(e,r,n){return t(e)||i.apply(this,arguments)}function n(e,t,i){function n(e){var t=(u[e]||"silent").toUpperCase();if(typeof window!==l){try{return void(window.localStorage[h]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(h)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==l){try{e=window.localStorage[h]}catch(e){}if(typeof e===l)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(h)+"=");r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,h="loglevel";e&&(h+=":"+e),c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=i||r,c.getLevel=function(){return s},c.setLevel=function(t,r){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==r&&n(t),a.call(c,t,e),typeof console===l&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var p=o();null==p&&(p=null==t?"WARN":t),c.setLevel(p,!1)}var s=function(){},l="undefined",u=["trace","debug","info","warn","error"],c=new n,h={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new n(e,c.getLevel(),c.methodFactory)),t};var p=typeof window!==l?window.log:void 0;return c.noConflict=function(){return typeof window!==l&&window.log===c&&(window.log=p),c},c})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o,a=i(r(3)),s,l=i(r(0)),u=r(6),c=r(4),h,p=i(r(2)),d,f=i(r(1)),_,y=i(r(21)),v=r(23),m=r(24),g,b=i(r(25)),C,T=i(r(26)),S,E=i(r(27)),w,k=i(r(28)),P,x=i(r(29)),O,N=i(r(30)),R,I=i(r(31)),A,D=i(r(32)),M,j=i(r(33)),L,F=i(r(34)),B,W=i(r(35)),H,V=i(r(36)),q,U=i(r(37)),Q,z=i(r(38)),$,G=i(r(47)),K=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],X=function(e,t,r){var n=this;this.DOM_CONTENT_LOADED_EVENT_END=p.default.performance&&p.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=p.default.performance&&p.default.performance.timing.navigationStart;var i={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,sampleRate:1,beaconDomain:"litix.io",disableCookies:!1,respectDoNotTrack:!0};this.mux=e,this.id=t,(r=(0,l.default)(i,r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),a.default.setLevel(r.debug?"debug":"warn"),this.getPlayheadTime=r.getPlayheadTime,this.getStateData=r.getStateData||function(){},this.getAdData=r.getAdData||function(){},this.minimumRebufferDuration=r.minimumRebufferDuration,this.sustainedRebufferThreshold=r.sustainedRebufferThreshold,this.playbackHeartbeatTime=r.playbackHeartbeatTime,this.playbackEventDispatcher=new z.default(e,r.data.env_key,r),this.data={player_instance_id:(0,u.generateShortID)(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,l.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)},this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,l.default)(this.data,t),this._initializeViewData();var r=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.one("play",r),this.one("adbreakstart",r)}),this.on("videochange",function(e,t){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",t)}),this.on("destroy",this.destroy);var o=this.destroy.bind(this);p.default.addEventListener("unload",o,!1),this.on("destroy",function(){p.default.removeEventListener("unload",o)}),this.on("playerready",function(e,t){(0,l.default)(this.data,t)}),K.forEach(function(e){n.on(e,function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),(0,l.default)(this.data,r),this._sanitizeData()}),n.on("after"+e,function(){this.send(e)})}),this.on("viewend",function(e,t){(0,l.default)(n.data,t)});var s=function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};this.one("playerready",s),E.default.apply(this),U.default.apply(this),F.default.apply(this),N.default.apply(this),T.default.apply(this),j.default.apply(this),k.default.apply(this),x.default.apply(this),W.default.apply(this),I.default.apply(this),D.default.apply(this),V.default.apply(this),G.default.apply(this),r.hlsjs&&this.addHLSJS(r),r.dashjs&&this.addDashJS(r),this.emit("viewinit",r.data)};(0,l.default)(X.prototype,b.default.prototype),(0,l.default)(X.prototype,N.default.prototype),(0,l.default)(X.prototype,F.default.prototype),(0,l.default)(X.prototype,T.default.prototype),(0,l.default)(X.prototype,k.default.prototype),(0,l.default)(X.prototype,x.default.prototype),(0,l.default)(X.prototype,W.default.prototype),(0,l.default)(X.prototype,I.default.prototype),(0,l.default)(X.prototype,D.default.prototype),X.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),p.default.clearTimeout(this._heartBeatTimeout))},X.prototype.send=function(e){var t=(0,l.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=(0,c.extractHostnameAndDomain)(t.video_source_url),i=n(r,2),o=i[0],a=i[1];t.video_source_domain=a,t.video_source_hostname=o}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},X.prototype._updateStateData=function(){(0,l.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},X.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach(function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r})},X.prototype._resetVideoData=function(e,t){var r=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete r.data[e]})},X.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1},X.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},X.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,u.generateUUID)();this.data.video_id||(this.data.video_id=(0,y.default)(this.data.player_source_url));var r=function(){t===e.data.view_id&&(0,f.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()},X.prototype._restartHeartBeat=function(){var e=this;p.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=p.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},X.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,v.monitorHLSJS)(this.mux,this.id,e.hlsjs,{},e.Hls||p.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},X.prototype.removeHLSJS=function(){this.hlsjs&&((0,v.stopMonitoringHLSJS)(this.id,this.hlsjs),this.hlsjs=void 0)},X.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,m.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},X.prototype.removeDashJS=function(){this.dashjs&&((0,m.stopMonitoringDashJS)(this.id,this.dashjs),this.dashjs=void 0)},t.default=X},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=a.default.createElement("a");t.href=e;var r=t.pathname.replace(/\.[^\/.]+$/,"");return l.default.encode(t.host+r).split("=")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o,a=i(n(7)),s,l=i(n(22))},function(e,t,r){(function(e,n){var i;!function(n){var o=("object"==typeof e&&e&&e.exports,function(e){this.message=e});o.prototype=new Error,o.prototype.name="InvalidCharacterError";var a=function(e){throw new o(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,u,c,h={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,i,o=e.length%3,l="",u=-1,c=e.length-o;++u<c;)t=e.charCodeAt(u)<<16,r=e.charCodeAt(++u)<<8,n=e.charCodeAt(++u),l+=s.charAt((i=t+r+n)>>18&63)+s.charAt(i>>12&63)+s.charAt(i>>6&63)+s.charAt(63&i);return 2==o?(t=e.charCodeAt(u)<<8,r=e.charCodeAt(++u),l+=s.charAt((i=t+r)>>10)+s.charAt(i>>4&63)+s.charAt(i<<2&63)+"="):1==o&&(i=e.charCodeAt(u),l+=s.charAt(i>>2)+s.charAt(i<<4&63)+"=="),l},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,o="",u=-1;++u<t;)n=s.indexOf(e.charAt(u)),r=i%4?64*r+n:n,i++%4&&(o+=String.fromCharCode(255&r>>(-2*i&6)));return o},version:"0.1.0"};void 0!==(i=function(){return h}.call(t,r,t,e))&&(e.exports=i)}()}).call(t,r(11)(e),r(5))},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){function i(r,n){try{var i=void 0,m=void 0,g=void 0,b=void 0,C=void 0,T=void 0,S=void 0,E=void 0,w=void 0,k=void 0,P=void 0,x=void 0,O=null,N=void 0;if(r!==s.Events.FRAG_BUFFERED&&n.networkDetails&&n.networkDetails.getAllResponseHeaders){_=n.networkDetails.getAllResponseHeaders(),w=n.networkDetails.responseURL;var R=(0,h.extractHostnameAndDomain)(w);x=a(R,1)[0]}else r===s.Events.FRAG_BUFFERED&&(_=y[n.frag.loadIdx][0],x=y[n.frag.loadIdx][1],delete y[n.frag.loadIdx]);if(r===s.Events.FRAG_LOADED)return void(y[n.frag.loadIdx]=[_,x]);p=o.currentLevel,S=o.levels,r===s.Events.MANIFEST_LOADED||r===s.Events.LEVEL_LOADED?(k="manifest",C=0,P=-1):(k="media",C=n.frag.duration,P=n.frag.startPTS),p>=0&&(E=S[p],d=void 0!==E.width?E.width:0,f=void 0!==E.height?E.height:0),r===s.Events.MANIFEST_LOADED&&(O={},S.forEach(function(e,t){O[t]={},O[t].width=void 0!==e.width?e.width:0,O[t].height=void 0!==e.height?e.height:0,O[t].bitrate=e.bitrate,O[t].attrs=e.attrs}),v.media=O),T=l.default.performance.timing.navigationStart,b=n.stats.total,N={request_event_type:r,request_start:i=T+n.stats.trequest,request_response_start:m=T+n.stats.tfirst,request_response_end:g=T+n.stats.tload,request_bytes_loaded:b,request_type:k,request_response_headers:(0,c.default)(_),request_hostname:x},"audio"!==k&&"video"!==k&&"media"!==k||(N.request_media_duration=C),-1!==p&&(N.request_current_level=p),-1!==P&&(N.request_media_start_time=P),"video"!==k&&"media"!==k||(N.request_video_width=d,N.request_video_height=f),null!==O&&(N.request_rendition_lists=v),e.emit(t,"requestcompleted",N)}catch(e){u.warn("hlsjs-monitor.js onHLSRequestLoaded() Exception",e)}}function r(r,n){var i=n.details;if(i===s.ErrorDetails.MANIFEST_LOAD_ERROR||i===s.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i===s.ErrorDetails.FRAG_LOAD_ERROR||i===s.ErrorDetails.FRAG_LOAD_TIMEOUT||i===s.ErrorDetails.LEVEL_LOAD_ERROR||i===s.ErrorDetails.LEVEL_LOAD_TIMEOUT)try{var o=void 0,a=void 0,l="",c=0,h="";switch(i){case s.ErrorDetails.MANIFEST_LOAD_ERROR:c=n.response.code,h=n.response.text,l=n.context.url;break;case s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:l=n.context.url;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:c=n.response.code,h=n.response.text,l=n.context.url;break;case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:l=n.context.url;break;case s.ErrorDetails.FRAG_LOAD_ERROR:c=n.response.code,h=n.response.text,l=n.frag.url;break;case s.ErrorDetails.FRAG_LOAD_TIMEOUT:l=n.frag.url}a=(o=l.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&o[3],e.emit(t,"requestfailed",{request_error:i,request_url:l,request_hostname:a,request_type:"media",request_error_code:c,request_error_text:h})}catch(e){u.warn("hlsjs-monitor.js onHLSRequestError() Exception",e)}}function n(r,n){try{var i=void 0,o=void 0,a=n.frag._url;o=(i=a.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&i[3],e.emit(t,"requestcanceled",{request_cancel:r,request_url:a,request_hostname:o,request_type:"media"})}catch(e){u.warn("hlsjs-monitor.js onHLSRequestCancel() Exception",e)}}var s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4]),u=e.log;if(!l.default.performance||!l.default.performance.timing)return void u.warn("window.performance.timing not supported. Not tracking HLS.js.");var p=-1,d=0,f=0,_="",y={},v={video:{},audio:{},media:{}};o._muxPluginData=o._muxPluginData||{},o._muxPluginData[t]={},o.on(s.Events.FRAG_LOADED,i),o.on(s.Events.FRAG_BUFFERED,i),o.on(s.Events.MANIFEST_LOADED,i),o.on(s.Events.LEVEL_LOADED,i),o.on(s.Events.ERROR,r),o.on(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,n),o._muxPluginData[t].stopMonitoring=function(){o.off(s.Events.FRAG_LOADED,i),o.off(s.Events.FRAG_BUFFERED,i),o.off(s.Events.MANIFEST_LOADED,i),o.off(s.Events.LEVEL_LOADED,i),o.off(s.Events.ERROR,r),o.off(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,n)}}function n(e,t){t&&t._muxPluginData&&t._muxPluginData[e]&&t._muxPluginData[e].stopMonitoring()}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHLSJS=t.monitorHLSJS=void 0;var a=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s,l=i(o(2)),u,c=i(o(8)),h=o(4);t.monitorHLSJS=r,t.stopMonitoringHLSJS=n},function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){function i(r){try{var i=void 0,l=void 0,m=void 0,g=void 0,b=void 0,C=void 0,T=void 0,S=void 0,E=void 0,w=void 0,k=void 0,P=void 0,x=void 0,O=void 0,N=void 0,R=void 0,I=void 0,A=void 0,D=void 0,M=null;"manifestLoaded"===(D=r.type)?(M={},A="",R=NaN):(M=r.chunk.mediaInfo.bitrateList,A=r.chunk.mediaInfo.type,R=r.chunk.start),s="video"===A?n.getQualityFor("video"):n.getQualityFor("audio"),"manifestLoaded"===D||v&&y||(f={},M.forEach(function(e,t){f[t]={},f[t].width=void 0!==e.width?e.width:0,f[t].height=void 0!==e.height?e.height:0,f[t].bitrate=e.bandwidth,f[t].attrs={}}),"video"===A?(_.video=f,v=!0):(_.audio=f,y=!0)),"initFragmentLoaded"===D?"video"===A?(N="video_init",O=M[s]):"audio"===A?(N="audio_init",O=M[0]):(N="media",O=M[s]):"mediaFragmentLoaded"===D?"video"===A?(N="video",O=M[s]):"audio"===A?(N="audio",O=M[0]):(N="media",O=M[s]):"manifestLoaded"===D&&(N="manifest",O={}),u=O.width,p=O.height,d=O.bandwidth,"manifestLoaded"===D?(T=r.data.url,g=0,i=0,l=0,m=0,S=0,P=""):(T=(C=(b=r.fragmentModel.getRequests({state:"executed"}))[b.length-1]).url,E=C.mediaType,g=C.bytesLoaded,i=new Date(C.requestStartDate).getTime(),l=new Date(C.firstByteDate).getTime(),m=new Date(C.requestEndDate).getTime(),S=Number.isNaN(C.duration)?0:C.duration,P=(k=(w=n.getMetricsFor(E).HttpList)[w.length-1])._responseHeaders);var j=(0,h.extractHostnameAndDomain)(T);I=a(j,1)[0],"manifestLoaded"!==D&&"initFragmentLoaded"!==D||(g=-1),x={request_event_type:D,request_start:i,request_response_start:l,request_response_end:m,request_bytes_loaded:g,request_type:N,request_response_headers:(0,c.default)(P),request_hostname:I},"audio"!==N&&"video"!==N&&"media"!==N||(x.request_media_duration=S),isNaN(R)||(x.request_media_start_time=R),void 0!==d&&(x.request_labeled_bitrate=d),-1!==s&&(x.request_current_level=s),"video"!==N&&"media"!==N||(x.request_video_width=u,x.request_video_height=p),null!==f&&(x.request_rendition_lists=_),e.emit(t,"requestcompleted",x)}catch(e){o.warn("dashjs-monitor.js onDASHRequestLoaded() Exception: ",e)}}function r(r){var n=l.default.event;try{var i=void 0,a=void 0,s=r.error+"_"+r.event.id+"_"+r.event.request.type,u=r.event.url,c=r.event.request.mediaType,h=n.currentTarget.status,p=n.currentTarget.statusText;a=(i=u.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&i[3],e.emit(t,"requestfailed",{request_error:s,request_url:u,request_hostname:a,request_type:c,request_error_code:h,request_error_text:p})}catch(e){o.warn("dashjs-monitor.js onDASHRequestError() Exception: ",e)}}var o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.log);if(!n||!n.on)return void o.warn("Invalid dash.js player reference. Monitoring blocked.");var s=-1,u=0,p=0,d=0,f=null,_={video:{},audio:{},media:{}},y=!1,v=!1;n._muxPluginData=n._muxPluginData||{},n._muxPluginData[t]={},n.on("mediaFragmentLoaded",i),n.on("initFragmentLoaded",i),n.on("manifestLoaded",i),n.on("error",r),n._muxPluginData[t].stopMonitoring=function(){n.off("mediaFragmentLoaded",i),n.off("initFragmentLoaded",i),n.off("manifestLoaded",i),n.off("error",r)}}function n(e,t){t&&t._muxPluginData&&t._muxPluginData[e]&&t._muxPluginData[e].stopMonitoring()}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var a=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s,l=i(o(2)),u,c=i(o(8)),h=o(4);t.monitorDashJS=r,t.stopMonitoringDashJS=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},i=0;n.prototype.on=function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t},n.prototype.off=function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)})},n.prototype.one=function(e,t,n){var o=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var a=function r(){o.off(e,r),t.apply(n||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)},n.prototype.emit=function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],i=this._listeners[e]||[],o=this._listeners["after"+e]||[],a=function(t,n){(t=t.slice()).forEach(function(t){t.call(r,{type:e},n)})};a(n,t),a(i,t),a(o,t)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e){return e&&e.__esModule?e:{default:e}}(r(2)),o=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(i.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};o.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=i.default.setInterval(function(){e.emit("playbackheartbeat")},this.playbackHeartbeatTime))},o.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(i.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=o},function(e,t,r){"use strict";function i(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){e.viewErrored=!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),o=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};o.prototype._updateWatchTime=function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),(0,i.default)(this.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r},o.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),o=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};o.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,i.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},o.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};n.prototype._updatePlayheadTime=function(e,t){if(t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time;else if(this.getPlayheadTime){var r=this.getPlayheadTime();void 0!==r&&(this.data.player_playhead_time=r)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),o=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};o.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)return void this._cleanupRebufferTracker(e,t);if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime!==this.data.player_playhead_time)return void this._cleanupRebufferTracker(e,t,!0);var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;r>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,i.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(r),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time},o.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},o.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},o.prototype._cleanupRebufferTracker=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var n=this.data.player_playhead_time-this._lastPlayheadTime,o=t.viewer_time-this._lastPlayheadTimeUpdatedTime;n>0&&o-n>this.minimumRebufferDuration?((0,i.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(o-n),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+o-n})):this._updateRebufferMetrics()}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},o.prototype._updateRebufferMetrics=function(e){e>0&&(0,i.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("viewinit",function(){var e,t=this.data.view_id,r=function(e,r){var n=r.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(n||Date.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(n||Date.now(),t)};this.one("playing",r),this.one("adplaying",r),this.one("viewend",function(){this.off("playing",r),this.off("adplaying",r)})})};n.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=n},function(e,t,r){"use strict";function i(){var e=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1});var t,r=["playing","hb"];["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(t){e.on(t,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),r=Math.max(0,t-1),n=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,r),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,n),(0,o.default)(this.data,"view_total_content_playback_time",e),(0,o.default)(this.data,"view_total_upscaling",r*e),(0,o.default)(this.data,"view_total_downscaling",n*e)}this._lastPlayheadPosition=-1})}),r.forEach(function(t){e.on(t,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,l.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,a.default)(this.data,"view_seek_count",1),(0,a.default)(this.data,"view_seek_duration",t);var r=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(r,t)}),this.on("viewend",function(){this.isSeeking=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o,a=i(n(1)),s,l=i(n(0))},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o,a=i(r(1)),s=r(4),l,u=i(r(0)),c=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},h=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],p=function(){var e=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),h.forEach(function(t){return e.on(t,e._updateAdData)});var t=function(){e.isAdBreak=!1};this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",function(e,t){t=(0,u.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),c(this._adRequests,t),(0,a.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,a.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(e,t){t=(0,u.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),c(this._adResponses,t);var r=this.findAdRequest(t.ad_request_id);r&&(0,a.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-r.viewer_time))}),this.on("adplay",function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,a.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)}),this.on("adplaying",function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};p.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},p.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},p.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=(0,s.extractHostnameAndDomain)(t.ad_tag_url),i=n(r,2),o=i[0],a=i[1];this.data.view_preroll_ad_tag_domain=a,this.data.view_preroll_ad_tag_hostname=o}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var l=(0,s.extractHostnameAndDomain)(t.ad_asset_url),u=n(l,2),c=u[0],h=u[1];this.data.view_preroll_ad_asset_domain=h,this.data.view_preroll_ad_asset_hostname=c}}},t.default=p},function(e,t,r){"use strict";function i(){var e=this,t=void 0,r=void 0,n=function(){(0,o.default)(e.data,"view_waiting_rebuffer_count",1),t=Date.now(),r=window.setInterval(function(){if(t){var r=Date.now();(0,o.default)(e.data,"view_waiting_rebuffer_duration",r-t),t=r}},250)},i=function(){t&&((0,o.default)(e.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(r))},a=!1,s=function(){a=!0},l=function(){a=!1,i()};this.on("waiting",function(){a&&n()}),this.on("playing",function(){i(),s()}),this.on("pause",l),this.on("seeking",l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";function i(){var e=this;this.one("playbackheartbeat",a),this.on("playbackheartbeatend",function(){e.off("before*",s),e.one("playbackheartbeat",a)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),a=function(){this.lastWallClockTime=Date.now(),this.on("before*",s)},s=function(e){var t=Date.now(),r=this.lastWallClockTime;this.lastWallClockTime=t,t-r>3e4&&(this.emit("devicesleep",{viewer_time:r}),(0,o.default)(this.data,{viewer_time:r}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,o.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(39),a,s=i(r(3)),l,u=i(r(43)),c,h=i(r(10)),p,d=i(r(15)),f,_=i(r(44)),y,v=i(r(46)),m,g=i(r(0)),b=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id"],C=["viewstart","error","ended","viewend"],T=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=e,this.envKey=t,this.eventQueue=new _.default((0,u.default)(t,r.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=r.sampleRate,this.disableCookies=r.disableCookies,this.respectDoNotTrack=r.respectDoNotTrack,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:v.default.name,viewer_application_version:v.default.version,viewer_application_engine:v.default.layout,viewer_device_name:v.default.product,viewer_device_category:"",viewer_device_manufacturer:v.default.manufacturer,viewer_os_family:v.default.os&&v.default.os.family,viewer_os_architecture:v.default.os&&v.default.os.architecture,viewer_os_version:v.default.os&&v.default.os.version},this.viewerData=this.disableCookies?{}:(0,o.getAndUpdateViewerData)()};T.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,h.default)())return s.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":n(t)))return s.default.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:(0,o.getAndUpdateSessionData)(),i={};(0,g.default)(i,this.pageLevelData),(0,g.default)(i,t),(0,g.default)(i,r),(0,g.default)(i,this.viewerData),i.event=e,i.env_key=this.envKey,i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var a=i.mux_sample_number>=this.sampleRate,l=this._deduplicateBeaconData(e,i),u=(0,d.default)(l);if(this.lastEventTime=Date.now(),a)return s.default.info("Not sending event due to sample rate restriction",e,i,u);if(!this.envKey)return s.default.info("Not sending event due to missing environment key",e,i,u);if(!this.rateLimited)if(s.default.info("Sending event",e,i,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(C.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return i.event="eventrateexceeded",u=(0,d.default)(i),this.eventQueue.queueEvent(i.event,u),s.default.error("Beaconing disabled due to rate limit.")}},T.prototype.destroy=function(){this.eventQueue.destroy(!1)};var S=function(e,t,r,i){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===r?"undefined":n(r))&&"object"===(void 0===i?"undefined":n(i))&&Object.keys(r||{}).length===Object.keys(i||{}).length)};T.prototype._deduplicateBeaconData=function(e,t){var r=this,n={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5)n=(0,g.default)({},t),i&&(this.previousBeaconData=n),i&&"viewend"===e&&(this.previousBeaconData=null);else{var o=0===e.indexOf("request");Object.keys(t).forEach(function(e){var i=t[e];(i!==r.previousBeaconData[e]||b.indexOf(e)>-1||S(o,e,i,r.previousBeaconData[e]))&&(n[e]=i,r.previousBeaconData[e]=i)})}return n},t.default=T},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var n,o=i(r(12)),a,s=i(r(42)),l=r(6),u=function(){var e=void 0;try{e=o.default.parse(s.default.get("muxData")||"")}catch(t){e={}}return e},c=function(e){s.default.set("muxData",o.default.stringify(e),{expires:7300})},h=function(){var e=u();return e.mux_viewer_id=e.mux_viewer_id||(0,l.generateUUID)(),e.msn=e.msn||Math.random(),c(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},p=function(){var e=u(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,l.generateUUID)(),e.sst=t),e.sex=t+15e5,c(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}};t.getAndUpdateViewerData=h,t.getAndUpdateSessionData=p},function(t,r,n){"use strict";var i=n(13),o=n(14),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,n,o,a,s,u,c,h,p,d,f){var _=t;if("function"==typeof u)_=u(r,_);else if(_ instanceof Date)_=p(_);else if(null===_){if(o)return s&&!f?s(r,l.encoder):r;_=""}if("string"==typeof _||"number"==typeof _||"boolean"==typeof _||i.isBuffer(_))return s?[d(f?r:s(r,l.encoder))+"="+d(s(_,l.encoder))]:[d(r)+"="+d(String(_))];var y=[],v;if(void 0===_)return y;if(Array.isArray(u))v=u;else{var m=Object.keys(_);v=c?m.sort(c):m}for(var g=0;g<v.length;++g){var b=v[g];a&&null===_[b]||(y=Array.isArray(_)?y.concat(e(_[b],n(r,b),n,o,a,s,u,c,h,p,d,f)):y.concat(e(_[b],r+(h?"."+b:"["+b+"]"),n,o,a,s,u,c,h,p,d,f)))}return y};t.exports=function(e,t){var r=e,n=t?i.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===n.delimiter?l.delimiter:n.delimiter,c="boolean"==typeof n.strictNullHandling?n.strictNullHandling:l.strictNullHandling,h="boolean"==typeof n.skipNulls?n.skipNulls:l.skipNulls,p="boolean"==typeof n.encode?n.encode:l.encode,d="function"==typeof n.encoder?n.encoder:l.encoder,f="function"==typeof n.sort?n.sort:null,_=void 0!==n.allowDots&&n.allowDots,y="function"==typeof n.serializeDate?n.serializeDate:l.serializeDate,v="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:l.encodeValuesOnly;if(void 0===n.format)n.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,n.format))throw new TypeError("Unknown format option provided.");var m,g,b=o.formatters[n.format];"function"==typeof n.filter?r=(g=n.filter)("",r):Array.isArray(n.filter)&&(m=g=n.filter);var C=[],T;if("object"!=typeof r||null===r)return"";T=n.arrayFormat in a?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var S=a[T];m||(m=Object.keys(r)),f&&m.sort(f);for(var E=0;E<m.length;++E){var w=m[E];h&&null===r[w]||(C=C.concat(u(r[w],w,S,c,h,p?d:null,g,f,_,y,b,v)))}var k=C.join(s),P=!0===n.addQueryPrefix?"?":"";return k.length>0?P+k:""}},function(e,t,r){"use strict";var n=r(13),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,a),l=0;l<s.length;++l){var u,c,h=s[l],p=h.indexOf("]="),d=-1===p?h.indexOf("="):p+1;-1===d?(u=t.decoder(h,o.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(h.slice(0,d),o.decoder),c=t.decoder(h.slice(d+1),o.decoder)),i.call(r,u)?r[u]=[].concat(r[u]).concat(c):r[u]=c}return r},s=function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=(o=[]).concat(n);else{o=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(s,10);!isNaN(l)&&a!==s&&String(l)===s&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[])[l]=n:o[s]=n}n=o}return n},l=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o,a=/(\[[^[\]]*])/g,l=/(\[[^[\]]*])/.exec(n),u=l?n.slice(0,l.index):n,c=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var h=0;null!==(l=a.exec(n))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+n.slice(l.index)+"]"),s(c,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?a(e,r):e,s=r.plainObjects?Object.create(null):{},u=Object.keys(i),c=0;c<u.length;++c){var h=u[c],p=l(h,i[h],r);s=n.merge(s,p,r)}return n.compact(s)}},function(e,t,r){"use strict";var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){var s=!1;if(void 0!==(i="function"==typeof(n=a)?n.call(t,r,t,e):n)&&(e.exports=i),s=!0,"object"===o(t)&&(e.exports=a(),s=!0),!s){var l=window.Cookies,u=window.Cookies=a();u.noConflict=function(){return window.Cookies=l,u}}}(function(){function e(r){function i(e,n,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},i.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(n),/^[\{\[]/.test(a)&&(n=a)}catch(e){}return n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",n,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var h=l[c].split("="),p=h.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var d=h[0].replace(u,decodeURIComponent);if(p=r.read?r.read(p,d):r(p,d)||p.replace(u,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(e===d){a=p;break}e||(a[d]=p)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,r){i(e,"",t(r,{expires:-1}))},i.withConverter=e,i}var t=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return e(function(){})})},function(e,t,r){"use strict";function i(e,t){return e=e||"",t=t||"litix.io",e.match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(r(2)),a,s=i(r(3)),l,u=i(r(45)),c,h=i(r(0)),p,d=i(r(15)),f=!!o.default.XMLHttpRequest&&"withCredentials"in new o.default.XMLHttpRequest,_={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},y=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,h.default)({},_,t)};y.prototype.queueEvent=function(e,t){var r=(0,h.default)({},t);return f?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(u.default.send(this._beaconUrl,r),!0)},y.prototype.flushEvents=function(){f&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},y.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),o.default.clearTimeout(this._sendTimeout)},y.prototype._clearBeaconQueue=function(){var e=o.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,r=this._eventQueue.slice(t);if(t>0&&(0,h.default)(r[r.length-1],(0,d.default)({mux_view_message:"event queue truncated"})),e.sendBeacon)e.sendBeacon(this._beaconUrl,JSON.stringify({events:r}));else if(o.default.XMLHttpRequest){var n=new o.default.XMLHttpRequest;n.open("POST",this._beaconUrl),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({events:r}))}else u.default.send(this._beaconUrl,r[r.length-1])},y.prototype._sendBeaconQueue=function(){var e=this;if(o.default.XMLHttpRequest&&!this._postInFlight){var t=new o.default.XMLHttpRequest,r=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=r.concat(e._eventQueue),e._failureCount+=1,s.default.info("Error sending beacon: "+t.status),s.default.info(t.responseText)):e._failureCount=0,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({events:r}))}},y.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},y.prototype._startBeaconSending=function(){var e=this;o.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=o.default.setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},t.default=y},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(r(12)),s,l=i(r(2)),u={send:function(e,t){function a(){r.src=i+(n?"&rc="+n:"")}var r=new Image,n=0,i=e+"?"+o.default.stringify(t);return r.addEventListener("error",function(){n>3||l.default.setTimeout(function(){n++,a()},5e3*n)}),a(),r}};t.default=u},function(e,t,r){(function(e,i){var a;(function(){"use strict";function n(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function o(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function s(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=T)for(;++r<n;)t(e[r],r,e);else l(e,t)}function u(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:n(e)}function l(e,t){for(var r in e)k.call(e,r)&&t(e[r],r,e)}function d(e){return null==e?n(e):P.call(e).slice(8,-1)}function c(e,t){var r=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(r)||"object"==r&&!e[t])}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var r=null;return s(e,function(n,i){r=t(r,n,i,e)}),r}function h(e){return String(e).replace(/^ +| +$/g,"")}function _(e){function t(t){return p(t,function(t,r){var n=r.pattern||f(r);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=u(t[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function a(){return this.description||""}var r=v,n=e&&"object"==typeof e&&"String"!=d(e);n&&(r=e,e=null);var i=r.navigator||{},s=i.userAgent||"";e||(e=s);var y,g,b=n||E==m,C=n?!!i.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(P.toString()),T=n?"Object":"ScriptBridgingProxyObject",w=n?"Object":"Environment",k=n&&r.java?"JavaPackage":d(r.java),x=n?"Object":"RuntimeObject",O=/\bJava/.test(k)&&r.java,N=O&&d(r.environment)==w,R=O?"a":"α",I=O?"b":"β",A=r.document||{},D=r.operamini||r.opera,M=S.test(M=n&&D?D["[[Class]]"]:d(D))?M:D=null,j=e,L=[],F=null,B=e==s,W=B&&D&&"function"==typeof D.version&&D.version(),H=function(t){return p(t,function(t,r){return t||RegExp("\\b"+(r.pattern||f(r))+"\\b","i").exec(e)&&(r.label||r)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),V=function(t){return p(t,function(t,r){return t||RegExp("\\b"+(r.pattern||f(r))+"\\b","i").exec(e)&&(r.label||r)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),q=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),U=function(t){return p(t,function(t,r,n){return t||(r[q]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(q)]||RegExp("\\b"+f(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),Q=function(t){return p(t,function(t,r){var n=r.pattern||f(r);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,n,r.label||r)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(H&&(H=[H]),U&&!q&&(q=t([U])),(y=/\bGoogle TV\b/.exec(q))&&(q=y[0]),/\bSimulator\b/i.test(e)&&(q=(q?q+" ":"")+"Simulator"),"Opera Mini"==V&&/\bOPiOS\b/.test(e)&&L.push("running in Turbo/Uncompressed mode"),"IE"==V&&/\blike iPhone OS\b/.test(e)?(U=(y=_(e.replace(/like iPhone OS/,""))).manufacturer,q=y.product):/^iP/.test(q)?(V||(V="Safari"),Q="iOS"+((y=/ OS ([\d_]+)/i.exec(e))?" "+y[1].replace(/_/g,"."):"")):"Konqueror"!=V||/buntu/i.test(Q)?U&&"Google"!=U&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(q))||/\bAndroid\b/.test(Q)&&/^Chrome/.test(V)&&/\bVersion\//i.test(e)?(V="Android Browser",Q=/\bAndroid\b/.test(Q)?Q:"Android"):"Silk"==V?(/\bMobi/i.test(e)||(Q="Android",L.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&L.unshift("accelerated")):"PaleMoon"==V&&(y=/\bFirefox\/([\d.]+)\b/.exec(e))?L.push("identifying as Firefox "+y[1]):"Firefox"==V&&(y=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(Q||(Q="Firefox OS"),q||(q=y[1])):!V||(y=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(V))?(V&&!q&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(y+"/")+8))&&(V=null),(y=q||U||Q)&&(q||U||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Q))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Q)?Q:y)+" Browser")):"Electron"==V&&(y=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&L.push("Chromium "+y):Q="Kubuntu",W||(W=function(t){return p(t,function(t,r){return t||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",f(V),"(?:Firefox|Minefield|NetFront)"])),(y=("iCab"==H&&parseFloat(W)>3?"WebKit":/\bOpera\b/.test(V)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(H)&&"WebKit"||!H&&/\bMSIE\b/i.test(e)&&("Mac OS"==Q?"Tasman":"Trident")||"WebKit"==H&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&(H=[y]),"IE"==V&&(y=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(V+=" Mobile",Q="Windows Phone "+(/\+$/.test(y)?y:y+".x"),L.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(V="IE Mobile",Q="Windows Phone 8.x",L.unshift("desktop mode"),W||(W=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=V&&"Trident"==H&&(y=/\brv:([\d.]+)/.exec(e))&&(V&&L.push("identifying as "+V+(W?" "+W:"")),V="IE",W=y[1]),B){if(c(r,"global"))if(O&&(j=(y=O.lang.System).getProperty("os.arch"),Q=Q||y.getProperty("os.name")+" "+y.getProperty("os.version")),b&&c(r,"system")&&(y=[r.system])[0]){Q||(Q=y[0].os||null);try{y[1]=r.require("ringo/engine").version,W=y[1].join("."),V="RingoJS"}catch(e){y[0].global.system==r.system&&(V="Narwhal")}}else"object"==typeof r.process&&!r.process.browser&&(y=r.process)?"object"==typeof y.versions?"string"==typeof y.versions.electron?(L.push("Node "+y.versions.node),V="Electron",W=y.versions.electron):"string"==typeof y.versions.nw&&(L.push("Chromium "+W,"Node "+y.versions.node),V="NW.js",W=y.versions.nw):(V="Node.js",j=y.arch,Q=y.platform,W=(W=/[\d.]+/.exec(y.version))?W[0]:"unknown"):N&&(V="Rhino");else d(y=r.runtime)==T?(V="Adobe AIR",Q=y.flash.system.Capabilities.os):d(y=r.phantom)==x?(V="PhantomJS",W=(y=y.version||null)&&y.major+"."+y.minor+"."+y.patch):"number"==typeof A.documentMode&&(y=/\bTrident\/(\d+)/i.exec(e))?(W=[W,A.documentMode],(y=+y[1]+4)!=W[1]&&(L.push("IE "+W[1]+" mode"),H&&(H[1]=""),W[1]=y),W="IE"==V?String(W[1].toFixed(1)):W[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(V)&&(L.push("masking as "+V+" "+W),V="IE",W="11.0",H=["Trident"],Q="Windows");Q=Q&&u(Q)}if(W&&(y=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(W)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(B&&i.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(F=/b/i.test(y)?"beta":"alpha",W=W.replace(RegExp(y+"\\+?$"),"")+("beta"==F?I:R)+(/\d+\+?/.exec(y)||"")),"Fennec"==V||"Firefox"==V&&/\b(?:Android|Firefox OS)\b/.test(Q))V="Firefox Mobile";else if("Maxthon"==V&&W)W=W.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(q))"Xbox 360"==q&&(Q=null),"Xbox 360"==q&&/\bIEMobile\b/.test(e)&&L.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(V)&&(!V||q||/Browser|Mobi/.test(V))||"Windows CE"!=Q&&!/Mobi/i.test(e))if("IE"==V&&B)try{null===r.external&&L.unshift("platform preview")}catch(e){L.unshift("embedded")}else(/\bBlackBerry\b/.test(q)||/\bBB10\b/.test(e))&&(y=(RegExp(q.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||W)?(Q=((y=[y,/BB10/.test(e)])[1]?(q=null,U="BlackBerry"):"Device Software")+" "+y[0],W=null):this!=l&&"Wii"!=q&&(B&&D||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==V&&/\bOS X (?:\d+\.){2,}/.test(Q)||"IE"==V&&(Q&&!/^Win/.test(Q)&&W>5.5||/\bWindows XP\b/.test(Q)&&W>8||8==W&&!/\bTrident\b/.test(e)))&&!S.test(y=_.call(l,e.replace(S,"")+";"))&&y.name&&(y="ing as "+y.name+((y=y.version)?" "+y:""),S.test(V)?(/\bIE\b/.test(y)&&"Mac OS"==Q&&(Q=null),y="identify"+y):(y="mask"+y,V=M?u(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(y)&&(Q=null),B||(W=null)),H=["Presto"],L.push(y));else V+=" Mobile";(y=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(y=[parseFloat(y.replace(/\.(\d)$/,".0$1")),y],"Safari"==V&&"+"==y[1].slice(-1)?(V="WebKit Nightly",F="alpha",W=y[1].slice(0,-1)):W!=y[1]&&W!=(y[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(W=null),y[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==y[0]&&537.36==y[2]&&parseFloat(y[1])>=28&&"WebKit"==H&&(H=["Blink"]),B&&(C||y[1])?(H&&(H[1]="like Chrome"),y=y[1]||((y=y[0])<530?1:y<532?2:y<532.05?3:y<533?4:y<534.03?5:y<534.07?6:y<534.1?7:y<534.13?8:y<534.16?9:y<534.24?10:y<534.3?11:y<535.01?12:y<535.02?"13+":y<535.07?15:y<535.11?16:y<535.19?17:y<536.05?18:y<536.1?19:y<537.01?20:y<537.11?"21+":y<537.13?23:y<537.18?24:y<537.24?25:y<537.36?26:"Blink"!=H?"27":"28")):(H&&(H[1]="like Safari"),y=(y=y[0])<400?1:y<500?2:y<526?3:y<533?4:y<534?"4+":y<535?5:y<537?6:y<538?7:y<601?8:"8"),H&&(H[1]+=" "+(y+="number"==typeof y?".x":/[.+]/.test(y)?"":"+")),"Safari"==V&&(!W||parseInt(W)>45)&&(W=y)),"Opera"==V&&(y=/\bzbov|zvav$/.exec(Q))?(V+=" ",L.unshift("desktop mode"),"zvav"==y?(V+="Mini",W=null):V+="Mobile",Q=Q.replace(RegExp(" *"+y+"$"),"")):"Safari"==V&&/\bChrome\b/.exec(H&&H[1])&&(L.unshift("desktop mode"),V="Chrome Mobile",W=null,/\bOS X\b/.test(Q)?(U="Apple",Q="iOS 4.3+"):Q=null),W&&0==W.indexOf(y=/[\d.]+$/.exec(Q))&&e.indexOf("/"+y+"-")>-1&&(Q=h(Q.replace(y,""))),H&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||"Safari"!=V&&/^iOS/.test(Q)&&/\bSafari\b/.test(H[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(V)&&H[1])&&(y=H[H.length-1])&&L.push(y),L.length&&(L=["("+L.join("; ")+")"]),U&&q&&q.indexOf(U)<0&&L.push("on "+U),q&&L.push((/^on /.test(L[L.length-1])?"":"on ")+q),Q&&(y=/ ([\d.+]+)$/.exec(Q),g=y&&"/"==Q.charAt(Q.length-y[0].length-1),Q={architecture:32,family:y&&!g?Q.replace(y[0],""):Q,version:y?y[1]:null,toString:function(){var e=this.version;return this.family+(e&&!g?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(y=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(j))&&!/\bi686\b/i.test(j)?(Q&&(Q.architecture=64,Q.family=Q.family.replace(RegExp(" *"+y),"")),V&&(/\bWOW64\b/i.test(e)||B&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(e))&&L.unshift("32-bit")):Q&&/^OS X/.test(Q.family)&&"Chrome"==V&&parseFloat(W)>=39&&(Q.architecture=64),e||(e=null);var z={};return z.description=e,z.layout=H&&H[0],z.manufacturer=U,z.name=V,z.prerelease=F,z.product=q,z.ua=e,z.version=V&&W,z.os=Q||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=_,z.toString=a,z.version&&L.unshift(W),z.name&&L.unshift(V),Q&&V&&(Q!=String(Q).split(" ")[0]||Q!=V.split(" ")[0]&&!q)&&L.push(q?"("+Q+")":"on "+Q),L.length&&(z.description=L.join(" ")),z}var y={function:!0,object:!0},v=y[typeof window]&&window||this,m=v,g=y[typeof t]&&t,b=y[typeof e]&&e&&!e.nodeType&&e,C=g&&b&&"object"==typeof i&&i;!C||C.global!==C&&C.window!==C&&C.self!==C||(v=C);var T=Math.pow(2,53)-1,S=/\bOpera/,E=this,w=Object.prototype,k=w.hasOwnProperty,P=w.toString,x=_();v.platform=x,void 0!==(a=function(){return x}.call(t,r,t,e))&&(e.exports=a)}).call(this)}).call(t,r(11)(e),r(5))},function(e,t,r){"use strict";function i(){function e(e,t){o++;var a=t.request_start,l=t.request_response_start,u=t.request_response_end,c=t.request_bytes_loaded,h=l-a,p=u-l;if(h>0&&p>0&&c>0){var d=c/p*8e3;s++,r+=h,n+=c,i+=p,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,d),this.data.view_average_request_throughput=n/i*8e3,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,h),this.data.view_average_request_latency=r/s}}function t(e,t){o++,l++}function a(e,t){o++,u++}var r=0,n=0,i=0,o=0,s=0,l=0,u=0;this.on("requestcompleted",e),this.on("requestfailed",t),this.on("requestcanceled",a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){"use strict";function i(e,t,r){var i=(0,s.findMediaElement)(t),o=n(i,3),c=o[0],h=o[1],p=o[2],d=e.log,f=e.utils.getComputedStyle,_=e.utils.secondsToMs;return c?"video"!==p&&"audio"!==p?d.error("The element of `"+h+"` was not a media element."):((r=r||{}).data=(0,a.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.5.0"},r.data),r.getPlayheadTime=function(){return _(c.currentTime)},r.getStateData=function(){return{player_is_paused:c.paused,player_playhead_time:_(c.currentTime),player_width:parseInt(f(c,"width")),player_height:parseInt(f(c,"height")),player_autoplay_on:c.autoplay,player_preload_on:c.preload,video_poster_url:c.poster,video_source_url:c.currentSrc,video_source_duration:_(c.duration),video_source_height:c.videoHeight,video_source_width:c.videoWidth}},c.mux=c.mux||{},c.mux.destroy=function(){Object.keys(c.mux.listeners).forEach(function(e){c.removeEventListener(e,c.mux.listeners[e],!1)}),delete c.mux.listeners,e.emit(h,"destroy")},c.mux.swapElement=function(t){var r=(0,s.findMediaElement)(t),i=n(r,3),o=i[0],l=i[1],u=i[2];return o?"video"!==u&&"audio"!==u?e.log.error("The element of `"+l+"` was not a media element."):(o.muxId=c.muxId,delete c.muxId,o.mux=o.mux||{},o.mux.listeners=(0,a.default)({},c.mux.listeners),delete c.mux.listeners,Object.keys(o.mux.listeners).forEach(function(e){c.removeEventListener(e,o.mux.listeners[e],!1),o.addEventListener(e,o.mux.listeners[e],!1)}),o.mux.swapElement=c.mux.swapElement,o.mux.destroy=c.mux.destroy,delete c.mux,void(c=o)):e.log.error("No element was found with the `"+l+"` query selector.")},c.mux.addHLSJS=function(t){e.addHLSJS(h,t)},c.mux.addDashJS=function(t){e.addDashJS(h,t)},c.mux.removeHLSJS=function(){e.removeHLSJS(h)},c.mux.removeDashJS=function(){e.removeDashJS(h)},e.init(h,r),e.emit(h,"playerready"),c.paused||(e.emit(h,"play"),c.readyState>2&&e.emit(h,"playing")),c.mux.listeners={},void l.forEach(function(t){c.mux.listeners[t]=function(){var r={};"error"===t&&(r.player_error_code=c.error&&c.error.code,r.player_error_message=c.error&&u[c.error.code]),e.emit(h,t,r)},c.addEventListener(t,c.mux.listeners[t],!1)})):d.error("No element was found with the `"+h+"` query selector.")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=i;var o,a=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),s=r(9),l=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],u={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,o=i(r(50)),a,s=i(r(1)),l,u=i(r(51)),c,h=i(r(52)),p,d=i(r(0)),f,_=i(r(8)),y=r(4),v={};v.safeCall=o.default,v.safeIncrement=s.default,v.getComputedStyle=u.default,v.secondsToMs=h.default,v.assign=d.default,v.headersStringToObject=_.default,v.extractHostnameAndDomain=y.extractHostnameAndDomain,t.default=v},function(e,t,r){"use strict";function i(e,t,r,n){var i=n;if(e&&"function"==typeof e[t])try{i=e[t].apply(e,r)}catch(e){o.default.info("safeCall error",e)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(3))},function(e,t,r){"use strict";function i(e,t){if(o.default.defaultView&&o.default.defaultView.getComputedStyle)return o.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(7))},function(e,t,r){"use strict";function i(e){return Math.floor(1e3*e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}])},e.exports=r()}()},function(e,t,r){"use strict";function i(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},l=!1;t.on("adstart",function(){l=!0}),t.on("adend",function(){l=!1}),t.on("adserror",function(){l=!1});var u=function(){var i=s(r.currentTime()),u=function a(){var e=Date.now(),n=s(r.currentTime());if(l){if(n>i){var u=o();u.viewer_time=e-Math.max(0,n-i),r.off("timeupdate",a),t.mux.emit("adplaying",u)}}else r.off("timeupdate",a)};r.on("timeupdate",u);var c=function e(){r.off("timeupdate",u),n.forEach(function(t){r.off(t,e)})};n.forEach(function(e){r.on(e,c)})};i.forEach(function(e){r.on(e,u)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o,s=function(e){return e&&e.__esModule?e:{default:e}}(r(0)).default.utils.secondsToMs},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(a.default.IS_IE8)return!1;var t=this,r=t.id();(e=e||{}).data=T({player_software_name:"Video.js",player_software_version:a.default.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"2.4.1"},e.data),e.getPlayheadTime=function(){return w(t.currentTime())},e.getStateData=function(){var e=S(t,"videoHeight"),r=S(t,"videoWidth");if(void 0===r||void 0===e){var n=t.el().firstChild;n&&"VIDEO"===n.nodeName.toUpperCase()&&(e=n.videoHeight,r=n.videoWidth)}return{player_is_paused:S(t,"paused"),player_is_fullscreen:S(t,"isFullscreen"),player_autoplay_on:!!S(t,"autoplay"),player_preload_on:S(t,"preload"),player_width:E(t.el(),"width"),player_height:E(t.el(),"height"),player_language_code:S(t,"language"),video_poster_url:S(t,"poster"),video_source_url:S(t,"currentSrc"),video_source_mime_type:S(t,"currentType"),video_source_duration:w(S(t,"duration")||0),video_source_height:e,video_source_width:r}},t.mux=function(){C.error("[videojs-mux] The plugin was initialized more than once.")},t.mux.emit=function(e,t){l.default.emit(r,e,t)},t.mux.log=C,t.mux.utils=l.default.utils,l.default.init(r,e);var n=!1,i=function(){n||t.mux.emit("playerready"),n=!0};t.ready(function(){t.addClass("vjs-mux"),c.default.setTimeout(i,0)});var o=!1;t.one("play",i),k.forEach(function(e){t.on(e,function(){if(!o){var r={};if("error"===e){var n=S(t,"error");r.player_error_code=n&&n.code,r.player_error_message=n&&n.message}t.mux.emit(e,r)}})});var s=!1;t.on("play",function(){s=!0}),t.on("pause",function(){s=!1}),t.on("adstart",function(){o=!0,s&&t.mux.emit("pause"),t.mux.emit("adbreakstart")}),t.on("adend",function(){t.mux.emit("adbreakend"),o=!1,S(t,"paused")||(t.mux.emit("play"),s=!0,t.onceux&&t.mux.emit("playing"))}),t.ima&&(0,p.default)(t),t.onceux&&(0,m.default)(t),t.ima3&&"function"==typeof t.ima3.ready&&(0,f.default)(t),t.FreeWheelPlugin&&t.FreeWheelPlugin.VERSION&&(0,y.default)(t),t.on("dispose",function(){t.mux.emit("destroy")})}Object.defineProperty(t,"__esModule",{value:!0});var o,a=i(n(3)),s,l=i(n(0)),u,c=i(n(4)),h,p=i(n(6)),d,f=i(n(7)),_,y=i(n(8)),v,m=i(n(9)),g,b=i(n(10)),C=l.default.log,T=l.default.utils.assign,S=l.default.utils.safeCall,E=l.default.utils.getComputedStyle,w=l.default.utils.secondsToMs,k=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];(a.default.registerPlugin||a.default.plugin||function(){l.default.log.error("No valid method to register videojs plugin available.")})("mux",r),(0,b.default)(a.default),t.default={}},function(t,r){t.exports=e},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(5))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function i(e){var t=function(t){var r="function"==typeof(t=t||{}).getAdData?t.getAdData():{},n="function"==typeof t.getAd?t.getAd():{},i="function"==typeof n.getMediaUrl?n.getMediaUrl():r.mediaUrl,o=e.ima.settings||{},a={};return i&&(a.ad_asset_url=i),o.adTagUrl&&(a.ad_tag_url=o.adTagUrl),a},r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;try{var l=window.google.ima.AdEvent.Type;r=l.LOADED,n=l.STARTED,i=l.COMPLETE,o=l.PAUSED,a=l.RESUMED,s=l.SKIPPED}catch(e){r="loaded",n="start",i="complete",o="pause",a="resume",s="skip"}var u=0;e.mux.triggerAdRequest=function(){u++,e.mux.emit("adrequest",t())},e.on("adsready",function(){var l=e.ima.addEventListener||function(){};l(r,function(r){var n=t(r);u>0&&(u--,e.mux.emit("adresponse",n)),e.mux.emit("adplay",n)}),l(n,function(r){var n=t(r);e.mux.emit("adplaying",n)}),l(a,function(r){var n=t(r);e.mux.emit("adplay",n),e.mux.emit("adplaying",n)}),l(o,function(r){var n=t(r);e.mux.emit("adpause",n)}),l(i,function(r){var n=t(r);e.mux.emit("adended",n)}),l(s,function(r){var n=t(r);e.mux.emit("adended",n)}),e.on("adserror",function(){u>0&&(u--,e.mux.emit("adresponse")),e.mux.emit("aderror")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e){if("string"!=typeof e)return!1;var t=e.split(".").map(function(e){return parseInt(e)}),r=t[0],n=t[1];return r>2||2===r&&n>=3}function r(e){var t=function(){var t=e.ima3.currentAd,r=e.ima3.settings,n={};return t&&(n.ad_asset_url=t.mediaUrl),r&&(n.ad_tag_url=r.serverUrl),n};if(i(e.ima3.version)){var r=0,n=function(){r>0&&(r--,e.mux.emit("adresponse",t()))};e.on("ads-request",function(){r++,e.mux.emit("adrequest",t())}),e.on("ads-load",function(){n(),e.mux.emit("adplay",t())}),e.on("adserror",function(){n(),e.mux.emit("aderror")}),e.on("ads-play",function(){e.mux.emit("adplay",t())}),e.on("ads-pause",function(){e.mux.emit("adpause",t())}),e.on("ads-ad-ended",function(){e.mux.emit("adended",t())})}e.ima3.ready(function(){if(e.ima3.adPlayer){i(e.ima3.version)||(e.ima3.adPlayer.on("play",function(){e.mux.emit("adplay")}),e.ima3.adPlayer.on("pause",function(){e.mux.emit("adpause")}),e.ima3.adPlayer.on("ended",function(){e.mux.emit("adended")}));var r=["pause","ended","adserror"],n=["play"];(0,a.default)(e,e.ima3.adPlayer,r,n,t)}else e.mux.log("Legacy IMA3 plugin found, ad events may not track correctly."),e.on("ads-ad-started",function(){e.mux.emit("adplaying",t())}),e.on("ads-play",function(){e.mux.emit("adplaying",t())})})}Object.defineProperty(t,"__esModule",{value:!0}),t.brightcoveImaAdsEventsSupported=i,t.default=r;var o,a=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},function(e,t,r){"use strict";function i(e){var t=function(t){var r=e.FreeWheelPlugin,n={};switch(t){case"adplay":case"adplaying":case"adpause":n.ad_asset_url=e.currentSrc()}return r&&(n.ad_tag_url="html5"===r.tech.toLowerCase()?r.settings.Html5.serverUrl:r.settings.Flash.serverUrl),n};e.on("ads-request",function(){e.mux.emit("adrequest",t("adrequest"))}),e.on("ads-load",function(){e.mux.emit("adresponse",t("adresponse"))}),e.on("adserror",function(){e.mux.emit("aderror")}),e.on("ads-ad-started",function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))}),e.on("ads-play",function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))}),e.on("ads-pause",function(){e.mux.emit("adpause",t("adpause"))}),e.on("ads-ad-ended",function(){e.mux.emit("adended",t("adended"))}),e.on("adend",function(){e.mux.emit("play")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,r){"use strict";function i(e){var t=["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],r=["adstart","onceux-linearad-resume"];(0,o.default)(e,e,t,r),e.on("adstart",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-start",function(t){t.linearAd&&t.linearAd.index>0&&(e.mux.emit("adplay"),e.mux.emit("adplaying"))}),e.on("onceux-linearad-resume",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-pause",function(){e.mux.emit("adpause")}),e.on("onceux-linearad-complete",function(){e.mux.emit("adended")}),e.on("onceux-linearad-skipped",function(){e.mux.emit("adended")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";function i(e){if(!a&&"function"==typeof e.getTech){for(var t,r=(e.getTech("Html5")||{}).sourceHandlers,n=0;n<r.length;n++)!function(t){var n=r[t],i=n.handleSource;n.handleSource=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i(t,r,n);return a&&"function"==typeof a.xhr&&(0,o.default)(e(a.player_.el_.parentNode.id),a.xhr),a}}(n);a=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(11)),a=!1},function(e,t,r){"use strict";function i(e,t){var r=function(t,r,n){var i=(0,o.default)(e,t,r);return function(){try{i()}catch(e){}try{n()}catch(e){}}},n=function(e){return function(t){var n=Date.now();try{e(t)}catch(e){}try{t.onreadystatechange=r(t,n,t.onreadystatechange||function(){})}catch(e){}}};t.beforeRequest=function(e){return function(t){var r=e(t);return r.beforeSend=n(r.beforeSend||function(){}),r}}(t.beforeRequest||function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,o=function(e){return e&&e.__esModule?e:{default:e}}(r(12))},function(e,t,r){"use strict";function i(e,t,r){var i=e.mux.utils.extractHostnameAndDomain,o=e.mux.utils.headersStringToObject,a=function(e){var t=e["content-type"];return t?t.match(/^audio\/mpegurl/i)?"manifest":t.match(/^audio.*/i)?"audio":t.match(/^video.*/)?"video":t.match(/^application\/x-mpegurl/i)?"manifest":t.match(/^application\/vnd.apple.mpegurl/i)?"manifest":t.match(/^application\/dash+xml/i)?"manifest":"unknown":"unknown"},s=0;return function(){var l=t.readyState;if(l>=2){if(s=s||Date.now(),4!==l)return;if(t.status>=200&&t.status<300){var u=Date.now(),c="arraybuffer"===t.responseType?t.response.byteLength:t.responseText.length,h=i(t.responseURL),p,d=n(h,1)[0],f=o(t.getAllResponseHeaders?t.getAllResponseHeaders():""),_=a(f),y={request_start:r,request_response_start:s,request_response_end:u,request_bytes_loaded:c,request_hostname:d,request_response_headers:f,request_type:_};e.mux.emit("requestcompleted",y)}else e.mux.emit("requestfailed")}}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=i}])},module.exports=n(e("PTN7"))}()},tUAO:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var a=function SvgThumbsDown(e){var t=e.title,n=void 0===t?"Thumbs Down":t,i=_objectWithoutProperties(e,["title"]);return r.createElement(o.a,_extends({title:n},i,{viewBox:"0 0 48 48"}),r.createElement("path",{d:"M4.358,26 L10.71,26 L24.005,45.696 C25.716,44.694 26.88,43.308 27.394,41.65 C28.03,39.596 27.652,37.13 26.357,34.886 L24.671,31.863 C23.876,30.264 23.842,28.785 24.556,27.656 C25.251,26.558 26.541,26 28.197,26 L36.679,26 C37.665,26 40.153,25.795 41.97,23.899 C43.587,22.213 44.33,19.569 44.18,16.042 C43.819,7.584 36.741,2.173 35.402,1.999 L17.378,2 C12.039,2 7.472,6.095 6.754,11.527 L4.358,26 Z M23.333,48.274 L9.648,28 L2,28 L4.776,11.232 C5.62,4.843 11.04,0 17.378,0 L35.429,0 C37.863,0 45.78,6.621 46.178,15.958 C46.352,20.05 45.422,23.187 43.414,25.283 C41.065,27.735 37.921,28 36.679,28 L28.179,28 C27.239,27.985 26.553,28.24 26.247,28.725 C25.925,29.233 25.996,30.037 26.441,30.931 L28.096,33.899 C29.662,36.611 30.105,39.657 29.304,42.242 C28.549,44.68 26.753,46.637 24.11,47.902 L23.333,48.274 Z"}))};(a=Object(i.pure)(a)).displayName="SvgThumbsDown",e.a=a},vWQi:function(module,e,t){"use strict";var r=t("sbe7"),n=t.n(r),i=t("17x9"),o=t.n(i),a=t("CsdX"),s=t("mrsT"),l=t.n(s);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var r=_objectWithoutPropertiesLoose(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){if(n=o[i],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++){if(i=n[o],t.indexOf(i)>=0)continue;r[i]=e[i]}return r}var u=function GradientWrapper(e){var t=e.gradient,n=t.start,i=t.end,o=t.deg,l=e.rootClassName,u=e.tag,c=_objectWithoutProperties(e,["gradient","rootClassName","tag"]);return r.createElement(u,_extends({},Object(a.d)(l,s.StyleSheet.create({gradientBg:{backgroundImage:"linear-gradient(".concat(o||90,"deg, ").concat(n,", ").concat(i,")")}}).gradientBg),c))};u.defaultProps={gradient:a.h.coursera,tag:"div"},u.propTypes={rootClassName:o.a.oneOfType([o.a.string,o.a.object]),gradient:o.a.shape({start:o.a.string.isRequired,end:o.a.string.isRequired,deg:o.a.number.isRequired}).isRequired,tag:o.a.oneOfType([o.a.func,o.a.string])},e.a=u},wj3C:function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=e("30Go"),r=e("zVF4"),n=e("q/0M"),i,o=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["duplicate-service"]="Firebase service named '{$appName}' already registered",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i),a=new r.ErrorFactory("app","Firebase",o),s="[DEFAULT]",l=[],u=function(){function FirebaseAppImpl(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){l=l.filter(function(t){return t!==e})}}}return Object.defineProperty(FirebaseAppImpl.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),FirebaseAppImpl.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],r=0,n=Object.keys(e.services_);r<n.length;r++)for(var i=n[r],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},FirebaseAppImpl.prototype._getService=function(e,t){if(void 0===t&&(t=s),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var r=t!==s?t:void 0,n=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),r);this.services_[e][t]=n}return this.services_[e][t]},FirebaseAppImpl.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=s),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},FirebaseAppImpl.prototype.extendApp=function(e){var t=this;r.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(l.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),l=[])},FirebaseAppImpl.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw a.create("app-deleted",{appName:this.name_})},FirebaseAppImpl}();u.prototype.name&&u.prototype.options||u.prototype.delete||console.log("dc");var c="6.3.4";
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(e){var t={},n={},i={},o={__esModule:!0,initializeApp:initializeApp,app:app,apps:null,SDK_VERSION:c,INTERNAL:{registerService:registerService,removeApp:removeApp,factories:n,useAsService:useAsService}};function removeApp(e){var r;callAppHooks(t[e],"delete"),delete t[e]}function app(e){if(e=e||s,!r.contains(t,e))throw a.create("no-app",{appName:e});return t[e]}function initializeApp(n,i){var l;(void 0===i&&(i={}),"object"!=typeof i||null===i)&&(i={name:i});var u=i;void 0===u.name&&(u.name=s);var c=u.name;if("string"!=typeof c||!c)throw a.create("bad-app-name",{appName:String(c)});if(r.contains(t,c))throw a.create("duplicate-app",{appName:c});var h=new e(n,u,o);return t[c]=h,callAppHooks(h,"create"),h}function getApps(){return Object.keys(t).map(function(e){return t[e]})}function registerService(t,s,l,u,c){if(void 0===c&&(c=!1),n[t])throw a.create("duplicate-service",{appName:t});function serviceNamespace(e){if(void 0===e&&(e=app()),"function"!=typeof e[t])throw a.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=s,u&&(i[t]=u,getApps().forEach(function(e){u("create",e)})),void 0!==l&&r.deepExtend(serviceNamespace,l),o[t]=serviceNamespace,e.prototype[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n;return this._getService.bind(this,t).apply(this,c?e:[])},serviceNamespace}function callAppHooks(e,t){for(var r=0,o=Object.keys(n);r<o.length;r++){var a,s=useAsService(e,o[r]);if(null===s)return;i[s]&&i[s](t,e)}}function useAsService(e,t){if("serverAuth"===t)return null;var r;return t}return o.default=o,Object.defineProperty(o,"apps",{get:getApps}),app.App=e,o}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespace(){var e=createFirebaseNamespaceCore(u);function extendNamespace(t){r.deepExtend(e,t)}return e.INTERNAL=t.__assign({},e.INTERNAL,{createFirebaseNamespace:createFirebaseNamespace,extendNamespace:extendNamespace,createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,deepExtend:r.deepExtend}),e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=new n.Logger("@firebase/app");if(r.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var d=createFirebaseNamespace(),f=d.initializeApp;d.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,e)};var y=d;exports.default=y,exports.firebase=y},yUnL:function(module,exports,e){"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=_interopDefault(e("wj3C"));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */module.exports=t},zVF4:function(module,exports,e){"use strict";(function(t){Object.defineProperty(exports,"__esModule",{value:!0});var r=e("+7AZ"),n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t},s=function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o,a,s,l=((7&i)<<18|(63&(o=e[r++]))<<12|(63&(a=e[r++]))<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(1023&l))}else{var o=e[r++],a=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,p=(15&s)<<2|u>>6,d=63&u;l||(d=64,a||(p=64)),n.push(r[c],r[h],r[p],r[d])}return n.join("")},encodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t)return btoa(e);return this.encodeByteArray(a(e),t)},decodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t)return atob(e);return s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],i=0;i<e.length;){var o=r[e.charAt(i++)],a,s=i<e.length?r[e.charAt(i)]:0,l,u=++i<e.length?r[e.charAt(i)]:64,c,h=++i<e.length?r[e.charAt(i)]:64;if(++i,null==o||null==s||null==u||null==h)throw Error();var p=o<<2|s>>4;if(n.push(p),64!==u){var d=s<<4&240|u>>2;if(n.push(d),64!==h){var f=u<<6&192|h;n.push(f)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return l.encodeByteArray(t,!0)},c=function(e){try{return l.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function deepCopy(e){return deepExtend(void 0,e)}function deepExtend(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var r;return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t){if(!t.hasOwnProperty(n))continue;e[n]=deepExtend(e[n],t[n])}return e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function Deferred(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})}return Deferred.prototype.wrapCallback=function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(r):e(r,n))}},Deferred}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function isBrowser(){return"object"==typeof self&&self.self===self}function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function isNodeSdk(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p="FirebaseError",d=function(e){function FirebaseError(t,r){var n=e.call(this,r)||this;return n.code=t,n.name=p,Object.setPrototypeOf(n,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,f.prototype.create),n}return r.__extends(FirebaseError,e),FirebaseError}(Error),f=function(){function ErrorFactory(e,t,r){this.service=e,this.serviceName=t,this.errors=r}return ErrorFactory.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?replaceTemplate(o,n):"Error",s=this.serviceName+": "+a+" ("+i+").",l=new d(i,s),u=0,c=Object.keys(n);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=n[h])}return l},ErrorFactory}();function replaceTemplate(e,t){return e.replace(y,function(_,e){var r=t[e];return null!=r?r.toString():"<"+e+"?>"})}var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(e){return JSON.parse(e)}function stringify(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v=function(e){var t={},r={},n={},i="";try{var o=e.split(".");t=jsonEval(c(o[0])||""),r=jsonEval(c(o[1])||""),i=o[2],n=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:n,signature:i}},m=function(e){var t=v(e).claims,r=Math.floor((new Date).getTime()/1e3),n=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?n=t.nbf:t.hasOwnProperty("iat")&&(n=t.iat),i=t.hasOwnProperty("exp")?t.exp:n+86400),!!r&&!!n&&!!i&&r>=n&&r<=i},g=function(e){var t=v(e).claims;if("object"==typeof t&&t.hasOwnProperty("iat"))return t.iat;return null},b=function(e){var t,r=v(e).claims;return!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},C=function(e){var t=v(e).claims;return"object"==typeof t&&!0===t.admin};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function safeGet(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function isEmpty(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function map(e,t,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t.call(r,e[i],i,e));return n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(e){for(var t=[],r=function(e,r){Array.isArray(r)?r.forEach(function(r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))},n=0,i=Object.entries(e);n<i.length;n++){var o=i[n],a,s;r(o[0],o[1])}return t.length?"&"+t.join("&"):""}function querystringDecode(e){var t={},r;return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var r=e.split("=");t[r[0]]=r[1]}}),t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T=function(){function Sha1(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return Sha1.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Sha1.prototype.compress_=function(e,t){t||(t=0);var r=this.W_;if("string"==typeof e)for(var n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(i<<1|i>>>31)}for(var o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],u=this.chain_[4],c,h,n=0;n<80;n++){n<40?n<20?(c=l^a&(s^l),h=1518500249):(c=a^s^l,h=1859775393):n<60?(c=a&s|l&(a|s),h=2400959708):(c=a^s^l,h=3395469782);var i=(o<<5|o>>>27)+c+u+h+r[n]&4294967295;u=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=i}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},Sha1.prototype.update=function(e,t){if(null==e)return;void 0===t&&(t=e.length);for(var r=t-this.blockSize,n=0,i=this.buf_,o=this.inbuf_;n<t;){if(0===o)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(i[o]=e.charCodeAt(n),++n,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;n<t;)if(i[o]=e[n],++n,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t},Sha1.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);for(var n=0,r=0;r<5;r++)for(var i=24;i>=0;i-=8)e[n]=this.chain_[r]>>i&255,++n;return e},Sha1}();function createSubscribe(e,t){var r=new S(e,t);return r.subscribe.bind(r)}var S=function(){function ObserverProxy(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(r)}).catch(function(e){r.error(e)})}return ObserverProxy.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},ObserverProxy.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},ObserverProxy.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},ObserverProxy.prototype.subscribe=function(e,t,r){var n=this,i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");void 0===(i=implementsAnyMethods(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(i.next=noop),void 0===i.error&&(i.error=noop),void 0===i.complete&&(i.complete=noop);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{n.finalError?i.error(n.finalError):i.complete()}catch(e){}return}),this.observers.push(i),o},ObserverProxy.prototype.unsubscribeOne=function(e){if(void 0===this.observers||void 0===this.observers[e])return;delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this)},ObserverProxy.prototype.forEachObserver=function(e){if(this.finalized)return;for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},ObserverProxy.prototype.sendOne=function(e,t){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},ObserverProxy.prototype.close=function(e){var t=this;if(this.finalized)return;this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0})},ObserverProxy}();function async(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Promise.resolve(!0).then(function(){e.apply(void 0,r)}).catch(function(e){t&&t(e)})}}function implementsAnyMethods(e,t){if("object"!=typeof e||null===e)return!1;for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i in e&&"function"==typeof e[i])return!0}return!1}function noop(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(e,t,r,n){var i,o;if(n<t?i="at least "+t:n>r&&(i=0===r?"none":"no more than "+r),i)throw new Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+i+".")};function errorPrefix(e,t,r){var n="";switch(t){case 1:n=r?"first":"First";break;case 2:n=r?"second":"Second";break;case 3:n=r?"third":"Third";break;case 4:n=r?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=n+" argument "}function validateNamespace(e,t,r,n){if(n&&!r)return;if("string"!=typeof r)throw new Error(errorPrefix(e,t,n)+"must be a valid firebase namespace.")}function validateCallback(e,t,r,n){if(n&&!r)return;if("function"!=typeof r)throw new Error(errorPrefix(e,t,n)+"must be a valid function.")}function validateContextObject(e,t,r,n){if(n&&!r)return;if("object"!=typeof r||null===r)throw new Error(errorPrefix(e,t,n)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);if(o>=55296&&o<=56319){var a=o-55296,s;i(++n<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(n)-56320)}o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):o<65536?(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t},k=function(e){for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};exports.CONSTANTS=n,exports.Deferred=h,exports.ErrorFactory=f,exports.FirebaseError=d,exports.Sha1=T,exports.assert=i,exports.assertionError=o,exports.async=async,exports.base64=l,exports.base64Decode=c,exports.base64Encode=u,exports.contains=contains,exports.createSubscribe=createSubscribe,exports.decode=v,exports.deepCopy=deepCopy,exports.deepExtend=deepExtend,exports.errorPrefix=errorPrefix,exports.getUA=getUA,exports.isAdmin=C,exports.isBrowser=isBrowser,exports.isEmpty=isEmpty,exports.isMobileCordova=isMobileCordova,exports.isNode=isNode,exports.isNodeSdk=isNodeSdk,exports.isReactNative=isReactNative,exports.isValidFormat=b,exports.isValidTimestamp=m,exports.issuedAtTime=g,exports.jsonEval=jsonEval,exports.map=map,exports.querystring=querystring,exports.querystringDecode=querystringDecode,exports.safeGet=safeGet,exports.stringLength=k,exports.stringToByteArray=w,exports.stringify=stringify,exports.validateArgCount=E,exports.validateCallback=validateCallback,exports.validateContextObject=validateContextObject,exports.validateNamespace=validateNamespace}).call(this,e("yLpj"))}}]);
//# sourceMappingURL=12.c0b0d211d59a0bae6bbd.js.map